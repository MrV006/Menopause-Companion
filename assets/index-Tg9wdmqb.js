(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tk={exports:{}},Fm={},nk={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=Symbol.for("react.element"),WV=Symbol.for("react.portal"),GV=Symbol.for("react.fragment"),KV=Symbol.for("react.strict_mode"),HV=Symbol.for("react.profiler"),QV=Symbol.for("react.provider"),YV=Symbol.for("react.context"),XV=Symbol.for("react.forward_ref"),JV=Symbol.for("react.suspense"),ZV=Symbol.for("react.memo"),e4=Symbol.for("react.lazy"),JE=Symbol.iterator;function t4(t){return t===null||typeof t!="object"?null:(t=JE&&t[JE]||t["@@iterator"],typeof t=="function"?t:null)}var rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ik=Object.assign,ok={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=ok,this.updater=n||rk}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ak(){}ak.prototype=Ul.prototype;function Q_(t,e,n){this.props=t,this.context=e,this.refs=ok,this.updater=n||rk}var Y_=Q_.prototype=new ak;Y_.constructor=Q_;ik(Y_,Ul.prototype);Y_.isPureReactComponent=!0;var ZE=Array.isArray,sk=Object.prototype.hasOwnProperty,X_={current:null},lk={key:!0,ref:!0,__self:!0,__source:!0};function uk(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)sk.call(e,r)&&!lk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Wf,type:t,key:o,ref:a,props:i,_owner:X_.current}}function n4(t,e){return{$$typeof:Wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wf}function r4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eT=/\/+/g;function ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r4(""+t.key):e.toString(36)}function bh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wf:case WV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ky(a,0):r,ZE(i)?(n="",t!=null&&(n=t.replace(eT,"$&/")+"/"),bh(i,e,n,"",function(u){return u})):i!=null&&(J_(i)&&(i=n4(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(eT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",ZE(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+ky(o,s);a+=bh(o,e,n,l,i)}else if(l=t4(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+ky(o,s++),a+=bh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Dd(t,e,n){if(t==null)return t;var r=[],i=0;return bh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function i4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},_h={transition:null},o4={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:_h,ReactCurrentOwner:X_};function ck(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!J_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Ul;Oe.Fragment=GV;Oe.Profiler=HV;Oe.PureComponent=Q_;Oe.StrictMode=KV;Oe.Suspense=JV;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o4;Oe.act=ck;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ik({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=X_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)sk.call(e,l)&&!lk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Wf,type:t.type,key:i,ref:o,props:r,_owner:a}};Oe.createContext=function(t){return t={$$typeof:YV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QV,_context:t},t.Consumer=t};Oe.createElement=uk;Oe.createFactory=function(t){var e=uk.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:XV,render:t}};Oe.isValidElement=J_;Oe.lazy=function(t){return{$$typeof:e4,_payload:{_status:-1,_result:t},_init:i4}};Oe.memo=function(t,e){return{$$typeof:ZV,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=_h.transition;_h.transition={};try{t()}finally{_h.transition=e}};Oe.unstable_act=ck;Oe.useCallback=function(t,e){return xn.current.useCallback(t,e)};Oe.useContext=function(t){return xn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return xn.current.useEffect(t,e)};Oe.useId=function(){return xn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return xn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Oe.useRef=function(t){return xn.current.useRef(t)};Oe.useState=function(t){return xn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return xn.current.useTransition()};Oe.version="18.3.1";nk.exports=Oe;var M=nk.exports;const D=Ze(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4=M,s4=Symbol.for("react.element"),l4=Symbol.for("react.fragment"),u4=Object.prototype.hasOwnProperty,c4=a4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f4={key:!0,ref:!0,__self:!0,__source:!0};function fk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)u4.call(e,r)&&!f4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s4,type:t,key:o,ref:a,props:i,_owner:c4.current}}Fm.Fragment=l4;Fm.jsx=fk;Fm.jsxs=fk;tk.exports=Fm;var m=tk.exports,Yv={},dk={exports:{}},Kn={},hk={exports:{}},pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var V=$.length;$.push(q);e:for(;0<V;){var ee=V-1>>>1,Y=$[ee];if(0<i(Y,q))$[ee]=q,$[V]=Y,V=ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],V=$.pop();if(V!==q){$[0]=V;e:for(var ee=0,Y=$.length,te=Y>>>1;ee<te;){var he=2*(ee+1)-1,we=$[he],Ue=he+1,nt=$[Ue];if(0>i(we,V))Ue<Y&&0>i(nt,we)?($[ee]=nt,$[Ue]=V,ee=Ue):($[ee]=we,$[he]=V,ee=he);else if(Ue<Y&&0>i(nt,V))$[ee]=nt,$[Ue]=V,ee=Ue;else break e}}return q}function i($,q){var V=$.sortIndex-q.sortIndex;return V!==0?V:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=$)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function P($){if(_=!1,x($),!y)if(n(l)!==null)y=!0,Q(T);else{var q=n(u);q!==null&&K(P,q.startTime-$)}}function T($,q){y=!1,_&&(_=!1,b(S),S=-1),p=!0;var V=h;try{for(x(q),f=n(l);f!==null&&(!(f.expirationTime>q)||$&&!C());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Y=ee(f.expirationTime<=q);q=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),x(q)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var he=n(u);he!==null&&K(P,he.startTime-q),te=!1}return te}finally{f=null,h=V,p=!1}}var I=!1,E=null,S=-1,O=5,k=-1;function C(){return!(t.unstable_now()-k<O)}function j(){if(E!==null){var $=t.unstable_now();k=$;var q=!0;try{q=E(!0,$)}finally{q?N():(I=!1,E=null)}}else I=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=j,N=function(){B.postMessage(null)}}else N=function(){w(j,0)};function Q($){E=$,I||(I=!0,N())}function K($,q){S=w(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Q(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var V=h;h=q;try{return $()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=h;h=$;try{return q()}finally{h=V}},t.unstable_scheduleCallback=function($,q,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=V+Y,$={id:c++,callback:q,priorityLevel:$,startTime:V,expirationTime:Y,sortIndex:-1},V>ee?($.sortIndex=V,e(u,$),n(l)===null&&$===n(u)&&(_?(b(S),S=-1):_=!0,K(P,V-ee))):($.sortIndex=Y,e(l,$),y||p||(y=!0,Q(T))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var q=h;return function(){var V=h;h=q;try{return $.apply(this,arguments)}finally{h=V}}}})(pk);hk.exports=pk;var d4=hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4=M,qn=d4;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mk=new Set,Oc={};function Ja(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Oc[t]=e,t=0;t<e.length;t++)mk.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xv=Object.prototype.hasOwnProperty,p4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tT={},nT={};function m4(t){return Xv.call(nT,t)?!0:Xv.call(tT,t)?!1:p4.test(t)?nT[t]=!0:(tT[t]=!0,!1)}function g4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y4(t,e,n,r){if(e===null||typeof e>"u"||g4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z_=/[\-:]([a-z])/g;function ew(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z_,ew);Zt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z_,ew);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z_,ew);Zt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function tw(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y4(e,n,i,r)&&(n=null),r||i===null?m4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=h4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Md=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),nw=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),yk=Symbol.for("react.context"),rw=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),vk=Symbol.for("react.offscreen"),rT=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Ny;function Hu(t){if(Ny===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ny=e&&e[1]||""}return`
`+Ny+t}var Ry=!1;function jy(t,e){if(!t||Ry)return"";Ry=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ry=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hu(t):""}function v4(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=jy(t.type,!1),t;case 11:return t=jy(t.type.render,!1),t;case 1:return t=jy(t.type,!0),t;default:return""}}function t0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case Os:return"Portal";case Jv:return"Profiler";case nw:return"StrictMode";case Zv:return"Suspense";case e0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yk:return(t.displayName||"Context")+".Consumer";case gk:return(t._context.displayName||"Context")+".Provider";case rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iw:return e=t.displayName||null,e!==null?e:t0(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return t0(t(e))}catch{}}return null}function b4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t0(e);case 8:return e===nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _4(t){var e=bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $d(t){t._valueTracker||(t._valueTracker=_4(t))}function _k(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n0(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=So(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wk(t,e){e=e.checked,e!=null&&tw(t,"checked",e,!1)}function r0(t,e){wk(t,e);var n=So(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i0(t,e.type,n):e.hasOwnProperty("defaultValue")&&i0(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function i0(t,e,n){(e!=="number"||Gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function Ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+So(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function o0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Qu(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:So(n)}}function xk(t,e){var n=So(e.value),r=So(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ek(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ek(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ld,Tk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ld=Ld||document.createElement("div"),Ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w4=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(t){w4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sc[e]=sc[t]})});function Sk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sc.hasOwnProperty(t)&&sc[t]?(""+e).trim():e+"px"}function Ik(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var x4=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s0(t,e){if(e){if(x4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function l0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u0=null;function ow(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var c0=null,Gs=null,Ks=null;function lT(t){if(t=Hf(t)){if(typeof c0!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Wm(e),c0(t.stateNode,t.type,e))}}function Ak(t){Gs?Ks?Ks.push(t):Ks=[t]:Gs=t}function Pk(){if(Gs){var t=Gs,e=Ks;if(Ks=Gs=null,lT(t),e)for(t=0;t<e.length;t++)lT(e[t])}}function Ok(t,e){return t(e)}function Ck(){}var Dy=!1;function kk(t,e,n){if(Dy)return t(e,n);Dy=!0;try{return Ok(t,e,n)}finally{Dy=!1,(Gs!==null||Ks!==null)&&(Ck(),Pk())}}function kc(t,e){var n=t.stateNode;if(n===null)return null;var r=Wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var f0=!1;if(_i)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){f0=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{f0=!1}function E4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var lc=!1,Kh=null,Hh=!1,d0=null,T4={onError:function(t){lc=!0,Kh=t}};function S4(t,e,n,r,i,o,a,s,l){lc=!1,Kh=null,E4.apply(T4,arguments)}function I4(t,e,n,r,i,o,a,s,l){if(S4.apply(this,arguments),lc){if(lc){var u=Kh;lc=!1,Kh=null}else throw Error(Z(198));Hh||(Hh=!0,d0=u)}}function Za(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uT(t){if(Za(t)!==t)throw Error(Z(188))}function A4(t){var e=t.alternate;if(!e){if(e=Za(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uT(i),t;if(o===r)return uT(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function Rk(t){return t=A4(t),t!==null?jk(t):null}function jk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jk(t);if(e!==null)return e;t=t.sibling}return null}var Dk=qn.unstable_scheduleCallback,cT=qn.unstable_cancelCallback,P4=qn.unstable_shouldYield,O4=qn.unstable_requestPaint,St=qn.unstable_now,C4=qn.unstable_getCurrentPriorityLevel,aw=qn.unstable_ImmediatePriority,Mk=qn.unstable_UserBlockingPriority,Qh=qn.unstable_NormalPriority,k4=qn.unstable_LowPriority,$k=qn.unstable_IdlePriority,Bm=null,Ur=null;function N4(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Bm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:D4,R4=Math.log,j4=Math.LN2;function D4(t){return t>>>=0,t===0?32:31-(R4(t)/j4|0)|0}var Vd=64,Fd=4194304;function Yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Yu(s):(o&=a,o!==0&&(r=Yu(o)))}else a=n&~i,a!==0?r=Yu(a):o!==0&&(r=Yu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function M4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ir(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=M4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function h0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lk(){var t=Vd;return Vd<<=1,!(Vd&4194240)&&(Vd=64),t}function My(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function L4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function sw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function Vk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fk,lw,Bk,Uk,zk,p0=!1,Bd=[],co=null,fo=null,ho=null,Nc=new Map,Rc=new Map,Xi=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(e.pointerId)}}function Au(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hf(e),e!==null&&lw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F4(t,e,n,r,i){switch(e){case"focusin":return co=Au(co,t,e,n,r,i),!0;case"dragenter":return fo=Au(fo,t,e,n,r,i),!0;case"mouseover":return ho=Au(ho,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nc.set(o,Au(Nc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rc.set(o,Au(Rc.get(o)||null,t,e,n,r,i)),!0}return!1}function qk(t){var e=ha(t.target);if(e!==null){var n=Za(e);if(n!==null){if(e=n.tag,e===13){if(e=Nk(n),e!==null){t.blockedOn=e,zk(t.priority,function(){Bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=m0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);u0=r,n.target.dispatchEvent(r),u0=null}else return e=Hf(n),e!==null&&lw(e),t.blockedOn=n,!1;e.shift()}return!0}function dT(t,e,n){wh(t)&&n.delete(e)}function B4(){p0=!1,co!==null&&wh(co)&&(co=null),fo!==null&&wh(fo)&&(fo=null),ho!==null&&wh(ho)&&(ho=null),Nc.forEach(dT),Rc.forEach(dT)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,p0||(p0=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,B4)))}function jc(t){function e(i){return Pu(i,t)}if(0<Bd.length){Pu(Bd[0],t);for(var n=1;n<Bd.length;n++){var r=Bd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(co!==null&&Pu(co,t),fo!==null&&Pu(fo,t),ho!==null&&Pu(ho,t),Nc.forEach(e),Rc.forEach(e),n=0;n<Xi.length;n++)r=Xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xi.length&&(n=Xi[0],n.blockedOn===null);)qk(n),n.blockedOn===null&&Xi.shift()}var Hs=Ni.ReactCurrentBatchConfig,Xh=!0;function U4(t,e,n,r){var i=qe,o=Hs.transition;Hs.transition=null;try{qe=1,uw(t,e,n,r)}finally{qe=i,Hs.transition=o}}function z4(t,e,n,r){var i=qe,o=Hs.transition;Hs.transition=null;try{qe=4,uw(t,e,n,r)}finally{qe=i,Hs.transition=o}}function uw(t,e,n,r){if(Xh){var i=m0(t,e,n,r);if(i===null)Gy(t,e,r,Jh,n),fT(t,r);else if(F4(i,t,e,n,r))r.stopPropagation();else if(fT(t,r),e&4&&-1<V4.indexOf(t)){for(;i!==null;){var o=Hf(i);if(o!==null&&Fk(o),o=m0(t,e,n,r),o===null&&Gy(t,e,r,Jh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gy(t,e,r,null,n)}}var Jh=null;function m0(t,e,n,r){if(Jh=null,t=ow(r),t=ha(t),t!==null)if(e=Za(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jh=t,null}function Wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C4()){case aw:return 1;case Mk:return 4;case Qh:case k4:return 16;case $k:return 536870912;default:return 16}default:return 16}}var oo=null,cw=null,xh=null;function Gk(){if(xh)return xh;var t,e=cw,n=e.length,r,i="value"in oo?oo.value:oo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return xh=i.slice(t,1<r?1-r:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function hT(){return!1}function Hn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ud:hT,this.isPropagationStopped=hT,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=Hn(zl),Kf=bt({},zl,{view:0,detail:0}),q4=Hn(Kf),$y,Ly,Ou,Um=bt({},Kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ou&&(Ou&&t.type==="mousemove"?($y=t.screenX-Ou.screenX,Ly=t.screenY-Ou.screenY):Ly=$y=0,Ou=t),$y)},movementY:function(t){return"movementY"in t?t.movementY:Ly}}),pT=Hn(Um),W4=bt({},Um,{dataTransfer:0}),G4=Hn(W4),K4=bt({},Kf,{relatedTarget:0}),Vy=Hn(K4),H4=bt({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),Q4=Hn(H4),Y4=bt({},zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X4=Hn(Y4),J4=bt({},zl,{data:0}),mT=Hn(J4),Z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tF[t])?!!e[t]:!1}function dw(){return nF}var rF=bt({},Kf,{key:function(t){if(t.key){var e=Z4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dw,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iF=Hn(rF),oF=bt({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gT=Hn(oF),aF=bt({},Kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dw}),sF=Hn(aF),lF=bt({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uF=Hn(lF),cF=bt({},Um,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fF=Hn(cF),dF=[9,13,27,32],hw=_i&&"CompositionEvent"in window,uc=null;_i&&"documentMode"in document&&(uc=document.documentMode);var hF=_i&&"TextEvent"in window&&!uc,Kk=_i&&(!hw||uc&&8<uc&&11>=uc),yT=" ",vT=!1;function Hk(t,e){switch(t){case"keyup":return dF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function pF(t,e){switch(t){case"compositionend":return Qk(e);case"keypress":return e.which!==32?null:(vT=!0,yT);case"textInput":return t=e.data,t===yT&&vT?null:t;default:return null}}function mF(t,e){if(ks)return t==="compositionend"||!hw&&Hk(t,e)?(t=Gk(),xh=cw=oo=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kk&&e.locale!=="ko"?null:e.data;default:return null}}var gF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gF[t.type]:e==="textarea"}function Yk(t,e,n,r){Ak(r),e=Zh(e,"onChange"),0<e.length&&(n=new fw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Dc=null;function yF(t){s2(t,0)}function zm(t){var e=js(t);if(_k(e))return t}function vF(t,e){if(t==="change")return e}var Xk=!1;if(_i){var Fy;if(_i){var By="oninput"in document;if(!By){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),By=typeof _T.oninput=="function"}Fy=By}else Fy=!1;Xk=Fy&&(!document.documentMode||9<document.documentMode)}function wT(){cc&&(cc.detachEvent("onpropertychange",Jk),Dc=cc=null)}function Jk(t){if(t.propertyName==="value"&&zm(Dc)){var e=[];Yk(e,Dc,t,ow(t)),kk(yF,e)}}function bF(t,e,n){t==="focusin"?(wT(),cc=e,Dc=n,cc.attachEvent("onpropertychange",Jk)):t==="focusout"&&wT()}function _F(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zm(Dc)}function wF(t,e){if(t==="click")return zm(e)}function xF(t,e){if(t==="input"||t==="change")return zm(e)}function EF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:EF;function Mc(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xv.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function xT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ET(t,e){var n=xT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xT(n)}}function Zk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e2(){for(var t=window,e=Gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gh(t.document)}return e}function pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TF(t){var e=e2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zk(n.ownerDocument.documentElement,n)){if(r!==null&&pw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ET(n,o);var a=ET(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SF=_i&&"documentMode"in document&&11>=document.documentMode,Ns=null,g0=null,fc=null,y0=!1;function TT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y0||Ns==null||Ns!==Gh(r)||(r=Ns,"selectionStart"in r&&pw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&Mc(fc,r)||(fc=r,r=Zh(g0,"onSelect"),0<r.length&&(e=new fw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ns)))}function zd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},Uy={},t2={};_i&&(t2=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function qm(t){if(Uy[t])return Uy[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t2)return Uy[t]=e[n];return t}var n2=qm("animationend"),r2=qm("animationiteration"),i2=qm("animationstart"),o2=qm("transitionend"),a2=new Map,ST="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){a2.set(t,e),Ja(e,[t])}for(var zy=0;zy<ST.length;zy++){var qy=ST[zy],IF=qy.toLowerCase(),AF=qy[0].toUpperCase()+qy.slice(1);No(IF,"on"+AF)}No(n2,"onAnimationEnd");No(r2,"onAnimationIteration");No(i2,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(o2,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function IT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I4(r,e,void 0,t),t.currentTarget=null}function s2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;IT(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;IT(i,s,u),o=l}}}if(Hh)throw t=d0,Hh=!1,d0=null,t}function it(t,e){var n=e[x0];n===void 0&&(n=e[x0]=new Set);var r=t+"__bubble";n.has(r)||(l2(e,t,2,!1),n.add(r))}function Wy(t,e,n){var r=0;e&&(r|=4),l2(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[qd]){t[qd]=!0,mk.forEach(function(n){n!=="selectionchange"&&(PF.has(n)||Wy(n,!1,t),Wy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,Wy("selectionchange",!1,e))}}function l2(t,e,n,r){switch(Wk(e)){case 1:var i=U4;break;case 4:i=z4;break;default:i=uw}n=i.bind(null,e,n,t),i=void 0,!f0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ha(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}kk(function(){var u=o,c=ow(n),f=[];e:{var h=a2.get(t);if(h!==void 0){var p=fw,y=t;switch(t){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":p=iF;break;case"focusin":y="focus",p=Vy;break;case"focusout":y="blur",p=Vy;break;case"beforeblur":case"afterblur":p=Vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=G4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sF;break;case n2:case r2:case i2:p=Q4;break;case o2:p=uF;break;case"scroll":p=q4;break;case"wheel":p=fF;break;case"copy":case"cut":case"paste":p=X4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gT}var _=(e&4)!==0,w=!_&&t==="scroll",b=_?h!==null?h+"Capture":null:h;_=[];for(var v=u,x;v!==null;){x=v;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,b!==null&&(P=kc(v,b),P!=null&&_.push(Lc(v,P,x)))),w)break;v=v.return}0<_.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==u0&&(y=n.relatedTarget||n.fromElement)&&(ha(y)||y[wi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ha(y):null,y!==null&&(w=Za(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(_=pT,P="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=gT,P="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?h:js(p),x=y==null?h:js(y),h=new _(P,v+"leave",p,n,c),h.target=w,h.relatedTarget=x,P=null,ha(c)===u&&(_=new _(b,v+"enter",y,n,c),_.target=x,_.relatedTarget=w,P=_),w=P,p&&y)t:{for(_=p,b=y,v=0,x=_;x;x=gs(x))v++;for(x=0,P=b;P;P=gs(P))x++;for(;0<v-x;)_=gs(_),v--;for(;0<x-v;)b=gs(b),x--;for(;v--;){if(_===b||b!==null&&_===b.alternate)break t;_=gs(_),b=gs(b)}_=null}else _=null;p!==null&&AT(f,h,p,_,!1),y!==null&&w!==null&&AT(f,w,y,_,!0)}}e:{if(h=u?js(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=vF;else if(bT(h))if(Xk)T=xF;else{T=_F;var I=bF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=wF);if(T&&(T=T(t,u))){Yk(f,T,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&i0(h,"number",h.value)}switch(I=u?js(u):window,t){case"focusin":(bT(I)||I.contentEditable==="true")&&(Ns=I,g0=u,fc=null);break;case"focusout":fc=g0=Ns=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,TT(f,n,c);break;case"selectionchange":if(SF)break;case"keydown":case"keyup":TT(f,n,c)}var E;if(hw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ks?Hk(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Kk&&n.locale!=="ko"&&(ks||S!=="onCompositionStart"?S==="onCompositionEnd"&&ks&&(E=Gk()):(oo=c,cw="value"in oo?oo.value:oo.textContent,ks=!0)),I=Zh(u,S),0<I.length&&(S=new mT(S,t,null,n,c),f.push({event:S,listeners:I}),E?S.data=E:(E=Qk(n),E!==null&&(S.data=E)))),(E=hF?pF(t,n):mF(t,n))&&(u=Zh(u,"onBeforeInput"),0<u.length&&(c=new mT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}s2(f,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kc(t,n),o!=null&&r.unshift(Lc(t,o,i)),o=kc(t,e),o!=null&&r.push(Lc(t,o,i))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function AT(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=kc(n,o),l!=null&&a.unshift(Lc(n,l,s))):i||(l=kc(n,o),l!=null&&a.push(Lc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var OF=/\r\n?/g,CF=/\u0000|\uFFFD/g;function PT(t){return(typeof t=="string"?t:""+t).replace(OF,`
`).replace(CF,"")}function Wd(t,e,n){if(e=PT(e),PT(t)!==e&&n)throw Error(Z(425))}function ep(){}var v0=null,b0=null;function _0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w0=typeof setTimeout=="function"?setTimeout:void 0,kF=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,NF=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(t){return OT.resolve(null).then(t).catch(RF)}:w0;function RF(t){setTimeout(function(){throw t})}function Ky(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jc(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ql=Math.random().toString(36).slice(2),$r="__reactFiber$"+ql,Vc="__reactProps$"+ql,wi="__reactContainer$"+ql,x0="__reactEvents$"+ql,jF="__reactListeners$"+ql,DF="__reactHandles$"+ql;function ha(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CT(t);t!==null;){if(n=t[$r])return n;t=CT(t)}return e}t=n,n=t.parentNode}return null}function Hf(t){return t=t[$r]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Wm(t){return t[Vc]||null}var E0=[],Ds=-1;function Ro(t){return{current:t}}function st(t){0>Ds||(t.current=E0[Ds],E0[Ds]=null,Ds--)}function tt(t,e){Ds++,E0[Ds]=t.current,t.current=e}var Io={},dn=Ro(Io),Cn=Ro(!1),Oa=Io;function ol(t,e){var n=t.type.contextTypes;if(!n)return Io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function tp(){st(Cn),st(dn)}function kT(t,e,n){if(dn.current!==Io)throw Error(Z(168));tt(dn,e),tt(Cn,n)}function u2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,b4(t)||"Unknown",i));return bt({},n,r)}function np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Oa=dn.current,tt(dn,t),tt(Cn,Cn.current),!0}function NT(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=u2(t,e,Oa),r.__reactInternalMemoizedMergedChildContext=t,st(Cn),st(dn),tt(dn,t)):st(Cn),tt(Cn,n)}var ii=null,Gm=!1,Hy=!1;function c2(t){ii===null?ii=[t]:ii.push(t)}function MF(t){Gm=!0,c2(t)}function jo(){if(!Hy&&ii!==null){Hy=!0;var t=0,e=qe;try{var n=ii;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ii=null,Gm=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),Dk(aw,jo),i}finally{qe=e,Hy=!1}}return null}var Ms=[],$s=0,rp=null,ip=0,Zn=[],er=0,Ca=null,oi=1,ai="";function na(t,e){Ms[$s++]=ip,Ms[$s++]=rp,rp=t,ip=e}function f2(t,e,n){Zn[er++]=oi,Zn[er++]=ai,Zn[er++]=Ca,Ca=t;var r=oi;t=ai;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oi=1<<32-Ir(e)+i|n<<i|r,ai=o+t}else oi=1<<o|n<<i|r,ai=t}function mw(t){t.return!==null&&(na(t,1),f2(t,1,0))}function gw(t){for(;t===rp;)rp=Ms[--$s],Ms[$s]=null,ip=Ms[--$s],Ms[$s]=null;for(;t===Ca;)Ca=Zn[--er],Zn[er]=null,ai=Zn[--er],Zn[er]=null,oi=Zn[--er],Zn[er]=null}var Un=null,Fn=null,ut=!1,xr=null;function d2(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Fn=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ca!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Fn=null,!0):!1;default:return!1}}function T0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S0(t){if(ut){var e=Fn;if(e){var n=e;if(!RT(t,e)){if(T0(t))throw Error(Z(418));e=po(n.nextSibling);var r=Un;e&&RT(t,e)?d2(r,n):(t.flags=t.flags&-4097|2,ut=!1,Un=t)}}else{if(T0(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ut=!1,Un=t}}}function jT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Gd(t){if(t!==Un)return!1;if(!ut)return jT(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_0(t.type,t.memoizedProps)),e&&(e=Fn)){if(T0(t))throw h2(),Error(Z(418));for(;e;)d2(t,e),e=po(e.nextSibling)}if(jT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Un?po(t.stateNode.nextSibling):null;return!0}function h2(){for(var t=Fn;t;)t=po(t.nextSibling)}function al(){Fn=Un=null,ut=!1}function yw(t){xr===null?xr=[t]:xr.push(t)}var $F=Ni.ReactCurrentBatchConfig;function Cu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DT(t){var e=t._init;return e(t._payload)}function p2(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=vo(b,v),b.index=0,b.sibling=null,b}function o(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,v,x,P){return v===null||v.tag!==6?(v=tv(x,b.mode,P),v.return=b,v):(v=i(v,x),v.return=b,v)}function l(b,v,x,P){var T=x.type;return T===Cs?c(b,v,x.props.children,P,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Hi&&DT(T)===v.type)?(P=i(v,x.props),P.ref=Cu(b,v,x),P.return=b,P):(P=Ch(x.type,x.key,x.props,null,b.mode,P),P.ref=Cu(b,v,x),P.return=b,P)}function u(b,v,x,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=nv(x,b.mode,P),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function c(b,v,x,P,T){return v===null||v.tag!==7?(v=Ea(x,b.mode,P,T),v.return=b,v):(v=i(v,x),v.return=b,v)}function f(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tv(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Md:return x=Ch(v.type,v.key,v.props,null,b.mode,x),x.ref=Cu(b,null,v),x.return=b,x;case Os:return v=nv(v,b.mode,x),v.return=b,v;case Hi:var P=v._init;return f(b,P(v._payload),x)}if(Qu(v)||Su(v))return v=Ea(v,b.mode,x,null),v.return=b,v;Kd(b,v)}return null}function h(b,v,x,P){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(b,v,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Md:return x.key===T?l(b,v,x,P):null;case Os:return x.key===T?u(b,v,x,P):null;case Hi:return T=x._init,h(b,v,T(x._payload),P)}if(Qu(x)||Su(x))return T!==null?null:c(b,v,x,P,null);Kd(b,x)}return null}function p(b,v,x,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(x)||null,s(v,b,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Md:return b=b.get(P.key===null?x:P.key)||null,l(v,b,P,T);case Os:return b=b.get(P.key===null?x:P.key)||null,u(v,b,P,T);case Hi:var I=P._init;return p(b,v,x,I(P._payload),T)}if(Qu(P)||Su(P))return b=b.get(x)||null,c(v,b,P,T,null);Kd(v,P)}return null}function y(b,v,x,P){for(var T=null,I=null,E=v,S=v=0,O=null;E!==null&&S<x.length;S++){E.index>S?(O=E,E=null):O=E.sibling;var k=h(b,E,x[S],P);if(k===null){E===null&&(E=O);break}t&&E&&k.alternate===null&&e(b,E),v=o(k,v,S),I===null?T=k:I.sibling=k,I=k,E=O}if(S===x.length)return n(b,E),ut&&na(b,S),T;if(E===null){for(;S<x.length;S++)E=f(b,x[S],P),E!==null&&(v=o(E,v,S),I===null?T=E:I.sibling=E,I=E);return ut&&na(b,S),T}for(E=r(b,E);S<x.length;S++)O=p(E,b,S,x[S],P),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?S:O.key),v=o(O,v,S),I===null?T=O:I.sibling=O,I=O);return t&&E.forEach(function(C){return e(b,C)}),ut&&na(b,S),T}function _(b,v,x,P){var T=Su(x);if(typeof T!="function")throw Error(Z(150));if(x=T.call(x),x==null)throw Error(Z(151));for(var I=T=null,E=v,S=v=0,O=null,k=x.next();E!==null&&!k.done;S++,k=x.next()){E.index>S?(O=E,E=null):O=E.sibling;var C=h(b,E,k.value,P);if(C===null){E===null&&(E=O);break}t&&E&&C.alternate===null&&e(b,E),v=o(C,v,S),I===null?T=C:I.sibling=C,I=C,E=O}if(k.done)return n(b,E),ut&&na(b,S),T;if(E===null){for(;!k.done;S++,k=x.next())k=f(b,k.value,P),k!==null&&(v=o(k,v,S),I===null?T=k:I.sibling=k,I=k);return ut&&na(b,S),T}for(E=r(b,E);!k.done;S++,k=x.next())k=p(E,b,S,k.value,P),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),v=o(k,v,S),I===null?T=k:I.sibling=k,I=k);return t&&E.forEach(function(j){return e(b,j)}),ut&&na(b,S),T}function w(b,v,x,P){if(typeof x=="object"&&x!==null&&x.type===Cs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Md:e:{for(var T=x.key,I=v;I!==null;){if(I.key===T){if(T=x.type,T===Cs){if(I.tag===7){n(b,I.sibling),v=i(I,x.props.children),v.return=b,b=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Hi&&DT(T)===I.type){n(b,I.sibling),v=i(I,x.props),v.ref=Cu(b,I,x),v.return=b,b=v;break e}n(b,I);break}else e(b,I);I=I.sibling}x.type===Cs?(v=Ea(x.props.children,b.mode,P,x.key),v.return=b,b=v):(P=Ch(x.type,x.key,x.props,null,b.mode,P),P.ref=Cu(b,v,x),P.return=b,b=P)}return a(b);case Os:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=nv(x,b.mode,P),v.return=b,b=v}return a(b);case Hi:return I=x._init,w(b,v,I(x._payload),P)}if(Qu(x))return y(b,v,x,P);if(Su(x))return _(b,v,x,P);Kd(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,x),v.return=b,b=v):(n(b,v),v=tv(x,b.mode,P),v.return=b,b=v),a(b)):n(b,v)}return w}var sl=p2(!0),m2=p2(!1),op=Ro(null),ap=null,Ls=null,vw=null;function bw(){vw=Ls=ap=null}function _w(t){var e=op.current;st(op),t._currentValue=e}function I0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){ap=t,vw=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(vw!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(ap===null)throw Error(Z(308));Ls=t,ap.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var pa=null;function ww(t){pa===null?pa=[t]:pa.push(t)}function g2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ww(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,ww(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sw(t,n)}}function MT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sp(t,e,n,r){var i=t.updateQueue;Qi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,_=s;switch(h=e,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=bt({},f,h);break e;case 2:Qi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Na|=a,t.lanes=a,t.memoizedState=f}}function $T(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Qf={},zr=Ro(Qf),Fc=Ro(Qf),Bc=Ro(Qf);function ma(t){if(t===Qf)throw Error(Z(174));return t}function Ew(t,e){switch(tt(Bc,e),tt(Fc,t),tt(zr,Qf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a0(e,t)}st(zr),tt(zr,e)}function ll(){st(zr),st(Fc),st(Bc)}function v2(t){ma(Bc.current);var e=ma(zr.current),n=a0(e,t.type);e!==n&&(tt(Fc,t),tt(zr,n))}function Tw(t){Fc.current===t&&(st(zr),st(Fc))}var pt=Ro(0);function lp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qy=[];function Sw(){for(var t=0;t<Qy.length;t++)Qy[t]._workInProgressVersionPrimary=null;Qy.length=0}var Sh=Ni.ReactCurrentDispatcher,Yy=Ni.ReactCurrentBatchConfig,ka=0,yt=null,Mt=null,qt=null,up=!1,dc=!1,Uc=0,LF=0;function nn(){throw Error(Z(321))}function Iw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Aw(t,e,n,r,i,o){if(ka=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sh.current=t===null||t.memoizedState===null?UF:zF,t=n(r,i),dc){o=0;do{if(dc=!1,Uc=0,25<=o)throw Error(Z(301));o+=1,qt=Mt=null,e.updateQueue=null,Sh.current=qF,t=n(r,i)}while(dc)}if(Sh.current=cp,e=Mt!==null&&Mt.next!==null,ka=0,qt=Mt=yt=null,up=!1,e)throw Error(Z(300));return t}function Pw(){var t=Uc!==0;return Uc=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?yt.memoizedState=qt=t:qt=qt.next=t,qt}function fr(){if(Mt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=qt===null?yt.memoizedState:qt.next;if(e!==null)qt=e,Mt=t;else{if(t===null)throw Error(Z(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},qt===null?yt.memoizedState=qt=t:qt=qt.next=t}return qt}function zc(t,e){return typeof e=="function"?e(t):e}function Xy(t){var e=fr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ka&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,yt.lanes|=c,Na|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Or(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,Na|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=fr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Or(o,e.memoizedState)||(An=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function b2(){}function _2(t,e){var n=yt,r=fr(),i=e(),o=!Or(r.memoizedState,i);if(o&&(r.memoizedState=i,An=!0),r=r.queue,Ow(E2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,qc(9,x2.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(Z(349));ka&30||w2(n,e,i)}return i}function w2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x2(t,e,n,r){e.value=n,e.getSnapshot=r,T2(e)&&S2(t)}function E2(t,e,n){return n(function(){T2(e)&&S2(t)})}function T2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function S2(t){var e=xi(t,1);e!==null&&Ar(e,t,1,-1)}function LT(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=BF.bind(null,yt,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I2(){return fr().memoizedState}function Ih(t,e,n,r){var i=Mr();yt.flags|=t,i.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function Km(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var a=Mt.memoizedState;if(o=a.destroy,r!==null&&Iw(r,a.deps)){i.memoizedState=qc(e,n,o,r);return}}yt.flags|=t,i.memoizedState=qc(1|e,n,o,r)}function VT(t,e){return Ih(8390656,8,t,e)}function Ow(t,e){return Km(2048,8,t,e)}function A2(t,e){return Km(4,2,t,e)}function P2(t,e){return Km(4,4,t,e)}function O2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C2(t,e,n){return n=n!=null?n.concat([t]):null,Km(4,4,O2.bind(null,e,t),n)}function Cw(){}function k2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N2(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R2(t,e,n){return ka&21?(Or(n,e)||(n=Lk(),yt.lanes|=n,Na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function VF(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Yy.transition;Yy.transition={};try{t(!1),e()}finally{qe=n,Yy.transition=r}}function j2(){return fr().memoizedState}function FF(t,e,n){var r=yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D2(t))M2(e,n);else if(n=g2(t,e,n,r),n!==null){var i=bn();Ar(n,t,r,i),$2(n,e,r)}}function BF(t,e,n){var r=yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D2(t))M2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Or(s,a)){var l=e.interleaved;l===null?(i.next=i,ww(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=g2(t,e,i,r),n!==null&&(i=bn(),Ar(n,t,r,i),$2(n,e,r))}}function D2(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function M2(t,e){dc=up=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sw(t,n)}}var cp={readContext:cr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},UF={readContext:cr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:VT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4194308,4,O2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ih(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FF.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:Cw,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=VF.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Mr();if(ut){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Wt===null)throw Error(Z(349));ka&30||w2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,VT(E2.bind(null,r,o,t),[t]),r.flags|=2048,qc(9,x2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Wt.identifierPrefix;if(ut){var n=ai,r=oi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zF={readContext:cr,useCallback:k2,useContext:cr,useEffect:Ow,useImperativeHandle:C2,useInsertionEffect:A2,useLayoutEffect:P2,useMemo:N2,useReducer:Xy,useRef:I2,useState:function(){return Xy(zc)},useDebugValue:Cw,useDeferredValue:function(t){var e=fr();return R2(e,Mt.memoizedState,t)},useTransition:function(){var t=Xy(zc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:b2,useSyncExternalStore:_2,useId:j2,unstable_isNewReconciler:!1},qF={readContext:cr,useCallback:k2,useContext:cr,useEffect:Ow,useImperativeHandle:C2,useInsertionEffect:A2,useLayoutEffect:P2,useMemo:N2,useReducer:Jy,useRef:I2,useState:function(){return Jy(zc)},useDebugValue:Cw,useDeferredValue:function(t){var e=fr();return Mt===null?e.memoizedState=t:R2(e,Mt.memoizedState,t)},useTransition:function(){var t=Jy(zc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:b2,useSyncExternalStore:_2,useId:j2,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function A0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hm={isMounted:function(t){return(t=t._reactInternals)?Za(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=yo(t),o=pi(r,i);o.payload=e,n!=null&&(o.callback=n),e=mo(t,o,i),e!==null&&(Ar(e,t,i,r),Th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=yo(t),o=pi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=mo(t,o,i),e!==null&&(Ar(e,t,i,r),Th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=yo(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=mo(t,i,r),e!==null&&(Ar(e,t,r,n),Th(e,t,r))}};function FT(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(i,o):!0}function L2(t,e,n){var r=!1,i=Io,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=kn(e)?Oa:dn.current,r=e.contextTypes,o=(r=r!=null)?ol(t,i):Io),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function BT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hm.enqueueReplaceState(e,e.state,null)}function P0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=kn(e)?Oa:dn.current,i.context=ol(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(A0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hm.enqueueReplaceState(i,i.state,null),sp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=v4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function O0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WF=typeof WeakMap=="function"?WeakMap:Map;function V2(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dp||(dp=!0,V0=r),O0(t,e)},n}function F2(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){O0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){O0(t,e),typeof r!="function"&&(go===null?go=new Set([this]):go.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function UT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=o3.bind(null,t,e,n),e.then(t,t))}function zT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,mo(n,e,1))),n.lanes|=1),t)}var GF=Ni.ReactCurrentOwner,An=!1;function pn(t,e,n,r){e.child=t===null?m2(e,null,n,r):sl(e,t.child,n,r)}function WT(t,e,n,r,i){n=n.render;var o=e.ref;return Qs(e,i),r=Aw(t,e,n,r,o,i),n=Pw(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ut&&n&&mw(e),e.flags|=1,pn(t,e,r,i),e.child)}function GT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Lw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,B2(t,e,o,r,i)):(t=Ch(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(a,r)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=vo(o,r),t.ref=e.ref,t.return=e,e.child=t}function B2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mc(o,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return C0(t,e,n,r,i)}function U2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Fs,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Fs,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Fs,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(Fs,$n),$n|=r;return pn(t,e,i,n),e.child}function z2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function C0(t,e,n,r,i){var o=kn(n)?Oa:dn.current;return o=ol(e,o),Qs(e,i),n=Aw(t,e,n,r,o,i),r=Pw(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ut&&r&&mw(e),e.flags|=1,pn(t,e,n,i),e.child)}function KT(t,e,n,r,i){if(kn(n)){var o=!0;np(e)}else o=!1;if(Qs(e,i),e.stateNode===null)Ah(t,e),L2(e,n,r),P0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=kn(n)?Oa:dn.current,u=ol(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&BT(e,a,r,u),Qi=!1;var h=e.memoizedState;a.state=h,sp(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Cn.current||Qi?(typeof c=="function"&&(A0(e,n,c,r),l=e.memoizedState),(s=Qi||FT(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,y2(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:vr(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=kn(n)?Oa:dn.current,l=ol(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&BT(e,a,r,l),Qi=!1,h=e.memoizedState,a.state=h,sp(e,r,a,i);var y=e.memoizedState;s!==f||h!==y||Cn.current||Qi?(typeof p=="function"&&(A0(e,n,p,r),y=e.memoizedState),(u=Qi||FT(e,n,u,r,h,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return k0(t,e,n,r,o,i)}function k0(t,e,n,r,i,o){z2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&NT(e,n,!1),Ei(t,e,o);r=e.stateNode,GF.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=sl(e,t.child,null,o),e.child=sl(e,null,s,o)):pn(t,e,s,o),e.memoizedState=r.state,i&&NT(e,n,!0),e.child}function q2(t){var e=t.stateNode;e.pendingContext?kT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kT(t,e.context,!1),Ew(t,e.containerInfo)}function HT(t,e,n,r,i){return al(),yw(i),e.flags|=256,pn(t,e,n,r),e.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function R0(t){return{baseLanes:t,cachePool:null,transitions:null}}function W2(t,e,n){var r=e.pendingProps,i=pt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(pt,i&1),t===null)return S0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Xm(a,r,0,null),t=Ea(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=R0(n),e.memoizedState=N0,t):kw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return KF(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=vo(s,o):(o=Ea(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?R0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=N0,r}return o=t.child,t=o.sibling,r=vo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kw(t,e){return e=Xm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hd(t,e,n,r){return r!==null&&yw(r),sl(e,t.child,null,n),t=kw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KF(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Zy(Error(Z(422))),Hd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xm({mode:"visible",children:r.children},i,0,null),o=Ea(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sl(e,t.child,null,a),e.child.memoizedState=R0(a),e.memoizedState=N0,o);if(!(e.mode&1))return Hd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Z(419)),r=Zy(o,r,void 0),Hd(t,e,a,r)}if(s=(a&t.childLanes)!==0,An||s){if(r=Wt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xi(t,i),Ar(r,t,i,-1))}return $w(),r=Zy(Error(Z(421))),Hd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=po(i.nextSibling),Un=e,ut=!0,xr=null,t!==null&&(Zn[er++]=oi,Zn[er++]=ai,Zn[er++]=Ca,oi=t.id,ai=t.overflow,Ca=e),e=kw(e,r.children),e.flags|=4096,e)}function QT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),I0(t.return,e,n)}function ev(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function G2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pn(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QT(t,n,e);else if(t.tag===19)QT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ev(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ev(e,!0,n,null,o);break;case"together":ev(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HF(t,e,n){switch(e.tag){case 3:q2(e),al();break;case 5:v2(e);break;case 1:kn(e.type)&&np(e);break;case 4:Ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(op,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?W2(t,e,n):(tt(pt,pt.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);tt(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,U2(t,e,n)}return Ei(t,e,n)}var K2,j0,H2,Q2;K2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j0=function(){};H2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ma(zr.current);var o=null;switch(n){case"input":i=n0(t,i),r=n0(t,r),o=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":i=o0(t,i),r=o0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ep)}s0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Q2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QF(t,e,n){var r=e.pendingProps;switch(gw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return kn(e.type)&&tp(),rn(e),null;case 3:return r=e.stateNode,ll(),st(Cn),st(dn),Sw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(U0(xr),xr=null))),j0(t,e),rn(e),null;case 5:Tw(e);var i=ma(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)H2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return rn(e),null}if(t=ma(zr.current),Gd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$r]=e,r[Vc]=o,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Xu.length;i++)it(Xu[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":iT(r,o),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},it("invalid",r);break;case"textarea":aT(r,o),it("invalid",r)}s0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Wd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Wd(r.textContent,s,t),i=["children",""+s]):Oc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&it("scroll",r)}switch(n){case"input":$d(r),oT(r,o,!0);break;case"textarea":$d(r),sT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ep)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ek(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[$r]=e,t[Vc]=r,K2(t,e,!1,!1),e.stateNode=t;e:{switch(a=l0(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xu.length;i++)it(Xu[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":iT(t,r),i=n0(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),it("invalid",t);break;case"textarea":aT(t,r),i=o0(t,r),it("invalid",t);break;default:i=r}s0(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Ik(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&it("scroll",t):l!=null&&tw(t,o,l,a))}switch(n){case"input":$d(t),oT(t,r,!1);break;case"textarea":$d(t),sT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+So(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ws(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ep)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)Q2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=ma(Bc.current),ma(zr.current),Gd(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:Wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return rn(e),null;case 13:if(st(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Fn!==null&&e.mode&1&&!(e.flags&128))h2(),al(),e.flags|=98560,o=!1;else if(o=Gd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[$r]=e}else al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else xr!==null&&(U0(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?$t===0&&($t=3):$w())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return ll(),j0(t,e),t===null&&$c(e.stateNode.containerInfo),rn(e),null;case 10:return _w(e.type._context),rn(e),null;case 17:return kn(e.type)&&tp(),rn(e),null;case 19:if(st(pt),o=e.memoizedState,o===null)return rn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ku(o,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=lp(t),a!==null){for(e.flags|=128,ku(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(pt,pt.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>cl&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=lp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ut)return rn(e),null}else 2*St()-o.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=pt.current,tt(pt,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return Mw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function YF(t,e){switch(gw(e),e.tag){case 1:return kn(e.type)&&tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),st(Cn),st(dn),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tw(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return ll(),null;case 10:return _w(e.type._context),null;case 22:case 23:return Mw(),null;case 24:return null;default:return null}}var Qd=!1,sn=!1,XF=typeof WeakSet=="function"?WeakSet:Set,le=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function D0(t,e,n){try{n()}catch(r){xt(t,e,r)}}var YT=!1;function JF(t,e){if(v0=Xh,t=e2(),pw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(b0={focusedElem:t,selectionRange:n},Xh=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,w=y.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:vr(e.type,_),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(P){xt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return y=YT,YT=!1,y}function hc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&D0(e,n,o)}i=i.next}while(i!==r)}}function Qm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function M0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y2(t){var e=t.alternate;e!==null&&(t.alternate=null,Y2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Vc],delete e[x0],delete e[jF],delete e[DF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X2(t){return t.tag===5||t.tag===3||t.tag===4}function XT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ep));else if(r!==4&&(t=t.child,t!==null))for($0(t,e,n),t=t.sibling;t!==null;)$0(t,e,n),t=t.sibling}function L0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(L0(t,e,n),t=t.sibling;t!==null;)L0(t,e,n),t=t.sibling}var Qt=null,br=!1;function zi(t,e,n){for(n=n.child;n!==null;)J2(t,e,n),n=n.sibling}function J2(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Bm,n)}catch{}switch(n.tag){case 5:sn||Vs(n,e);case 6:var r=Qt,i=br;Qt=null,zi(t,e,n),Qt=r,br=i,Qt!==null&&(br?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(br?(t=Qt,n=n.stateNode,t.nodeType===8?Ky(t.parentNode,n):t.nodeType===1&&Ky(t,n),jc(t)):Ky(Qt,n.stateNode));break;case 4:r=Qt,i=br,Qt=n.stateNode.containerInfo,br=!0,zi(t,e,n),Qt=r,br=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&D0(n,e,a),i=i.next}while(i!==r)}zi(t,e,n);break;case 1:if(!sn&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xt(n,e,s)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,zi(t,e,n),sn=r):zi(t,e,n);break;default:zi(t,e,n)}}function JT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XF),e.forEach(function(r){var i=s3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qt=s.stateNode,br=!1;break e;case 3:Qt=s.stateNode.containerInfo,br=!0;break e;case 4:Qt=s.stateNode.containerInfo,br=!0;break e}s=s.return}if(Qt===null)throw Error(Z(160));J2(o,a,i),Qt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z2(e,t),e=e.sibling}function Z2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Dr(t),r&4){try{hc(3,t,t.return),Qm(3,t)}catch(_){xt(t,t.return,_)}try{hc(5,t,t.return)}catch(_){xt(t,t.return,_)}}break;case 1:gr(e,t),Dr(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(gr(e,t),Dr(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var i=t.stateNode;try{Cc(i,"")}catch(_){xt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&wk(i,o),l0(s,a);var u=l0(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Ik(i,f):c==="dangerouslySetInnerHTML"?Tk(i,f):c==="children"?Cc(i,f):tw(i,c,f,u)}switch(s){case"input":r0(i,o);break;case"textarea":xk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ws(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ws(i,!!o.multiple,o.defaultValue,!0):Ws(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vc]=o}catch(_){xt(t,t.return,_)}}break;case 6:if(gr(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){xt(t,t.return,_)}}break;case 3:if(gr(e,t),Dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(_){xt(t,t.return,_)}break;case 4:gr(e,t),Dr(t);break;case 13:gr(e,t),Dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jw=St())),r&4&&JT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,gr(e,t),sn=u):gr(e,t),Dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(le=t,c=t.child;c!==null;){for(f=le=c;le!==null;){switch(h=le,p=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:Vs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){xt(r,n,_)}}break;case 5:Vs(h,h.return);break;case 22:if(h.memoizedState!==null){eS(f);continue}}p!==null?(p.return=h,le=p):eS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Sk("display",a))}catch(_){xt(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){xt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(e,t),Dr(t),r&4&&JT(t);break;case 21:break;default:gr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X2(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cc(i,""),r.flags&=-33);var o=XT(t);L0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=XT(t);$0(t,s,a);break;default:throw Error(Z(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZF(t,e,n){le=t,eN(t)}function eN(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Qd;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||sn;s=Qd;var u=sn;if(Qd=a,(sn=l)&&!u)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?tS(i):l!==null?(l.return=a,le=l):tS(i);for(;o!==null;)le=o,eN(o),o=o.sibling;le=i,Qd=s,sn=u}ZT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):ZT(t)}}function ZT(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||Qm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$T(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$T(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}sn||e.flags&512&&M0(e)}catch(h){xt(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function eS(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function tS(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qm(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var o=e.return;try{M0(e)}catch(l){xt(e,o,l)}break;case 5:var a=e.return;try{M0(e)}catch(l){xt(e,a,l)}}}catch(l){xt(e,e.return,l)}if(e===t){le=null;break}var s=e.sibling;if(s!==null){s.return=e.return,le=s;break}le=e.return}}var e3=Math.ceil,fp=Ni.ReactCurrentDispatcher,Nw=Ni.ReactCurrentOwner,or=Ni.ReactCurrentBatchConfig,De=0,Wt=null,Ct=null,Jt=0,$n=0,Fs=Ro(0),$t=0,Wc=null,Na=0,Ym=0,Rw=0,pc=null,In=null,jw=0,cl=1/0,ri=null,dp=!1,V0=null,go=null,Yd=!1,ao=null,hp=0,mc=0,F0=null,Ph=-1,Oh=0;function bn(){return De&6?St():Ph!==-1?Ph:Ph=St()}function yo(t){return t.mode&1?De&2&&Jt!==0?Jt&-Jt:$F.transition!==null?(Oh===0&&(Oh=Lk()),Oh):(t=qe,t!==0||(t=window.event,t=t===void 0?16:Wk(t.type)),t):1}function Ar(t,e,n,r){if(50<mc)throw mc=0,F0=null,Error(Z(185));Gf(t,n,r),(!(De&2)||t!==Wt)&&(t===Wt&&(!(De&2)&&(Ym|=n),$t===4&&Ji(t,Jt)),Nn(t,r),n===1&&De===0&&!(e.mode&1)&&(cl=St()+500,Gm&&jo()))}function Nn(t,e){var n=t.callbackNode;$4(t,e);var r=Yh(t,t===Wt?Jt:0);if(r===0)n!==null&&cT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cT(n),e===1)t.tag===0?MF(nS.bind(null,t)):c2(nS.bind(null,t)),NF(function(){!(De&6)&&jo()}),n=null;else{switch(Vk(r)){case 1:n=aw;break;case 4:n=Mk;break;case 16:n=Qh;break;case 536870912:n=$k;break;default:n=Qh}n=lN(n,tN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tN(t,e){if(Ph=-1,Oh=0,De&6)throw Error(Z(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var r=Yh(t,t===Wt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pp(t,r);else{e=r;var i=De;De|=2;var o=rN();(Wt!==t||Jt!==e)&&(ri=null,cl=St()+500,xa(t,e));do try{r3();break}catch(s){nN(t,s)}while(!0);bw(),fp.current=o,De=i,Ct!==null?e=0:(Wt=null,Jt=0,e=$t)}if(e!==0){if(e===2&&(i=h0(t),i!==0&&(r=i,e=B0(t,i))),e===1)throw n=Wc,xa(t,0),Ji(t,r),Nn(t,St()),n;if(e===6)Ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!t3(i)&&(e=pp(t,r),e===2&&(o=h0(t),o!==0&&(r=o,e=B0(t,o))),e===1))throw n=Wc,xa(t,0),Ji(t,r),Nn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:ra(t,In,ri);break;case 3:if(Ji(t,r),(r&130023424)===r&&(e=jw+500-St(),10<e)){if(Yh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=w0(ra.bind(null,t,In,ri),e);break}ra(t,In,ri);break;case 4:if(Ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ir(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e3(r/1960))-r,10<r){t.timeoutHandle=w0(ra.bind(null,t,In,ri),r);break}ra(t,In,ri);break;case 5:ra(t,In,ri);break;default:throw Error(Z(329))}}}return Nn(t,St()),t.callbackNode===n?tN.bind(null,t):null}function B0(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(xa(t,e).flags|=256),t=pp(t,e),t!==2&&(e=In,In=n,e!==null&&U0(e)),t}function U0(t){In===null?In=t:In.push.apply(In,t)}function t3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Or(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~Rw,e&=~Ym,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function nS(t){if(De&6)throw Error(Z(327));Ys();var e=Yh(t,0);if(!(e&1))return Nn(t,St()),null;var n=pp(t,e);if(t.tag!==0&&n===2){var r=h0(t);r!==0&&(e=r,n=B0(t,r))}if(n===1)throw n=Wc,xa(t,0),Ji(t,e),Nn(t,St()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ra(t,In,ri),Nn(t,St()),null}function Dw(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(cl=St()+500,Gm&&jo())}}function Ra(t){ao!==null&&ao.tag===0&&!(De&6)&&Ys();var e=De;De|=1;var n=or.transition,r=qe;try{if(or.transition=null,qe=1,t)return t()}finally{qe=r,or.transition=n,De=e,!(De&6)&&jo()}}function Mw(){$n=Fs.current,st(Fs)}function xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kF(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tp();break;case 3:ll(),st(Cn),st(dn),Sw();break;case 5:Tw(r);break;case 4:ll();break;case 13:st(pt);break;case 19:st(pt);break;case 10:_w(r.type._context);break;case 22:case 23:Mw()}n=n.return}if(Wt=t,Ct=t=vo(t.current,null),Jt=$n=e,$t=0,Wc=null,Rw=Ym=Na=0,In=pc=null,pa!==null){for(e=0;e<pa.length;e++)if(n=pa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}pa=null}return t}function nN(t,e){do{var n=Ct;try{if(bw(),Sh.current=cp,up){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}up=!1}if(ka=0,qt=Mt=yt=null,dc=!1,Uc=0,Nw.current=null,n===null||n.return===null){$t=1,Wc=e,Ct=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zT(a);if(p!==null){p.flags&=-257,qT(p,a,s,o,e),p.mode&1&&UT(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){UT(o,u,e),$w();break e}l=Error(Z(426))}}else if(ut&&s.mode&1){var w=zT(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qT(w,a,s,o,e),yw(ul(l,s));break e}}o=l=ul(l,s),$t!==4&&($t=2),pc===null?pc=[o]:pc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=V2(o,l,e);MT(o,b);break e;case 1:s=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(go===null||!go.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=F2(o,s,e);MT(o,P);break e}}o=o.return}while(o!==null)}oN(n)}catch(T){e=T,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function rN(){var t=fp.current;return fp.current=cp,t===null?cp:t}function $w(){($t===0||$t===3||$t===2)&&($t=4),Wt===null||!(Na&268435455)&&!(Ym&268435455)||Ji(Wt,Jt)}function pp(t,e){var n=De;De|=2;var r=rN();(Wt!==t||Jt!==e)&&(ri=null,xa(t,e));do try{n3();break}catch(i){nN(t,i)}while(!0);if(bw(),De=n,fp.current=r,Ct!==null)throw Error(Z(261));return Wt=null,Jt=0,$t}function n3(){for(;Ct!==null;)iN(Ct)}function r3(){for(;Ct!==null&&!P4();)iN(Ct)}function iN(t){var e=sN(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?oN(t):Ct=e,Nw.current=null}function oN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YF(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ct=null;return}}else if(n=QF(n,e,$n),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);$t===0&&($t=5)}function ra(t,e,n){var r=qe,i=or.transition;try{or.transition=null,qe=1,i3(t,e,n,r)}finally{or.transition=i,qe=r}return null}function i3(t,e,n,r){do Ys();while(ao!==null);if(De&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(L4(t,o),t===Wt&&(Ct=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yd||(Yd=!0,lN(Qh,function(){return Ys(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=or.transition,or.transition=null;var a=qe;qe=1;var s=De;De|=4,Nw.current=null,JF(t,n),Z2(n,t),TF(b0),Xh=!!v0,b0=v0=null,t.current=n,ZF(n),O4(),De=s,qe=a,or.transition=o}else t.current=n;if(Yd&&(Yd=!1,ao=t,hp=i),o=t.pendingLanes,o===0&&(go=null),N4(n.stateNode),Nn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dp)throw dp=!1,t=V0,V0=null,t;return hp&1&&t.tag!==0&&Ys(),o=t.pendingLanes,o&1?t===F0?mc++:(mc=0,F0=t):mc=0,jo(),null}function Ys(){if(ao!==null){var t=Vk(hp),e=or.transition,n=qe;try{if(or.transition=null,qe=16>t?16:t,ao===null)var r=!1;else{if(t=ao,ao=null,hp=0,De&6)throw Error(Z(331));var i=De;for(De|=4,le=t.current;le!==null;){var o=le,a=o.child;if(le.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(le=u;le!==null;){var c=le;switch(c.tag){case 0:case 11:case 15:hc(8,c,o)}var f=c.child;if(f!==null)f.return=c,le=f;else for(;le!==null;){c=le;var h=c.sibling,p=c.return;if(Y2(c),c===u){le=null;break}if(h!==null){h.return=p,le=h;break}le=p}}}var y=o.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}le=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,le=a;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,le=b;break e}le=o.return}}var v=t.current;for(le=v;le!==null;){a=le;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,le=x;else e:for(a=v;le!==null;){if(s=le,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qm(9,s)}}catch(T){xt(s,s.return,T)}if(s===a){le=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,le=P;break e}le=s.return}}if(De=i,jo(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Bm,t)}catch{}r=!0}return r}finally{qe=n,or.transition=e}}return!1}function rS(t,e,n){e=ul(n,e),e=V2(t,e,1),t=mo(t,e,1),e=bn(),t!==null&&(Gf(t,1,e),Nn(t,e))}function xt(t,e,n){if(t.tag===3)rS(t,t,n);else for(;e!==null;){if(e.tag===3){rS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(go===null||!go.has(r))){t=ul(n,t),t=F2(e,t,1),e=mo(e,t,1),t=bn(),e!==null&&(Gf(e,1,t),Nn(e,t));break}}e=e.return}}function o3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Jt&n)===n&&($t===4||$t===3&&(Jt&130023424)===Jt&&500>St()-jw?xa(t,0):Rw|=n),Nn(t,e)}function aN(t,e){e===0&&(t.mode&1?(e=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):e=1);var n=bn();t=xi(t,e),t!==null&&(Gf(t,e,n),Nn(t,n))}function a3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aN(t,n)}function s3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),aN(t,n)}var sN;sN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,HF(t,e,n);An=!!(t.flags&131072)}else An=!1,ut&&e.flags&1048576&&f2(e,ip,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ah(t,e),t=e.pendingProps;var i=ol(e,dn.current);Qs(e,n),i=Aw(null,e,r,t,i,n);var o=Pw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(o=!0,np(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xw(e),i.updater=Hm,e.stateNode=i,i._reactInternals=e,P0(e,r,t,n),e=k0(null,e,r,!0,o,n)):(e.tag=0,ut&&o&&mw(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=u3(r),t=vr(r,t),i){case 0:e=C0(null,e,r,t,n);break e;case 1:e=KT(null,e,r,t,n);break e;case 11:e=WT(null,e,r,t,n);break e;case 14:e=GT(null,e,r,vr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),C0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),KT(t,e,r,i,n);case 3:e:{if(q2(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,y2(t,e),sp(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ul(Error(Z(423)),e),e=HT(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(Z(424)),e),e=HT(t,e,r,n,i);break e}else for(Fn=po(e.stateNode.containerInfo.firstChild),Un=e,ut=!0,xr=null,n=m2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===i){e=Ei(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return v2(e),t===null&&S0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,_0(r,i)?a=null:o!==null&&_0(r,o)&&(e.flags|=32),z2(t,e),pn(t,e,a,n),e.child;case 6:return t===null&&S0(e),null;case 13:return W2(t,e,n);case 4:return Ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sl(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),WT(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,tt(op,r._currentValue),r._currentValue=a,o!==null)if(Or(o.value,a)){if(o.children===i.children&&!Cn.current){e=Ei(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),I0(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),I0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=cr(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),GT(t,e,r,i,n);case 15:return B2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),Ah(t,e),e.tag=1,kn(r)?(t=!0,np(e)):t=!1,Qs(e,n),L2(e,r,i),P0(e,r,i,n),k0(null,e,r,!0,t,n);case 19:return G2(t,e,n);case 22:return U2(t,e,n)}throw Error(Z(156,e.tag))};function lN(t,e){return Dk(t,e)}function l3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new l3(t,e,n,r)}function Lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u3(t){if(typeof t=="function")return Lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rw)return 11;if(t===iw)return 14}return 2}function vo(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ch(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Lw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cs:return Ea(n.children,i,o,e);case nw:a=8,i|=8;break;case Jv:return t=nr(12,n,e,i|2),t.elementType=Jv,t.lanes=o,t;case Zv:return t=nr(13,n,e,i),t.elementType=Zv,t.lanes=o,t;case e0:return t=nr(19,n,e,i),t.elementType=e0,t.lanes=o,t;case vk:return Xm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gk:a=10;break e;case yk:a=9;break e;case rw:a=11;break e;case iw:a=14;break e;case Hi:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=nr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ea(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function Xm(t,e,n,r){return t=nr(22,t,r,e),t.elementType=vk,t.lanes=n,t.stateNode={isHidden:!1},t}function tv(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function nv(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=My(0),this.expirationTimes=My(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=My(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vw(t,e,n,r,i,o,a,s,l){return t=new c3(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(o),t}function f3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uN(t){if(!t)return Io;t=t._reactInternals;e:{if(Za(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(kn(n))return u2(t,n,e)}return e}function cN(t,e,n,r,i,o,a,s,l){return t=Vw(n,r,!0,t,i,o,a,s,l),t.context=uN(null),n=t.current,r=bn(),i=yo(n),o=pi(r,i),o.callback=e??null,mo(n,o,i),t.current.lanes=i,Gf(t,i,r),Nn(t,r),t}function Jm(t,e,n,r){var i=e.current,o=bn(),a=yo(i);return n=uN(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mo(i,e,a),t!==null&&(Ar(t,i,a,o),Th(t,i,a)),a}function mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fw(t,e){iS(t,e),(t=t.alternate)&&iS(t,e)}function d3(){return null}var fN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bw(t){this._internalRoot=t}Zm.prototype.render=Bw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Jm(t,e,null,null)};Zm.prototype.unmount=Bw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ra(function(){Jm(null,t,null,null)}),e[wi]=null}};function Zm(t){this._internalRoot=t}Zm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xi.length&&e!==0&&e<Xi[n].priority;n++);Xi.splice(n,0,t),n===0&&qk(t)}};function Uw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oS(){}function h3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mp(a);o.call(u)}}var a=cN(e,r,t,0,null,!1,!1,"",oS);return t._reactRootContainer=a,t[wi]=a.current,$c(t.nodeType===8?t.parentNode:t),Ra(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=mp(l);s.call(u)}}var l=Vw(t,0,!1,null,null,!1,!1,"",oS);return t._reactRootContainer=l,t[wi]=l.current,$c(t.nodeType===8?t.parentNode:t),Ra(function(){Jm(e,l,n,r)}),l}function tg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=mp(a);s.call(l)}}Jm(e,a,t,i)}else a=h3(n,e,t,i,r);return mp(a)}Fk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yu(e.pendingLanes);n!==0&&(sw(e,n|1),Nn(e,St()),!(De&6)&&(cl=St()+500,jo()))}break;case 13:Ra(function(){var r=xi(t,1);if(r!==null){var i=bn();Ar(r,t,1,i)}}),Fw(t,1)}};lw=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=bn();Ar(e,t,134217728,n)}Fw(t,134217728)}};Bk=function(t){if(t.tag===13){var e=yo(t),n=xi(t,e);if(n!==null){var r=bn();Ar(n,t,e,r)}Fw(t,e)}};Uk=function(){return qe};zk=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};c0=function(t,e,n){switch(e){case"input":if(r0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wm(r);if(!i)throw Error(Z(90));_k(r),r0(r,i)}}}break;case"textarea":xk(t,n);break;case"select":e=n.value,e!=null&&Ws(t,!!n.multiple,e,!1)}};Ok=Dw;Ck=Ra;var p3={usingClientEntryPoint:!1,Events:[Hf,js,Wm,Ak,Pk,Dw]},Nu={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m3={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||d3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Bm=Xd.inject(m3),Ur=Xd}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p3;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uw(e))throw Error(Z(200));return f3(t,e,null,n)};Kn.createRoot=function(t,e){if(!Uw(t))throw Error(Z(299));var n=!1,r="",i=fN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vw(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,$c(t.nodeType===8?t.parentNode:t),new Bw(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=Rk(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Ra(t)};Kn.hydrate=function(t,e,n){if(!eg(e))throw Error(Z(200));return tg(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Uw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=fN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=cN(e,null,t,1,n??null,i,!1,o,a),t[wi]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zm(e)};Kn.render=function(t,e,n){if(!eg(e))throw Error(Z(200));return tg(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!eg(t))throw Error(Z(40));return t._reactRootContainer?(Ra(function(){tg(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};Kn.unstable_batchedUpdates=Dw;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eg(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return tg(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function dN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dN)}catch(t){console.error(t)}}dN(),dk.exports=Kn;var g3=dk.exports,aS=g3;Yv.createRoot=aS.createRoot,Yv.hydrateRoot=aS.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>M.createElement("svg",{ref:c,...y3,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${v3(t)}`,s].join(" "),...u},[...e.map(([f,h])=>M.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=pe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=pe("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=pe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=pe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=pe("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=pe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=pe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=pe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=pe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=pe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Ie=(t=>(t.DASHBOARD="dashboard",t.TRACKER="tracker",t.COMMUNITY="community",t.LIBRARY="library",t.PROFILE="profile",t.ADMIN="admin",t))(Ie||{});const vN=[{id:1,text:"  ",category:"somatic"},{id:2,text:"  ( )",category:"somatic"},{id:3,text:" ",category:"somatic"},{id:4,text:" ",category:"psychological"},{id:5,text:"   ",category:"psychological"},{id:6,text:"  ",category:"psychological"},{id:7,text:"   ",category:"psychological"},{id:8,text:" ",category:"urogenital"},{id:9,text:" ",category:"urogenital"},{id:10,text:" ",category:"urogenital"},{id:11,text:"   ",category:"somatic"}],rv=["","","","","  "," "],U3=[""," ",""," "," ","",""," "," "," "," ",""],Gc={name:" ",age:0,weight:0,periodStatus:"",dominantSymptoms:[],role:"user"},gS=[{name:" ",total:0,somatic:0,psychological:0,urogenital:0},{name:" ",total:0,somatic:0,psychological:0,urogenital:0},{name:" ",total:0,somatic:0,psychological:0,urogenital:0},{name:" ",total:0,somatic:0,psychological:0,urogenital:0}],yS=[{type:"health",title:" ",content:"        ."},{type:"motivational",title:" ",content:"         ."},{type:"health",title:"",content:"    D   ."}],z3={:["            .","              .","         .","    (Paced Respiration)   :    .","  (  )      ."],:["       .","      :      .","    (  )       .","              .","         ."]," ":["         .","        .","          .","             ."],:["  (Mindfulness)        .","      ( )   .","         .","         ."]," ":["            .","           .","           .","       ."],:["          .","     (Power Nap)    .","        ."," B12        ."]," ":["         () .","        .","           .","  ( )         ."]," ":["         .","           .","           .","  D      ."]," ":["         .","          .","         .","        ."]," ":["         (To-Do List)  .","          .","      .","       ."],:["       .","    .","       .","          ."]},bp=["             .","          .","          .","       .","         ."];var vS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},_N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new W3;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G3=function(t){const e=bN(t);return _N.encodeByteArray(e,!0)},wN=function(t){return G3(t).replace(/\./g,"")},xN=function(t){try{return _N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=()=>K3().__FIREBASE_DEFAULTS__,Q3=()=>{if(typeof process>"u"||typeof vS>"u")return;const t=vS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xN(t[1]);return e&&JSON.parse(e)},ng=()=>{try{return H3()||Q3()||Y3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X3=t=>{var e,n;return(n=(e=ng())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EN=()=>{var t;return(t=ng())===null||t===void 0?void 0:t.config},TN=t=>{var e;return(e=ng())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function e5(){var t;const e=(t=ng())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r5(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IN(){return!e5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function AN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function i5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o5,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?a5(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Nr(i,s,r)}}function a5(t,e){return t.replace(s5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s5=/\{\$([^}]+)}/g;function l5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(bS(o)&&bS(a)){if(!Ao(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u5(t,e){const n=new c5(t,e);return n.subscribe.bind(n)}class c5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=iv),i.error===void 0&&(i.error=iv),i.complete===void 0&&(i.complete=iv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=1e3,h5=2,p5=4*60*60*1e3,m5=.5;function _S(t,e=d5,n=h5){const r=e*Math.pow(n,t),i=Math.round(m5*r*(Math.random()-.5)*2);return Math.min(p5,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new J3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v5(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y5(t){return t===ia?void 0:t}function v5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const _5={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},w5=Ce.INFO,x5={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},E5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=x5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=w5,this._logHandler=E5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const T5=(t,e)=>e.some(n=>t instanceof n);let wS,xS;function S5(){return wS||(wS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I5(){return xS||(xS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PN=new WeakMap,K0=new WeakMap,ON=new WeakMap,ov=new WeakMap,Ww=new WeakMap;function A5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(bo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&PN.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}function P5(t){if(K0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});K0.set(t,e)}let H0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ON.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O5(t){H0=t(H0)}function C5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(av(this),e,...n);return ON.set(r,e.sort?e.sort():[e]),bo(r)}:I5().includes(t)?function(...e){return t.apply(av(this),e),bo(PN.get(this))}:function(...e){return bo(t.apply(av(this),e))}}function k5(t){return typeof t=="function"?C5(t):(t instanceof IDBTransaction&&P5(t),T5(t,S5())?new Proxy(t,H0):t)}function bo(t){if(t instanceof IDBRequest)return A5(t);if(ov.has(t))return ov.get(t);const e=k5(t);return e!==t&&(ov.set(t,e),Ww.set(e,t)),e}const av=t=>Ww.get(t);function CN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=bo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(bo(a.result),l.oldVersion,l.newVersion,bo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const N5=["get","getKey","getAll","getAllKeys","count"],R5=["put","add","delete","clear"],sv=new Map;function ES(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sv.get(e))return sv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N5.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return sv.set(e,o),o}O5(t=>({...t,get:(e,n,r)=>ES(e,n)||t.get(e,n,r),has:(e,n)=>!!ES(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q0="@firebase/app",TS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new rg("@firebase/app"),M5="@firebase/app-compat",$5="@firebase/analytics-compat",L5="@firebase/analytics",V5="@firebase/app-check-compat",F5="@firebase/app-check",B5="@firebase/auth",U5="@firebase/auth-compat",z5="@firebase/database",q5="@firebase/data-connect",W5="@firebase/database-compat",G5="@firebase/functions",K5="@firebase/functions-compat",H5="@firebase/installations",Q5="@firebase/installations-compat",Y5="@firebase/messaging",X5="@firebase/messaging-compat",J5="@firebase/performance",Z5="@firebase/performance-compat",eB="@firebase/remote-config",tB="@firebase/remote-config-compat",nB="@firebase/storage",rB="@firebase/storage-compat",iB="@firebase/firestore",oB="@firebase/vertexai-preview",aB="@firebase/firestore-compat",sB="firebase",lB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="[DEFAULT]",uB={[Q0]:"fire-core",[M5]:"fire-core-compat",[L5]:"fire-analytics",[$5]:"fire-analytics-compat",[F5]:"fire-app-check",[V5]:"fire-app-check-compat",[B5]:"fire-auth",[U5]:"fire-auth-compat",[z5]:"fire-rtdb",[q5]:"fire-data-connect",[W5]:"fire-rtdb-compat",[G5]:"fire-fn",[K5]:"fire-fn-compat",[H5]:"fire-iid",[Q5]:"fire-iid-compat",[Y5]:"fire-fcm",[X5]:"fire-fcm-compat",[J5]:"fire-perf",[Z5]:"fire-perf-compat",[eB]:"fire-rc",[tB]:"fire-rc-compat",[nB]:"fire-gcs",[rB]:"fire-gcs-compat",[iB]:"fire-fst",[aB]:"fire-fst-compat",[oB]:"fire-vertex","fire-js":"fire-js",[sB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Map,cB=new Map,X0=new Map;function SS(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yr(t){const e=t.name;if(X0.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;X0.set(e,t);for(const n of _p.values())SS(n,t);for(const n of cB.values())SS(n,t);return!0}function ts(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new es("app","Firebase",fB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=lB;function kN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Y0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=EN()),!n)throw _o.create("no-options");const o=_p.get(i);if(o){if(Ao(n,o.options)&&Ao(r,o.config))return o;throw _o.create("duplicate-app",{appName:i})}const a=new b5(i);for(const l of X0.values())a.addComponent(l);const s=new dB(n,r,a);return _p.set(i,s),s}function NN(t=Y0){const e=_p.get(t);if(!e&&t===Y0&&EN())return kN();if(!e)throw _o.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=uB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(s.join(" "));return}Yr(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="firebase-heartbeat-database",pB=1,Kc="firebase-heartbeat-store";let lv=null;function RN(){return lv||(lv=CN(hB,pB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),lv}async function mB(t){try{const n=(await RN()).transaction(Kc),r=await n.objectStore(Kc).get(jN(t));return await n.done,r}catch(e){if(e instanceof Nr)Ti.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function IS(t,e){try{const r=(await RN()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,jN(t)),await r.done}catch(n){if(n instanceof Nr)Ti.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function jN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1024,yB=30*24*60*60*1e3;class vB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _B(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=yB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AS(),{heartbeatsToSend:r,unsentEntries:i}=bB(this._heartbeatsCache.heartbeats),o=wN(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ti.warn(n),""}}}function AS(){return new Date().toISOString().substring(0,10)}function bB(t,e=gB){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),PS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _B{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?AN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PS(t){return wN(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){Yr(new Cr("platform-logger",e=>new j5(e),"PRIVATE")),Yr(new Cr("heartbeat",e=>new vB(e),"PRIVATE")),ar(Q0,TS,t),ar(Q0,TS,"esm2017"),ar("fire-js","")}wB("");var xB="firebase",EB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(xB,EB,"app");const DN="@firebase/installations",Gw="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1e4,$N=`w:${Gw}`,LN="FIS_v2",TB="https://firebaseinstallations.googleapis.com/v1",SB=60*60*1e3,IB="installations",AB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ja=new es(IB,AB,PB);function VN(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN({projectId:t}){return`${TB}/projects/${t}/installations`}function BN(t){return{token:t.token,requestStatus:2,expiresIn:CB(t.expiresIn),creationTime:Date.now()}}async function UN(t,e){const r=(await e.json()).error;return ja.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OB(t,{refreshToken:e}){const n=zN(t);return n.append("Authorization",kB(e)),n}async function qN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CB(t){return Number(t.replace("s","000"))}function kB(t){return`${LN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=FN(t),i=zN(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:LN,appId:t.appId,sdkVersion:$N},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await qN(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:BN(u.authToken)}}else throw await UN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=/^[cdef][\w-]{21}$/,J0="";function DB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=MB(t);return jB.test(n)?n:J0}catch{return J0}}function MB(t){return RB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Map;function KN(t,e){const n=ig(t);HN(n,e),$B(n,e)}function HN(t,e){const n=GN.get(t);if(n)for(const r of n)r(e)}function $B(t,e){const n=LB();n&&n.postMessage({key:t,fid:e}),VB()}let ga=null;function LB(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=t=>{HN(t.data.key,t.data.fid)}),ga}function VB(){GN.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB="firebase-installations-database",BB=1,Da="firebase-installations-store";let uv=null;function Kw(){return uv||(uv=CN(FB,BB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Da)}}})),uv}async function wp(t,e){const n=ig(t),i=(await Kw()).transaction(Da,"readwrite"),o=i.objectStore(Da),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&KN(t,e.fid),e}async function QN(t){const e=ig(t),r=(await Kw()).transaction(Da,"readwrite");await r.objectStore(Da).delete(e),await r.done}async function og(t,e){const n=ig(t),i=(await Kw()).transaction(Da,"readwrite"),o=i.objectStore(Da),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&KN(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(t){let e;const n=await og(t.appConfig,r=>{const i=UB(r),o=zB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===J0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UB(t){const e=t||{fid:DB(),registrationStatus:0};return YN(e)}function zB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ja.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WB(t)}:{installationEntry:e}}async function qB(t,e){try{const n=await NB(t,e);return wp(t.appConfig,n)}catch(n){throw VN(n)&&n.customData.serverCode===409?await QN(t.appConfig):await wp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function WB(t){let e=await OS(t.appConfig);for(;e.registrationStatus===1;)await WN(100),e=await OS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hw(t);return r||n}return e}function OS(t){return og(t,e=>{if(!e)throw ja.create("installation-not-found");return YN(e)})}function YN(t){return GB(t)?{fid:t.fid,registrationStatus:0}:t}function GB(t){return t.registrationStatus===1&&t.registrationTime+MN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB({appConfig:t,heartbeatServiceProvider:e},n){const r=HB(t,n),i=OB(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:$N,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await qN(()=>fetch(r,s));if(l.ok){const u=await l.json();return BN(u)}else throw await UN("Generate Auth Token",l)}function HB(t,{fid:e}){return`${FN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t,e=!1){let n;const r=await og(t.appConfig,o=>{if(!XN(o))throw ja.create("not-registered");const a=o.authToken;if(!e&&XB(a))return o;if(a.requestStatus===1)return n=QB(t,e),o;{if(!navigator.onLine)throw ja.create("app-offline");const s=ZB(o);return n=YB(t,s),s}});return n?await n:r.authToken}async function QB(t,e){let n=await CS(t.appConfig);for(;n.authToken.requestStatus===1;)await WN(100),n=await CS(t.appConfig);const r=n.authToken;return r.requestStatus===0?Qw(t,e):r}function CS(t){return og(t,e=>{if(!XN(e))throw ja.create("not-registered");const n=e.authToken;return eU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YB(t,e){try{const n=await KB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await wp(t.appConfig,r),n}catch(n){if(VN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await wp(t.appConfig,r)}throw n}}function XN(t){return t!==void 0&&t.registrationStatus===2}function XB(t){return t.requestStatus===2&&!JB(t)}function JB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SB}function ZB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function eU(t){return t.requestStatus===1&&t.requestTime+MN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Hw(e);return r?r.catch(console.error):Qw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e=!1){const n=t;return await rU(n),(await Qw(n,e)).token}async function rU(t){const{registrationPromise:e}=await Hw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){if(!t||!t.options)throw cv("App Configuration");if(!t.name)throw cv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cv(t){return ja.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="installations",oU="installations-internal",aU=t=>{const e=t.getProvider("app").getImmediate(),n=iU(e),r=ts(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sU=t=>{const e=t.getProvider("app").getImmediate(),n=ts(e,JN).getImmediate();return{getId:()=>tU(n),getToken:i=>nU(n,i)}};function lU(){Yr(new Cr(JN,aU,"PUBLIC")),Yr(new Cr(oU,sU,"PRIVATE"))}lU();ar(DN,Gw);ar(DN,Gw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="analytics",uU="firebase_id",cU="origin",fU=60*1e3,dU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new rg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new es("analytics","Analytics",hU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){if(!t.startsWith(Yw)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return Rn.warn(e.message),""}return t}function ZN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function mU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gU(t,e){const n=mU("firebase-js-sdk-policy",{createScriptURL:pU}),r=document.createElement("script"),i=`${Yw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vU(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await ZN(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){Rn.error(s)}t("config",i,o)}async function bU(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await ZN(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Rn.error(o)}}function _U(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await bU(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await vU(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){Rn.error(s)}}return i}function wU(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=_U(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function xU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=30,TU=1e3;class SU{constructor(e={},n=TU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eR=new SU;function IU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:IU(r)},o=dU.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function PU(t,e=eR,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw zn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw zn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new kU;return setTimeout(async()=>{s.abort()},fU),tR({appId:r,apiKey:i,measurementId:o},a,s,e)}async function tR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=eR){var o;const{appId:a,measurementId:s}=t;try{await OU(r,e)}catch(l){if(s)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await AU(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!CU(u)){if(i.deleteThrottleMetadata(a),s)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?_S(n,i.intervalMillis,EU):_S(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),Rn.debug(`Calling attemptFetch again in ${c} millis`),tR(t,f,r,i)}}function OU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function CU(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(){if(qw())try{await AN()}catch(t){return Rn.warn(zn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Rn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jU(t,e,n,r,i,o,a){var s;const l=PU(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Rn.error(p)),e.push(l);const u=RU().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);xU(o)||gU(o,c.measurementId),i("js",new Date);const h=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return h[cU]="firebase",h.update=!0,f!=null&&(h[uU]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.app=e}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},kS=[];const NS={};let fv="dataLayer",MU="gtag",RS,nR,jS=!1;function $U(){const t=[];if(SN()&&t.push("This is a browser extension environment."),i5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});Rn.warn(n.message)}}function LU(t,e,n){$U();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(yc[r]!=null)throw zn.create("already-exists",{id:r});if(!jS){yU(fv);const{wrappedGtag:o,gtagCore:a}=wU(yc,kS,NS,fv,MU);nR=o,RS=a,jS=!0}return yc[r]=jU(t,kS,NS,e,RS,fv,n),new DU(t)}function VU(t=NN()){t=It(t);const e=ts(t,xp);return e.isInitialized()?e.getImmediate():FU(t)}function FU(t,e={}){const n=ts(t,xp);if(n.isInitialized()){const i=n.getImmediate();if(Ao(e,n.getOptions()))return i;throw zn.create("already-initialized")}return n.initialize({options:e})}function BU(t,e,n,r){t=It(t),NU(nR,yc[t.app.options.appId],e,n,r).catch(i=>Rn.error(i))}const DS="@firebase/analytics",MS="0.10.8";function UU(){Yr(new Cr(xp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return LU(r,i,n)},"PUBLIC")),Yr(new Cr("analytics-internal",t,"PRIVATE")),ar(DS,MS),ar(DS,MS,"esm2017");function t(e){try{const n=e.getProvider(xp).getImmediate();return{logEvent:(r,i,o)=>BU(n,r,i,o)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}UU();function Xw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zU=rR,iR=new es("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new rg("@firebase/auth");function qU(t,...e){Ep.logLevel<=Ce.WARN&&Ep.warn(`Auth (${Wl}): ${t}`,...e)}function Rh(t,...e){Ep.logLevel<=Ce.ERROR&&Ep.error(`Auth (${Wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw Jw(t,...e)}function qr(t,...e){return Jw(t,...e)}function oR(t,e,n){const r=Object.assign(Object.assign({},zU()),{[e]:n});return new es("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return oR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iR.create(t,...e)}function ve(t,e,...n){if(!t)throw Jw(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function Si(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WU(){return $S()==="http:"||$S()==="https:"}function $S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WU()||SN()||"connection"in navigator)?navigator.onLine:!0}function KU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Z3()||n5()}get(){return GU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=new Xf(3e4,6e4);function Do(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mo(t,e,n,r,i={}){return sR(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Yf(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return t5()||(u.referrerPolicy="no-referrer"),aR.fetch()(lR(t,t.config.apiHost,n,s),u)})}async function sR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HU),e);try{const i=new XU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Jd(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Jd(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oR(t,c,u);kr(t,c)}}catch(i){if(i instanceof Nr)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function Jf(t,e,n,r,i={}){const o=await Mo(t,e,n,r,i);return"mfaPendingCredential"in o&&kr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function lR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zw(t.config,i):`${t.config.apiScheme}://${i}`}function YU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),QU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}function LS(t){return t!==void 0&&t.enterprise!==void 0}class JU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZU(t,e){return Mo(t,"GET","/v2/recaptchaConfig",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Mo(t,"POST","/v1/accounts:delete",e)}async function uR(t,e){return Mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t6(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=ex(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vc(dv(i.auth_time)),issuedAtTime:vc(dv(i.iat)),expirationTime:vc(dv(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dv(t){return Number(t)*1e3}function ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=xN(n);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VS(t){const e=ex(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&n6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hc(t,uR(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cR(o.providerUserInfo):[],s=o6(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new eb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function i6(t){const e=It(t);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cR(t){return t.map(e=>{var{providerId:n}=e,r=Xw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){const n=await sR(t,{},async()=>{const r=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=lR(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",aR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s6(t,e){return Mo(t,"POST","/v2/accounts:revokeToken",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=VS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await a6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Xs;return r&&(ve(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Hc(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t6(this,e)}reload(){return i6(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Hc(this,e6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(s=n.tenantId)!==null&&s!==void 0?s:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:P,isAnonymous:T,providerData:I,stsTokenManager:E}=n;ve(x&&E,e,"internal-error");const S=Xs.fromJSON(this.name,E);ve(typeof x=="string",e,"internal-error"),qi(f,e.name),qi(h,e.name),ve(typeof P=="boolean",e,"internal-error"),ve(typeof T=="boolean",e,"internal-error"),qi(p,e.name),qi(y,e.name),qi(_,e.name),qi(w,e.name),qi(b,e.name),qi(v,e.name);const O=new li({uid:x,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:p,tenantId:_,stsTokenManager:S,createdAt:b,lastLoginAt:v});return I&&Array.isArray(I)&&(O.providerData=I.map(k=>Object.assign({},k))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const o=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?cR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Xs;s.updateFromIdToken(r);const l=new li({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new Map;function ui(t){Si(t instanceof Function,"Expected a class definition");let e=FS.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fR.type="NONE";const BS=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=jh(this.userKey,i.apiKey,o),this.fullPersistenceKey=jh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(ui(BS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ui(BS);const a=jh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=li._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Js(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Js(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(vR(e))return"Webos";if(hR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dR(t=Vt()){return/firefox\//i.test(t)}function hR(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=Vt()){return/crios\//i.test(t)}function mR(t=Vt()){return/iemobile/i.test(t)}function gR(t=Vt()){return/android/i.test(t)}function yR(t=Vt()){return/blackberry/i.test(t)}function vR(t=Vt()){return/webos/i.test(t)}function tx(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l6(t=Vt()){var e;return tx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u6(){return r5()&&document.documentMode===10}function bR(t=Vt()){return tx(t)||gR(t)||vR(t)||yR(t)||/windows phone/i.test(t)||mR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e=[]){let n;switch(t){case"Browser":n=US(Vt());break;case"Worker":n=`${US(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",Do(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=6;class h6{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:d6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zS(this),this.idTokenSubscription=new zS(this),this.beforeStateQueue=new c6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uR(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Wr(this));const n=e?It(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f6(this),n=new h6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_R(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $o(t){return It(t)}class zS{constructor(e){this.auth=e,this.observer=null,this.addObserver=u5(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m6(t){ag=t}function wR(t){return ag.loadJS(t)}function g6(){return ag.recaptchaEnterpriseScript}function y6(){return ag.gapiScript}function v6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const b6="recaptcha-enterprise",_6="NO_RECAPTCHA";class w6{constructor(e){this.type=b6,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{ZU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new JU(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;LS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(_6)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&LS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=g6();l.length!==0&&(l+=s),wR(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function qS(t,e,n,r=!1){const i=new w6(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await qS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){const n=ts(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ao(o,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function E6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T6(t,e,n){const r=$o(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=xR(e),{host:a,port:s}=S6(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),I6()}function xR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S6(t){const e=xR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:WS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:WS(a)}}}function WS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function A6(t,e){return Mo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){return Jf(t,"POST","/v1/accounts:signInWithPassword",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",Do(t,e))}async function C6(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends nx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,n,"signInWithPassword",P6);case"emailLink":return O6(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,r,"signUpPassword",A6);case"emailLink":return C6(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return Jf(t,"POST","/v1/accounts:signInWithIdp",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="http://localhost";class Ma extends nx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Xw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ma(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:k6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R6(t){const e=Zu(ec(t)).link,n=e?Zu(ec(e)).deep_link_id:null,r=Zu(ec(t)).deep_link_id;return(r?Zu(ec(r)).link:null)||r||n||e||t}class rx{constructor(e){var n,r,i,o,a,s;const l=Zu(ec(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=N6((i=l.mode)!==null&&i!==void 0?i:null);ve(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=R6(e);try{return new rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rx.parseLink(n);return ve(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends ER{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Zf{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Zf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Zf{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Zf{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return Jf(t,"POST","/v1/accounts:signUp",Do(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),a=GS(r);return new Ii({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GS(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t){var e;if(Tr(t.app))return Promise.reject(Wr(t));const n=$o(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ii({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await TR(n,{returnSecureToken:!0}),i=await Ii._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends Nr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sp(e,n,r,i)}}function SR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sp._fromErrorAndOperation(t,o,e,r):o})}async function D6(t,e,n=!1){const r=await Hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const o=await Hc(t,SR(r,i,e,t),n);ve(o.idToken,r,"internal-error");const a=ex(o.idToken);ve(a,r,"internal-error");const{sub:s}=a;return ve(t.uid===s,r,"user-mismatch"),Ii._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e,n=!1){if(Tr(t.app))return Promise.reject(Wr(t));const r="signIn",i=await SR(t,r,e),o=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function $6(t,e){return IR($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function L6(t,e,n){if(Tr(t.app))return Promise.reject(Wr(t));const r=$o(t),a=await tb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AR(t),l}),s=await Ii._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function V6(t,e,n){return Tr(t.app)?Promise.reject(Wr(t)):$6(It(t),Gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AR(t),r})}function F6(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function B6(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function U6(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function hv(t){return It(t).signOut()}const Ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=1e3,q6=10;class OR extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);u6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OR.type="LOCAL";const W6=OR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CR.type="SESSION";const kR=CR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await G6(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=ix("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function H6(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function Q6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X6(){return NR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",J6=1,Ap="firebaseLocalStorage",jR="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lg(t,e){return t.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function Z6(){const t=indexedDB.deleteDatabase(RR);return new ed(t).toPromise()}function nb(){const t=indexedDB.open(RR,J6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ap,{keyPath:jR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ap)?e(r):(r.close(),await Z6(),e(await nb()))})})}async function KS(t,e,n){const r=lg(t,!0).put({[jR]:e,value:n});return new ed(r).toPromise()}async function ez(t,e){const n=lg(t,!1).get(e),r=await new ed(n).toPromise();return r===void 0?null:r.value}function HS(t,e){const n=lg(t,!0).delete(e);return new ed(n).toPromise()}const tz=800,nz=3;class DR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sg._getInstance(X6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q6(),!this.activeServiceWorker)return;this.sender=new K6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nb();return await KS(e,Ip,"1"),await HS(e,Ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ez(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=lg(i,!1).getAll();return new ed(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DR.type="LOCAL";const rz=DR;new Xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e){return e?ui(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends nx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oz(t){return IR(t.auth,new ox(t),t.bypassAuthState)}function az(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),M6(n,new ox(t),t.bypassAuthState)}async function sz(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),D6(n,new ox(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oz;case"linkViaPopup":case"linkViaRedirect":return sz;case"reauthViaPopup":case"reauthViaRedirect":return az;default:kr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new Xf(2e3,1e4);class Bs extends MR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lz.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="pendingRedirect",Dh=new Map;class cz extends MR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const r=await fz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fz(t,e){const n=pz(e),r=hz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dz(t,e){Dh.set(t._key(),e)}function hz(t){return ui(t._redirectPersistence)}function pz(t){return jh(uz,t.config.apiKey,t.name)}async function mz(t,e,n=!1){if(Tr(t.app))return Promise.reject(Wr(t));const r=$o(t),i=iz(r,e),a=await new cz(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=10*60*1e3;class yz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$R(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gz&&this.cachedEventUids.clear(),this.cachedEventUids.has(QS(e))}saveEventToCache(e){this.cachedEventUids.add(QS(e)),this.lastProcessedEventTime=Date.now()}}function QS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e={}){return Mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wz=/^https?/;async function xz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bz(t);for(const n of e)try{if(Ez(n))return}catch{}kr(t,"unauthorized-domain")}function Ez(t){const e=Z0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!wz.test(n))return!1;if(_z.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new Xf(3e4,6e4);function YS(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sz(t){return new Promise((e,n)=>{var r,i,o;function a(){YS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YS(),n(qr(t,"network-request-failed"))},timeout:Tz.get()})}if(!((i=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)a();else{const s=v6("iframefcb");return Gr()[s]=()=>{gapi.load?a():n(qr(t,"network-request-failed"))},wR(`${y6()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function Iz(t){return Mh=Mh||Sz(t),Mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new Xf(5e3,15e3),Pz="__/auth/iframe",Oz="emulator/auth/iframe",Cz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nz(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zw(e,Oz):`https://${t.config.authDomain}/${Pz}`,r={apiKey:e.apiKey,appName:t.name,v:Wl},i=kz.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yf(r).slice(1)}`}async function Rz(t){const e=await Iz(t),n=Gr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:Nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cz,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=qr(t,"network-request-failed"),s=Gr().setTimeout(()=>{o(a)},Az.get());function l(){Gr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dz=500,Mz=600,$z="_blank",Lz="http://localhost";class XS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vz(t,e,n,r=Dz,i=Mz){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},jz),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Vt().toLowerCase();n&&(s=pR(u)?$z:n),dR(u)&&(e=e||Lz,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(l6(u)&&s!=="_self")return Fz(e||"",s),new XS(null);const f=window.open(e||"",s,c);ve(f,t,"popup-blocked");try{f.focus()}catch{}return new XS(f)}function Fz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="__/auth/handler",Uz="emulator/auth/handler",zz=encodeURIComponent("fac");async function JS(t,e,n,r,i,o){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wl,eventId:i};if(e instanceof ER){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",l5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof Zf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${zz}=${encodeURIComponent(l)}`:"";return`${qz(t)}?${Yf(s).slice(1)}${u}`}function qz({config:t}){return t.emulator?Zw(t,Uz):`https://${t.authDomain}/${Bz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="webStorageSupport";class Wz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kR,this._completeRedirectFn=mz,this._overrideRedirectResult=dz}async _openPopup(e,n,r,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await JS(e,n,r,Z0(),i);return Vz(e,a,ix())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await JS(e,n,r,Z0(),i);return H6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rz(e),r=new yz(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pv,{type:pv},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[pv];a!==void 0&&n(!!a),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bR()||hR()||tx()}}const Gz=Wz;var ZS="@firebase/auth",eI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qz(t){Yr(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ve(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_R(t)},u=new p6(r,i,o,l);return E6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Cr("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new Kz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(ZS,eI,Hz(t)),ar(ZS,eI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=5*60,Xz=TN("authIdTokenMaxAge")||Yz;let tI=null;const Jz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xz)return;const i=n==null?void 0:n.token;tI!==i&&(tI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zz(t=NN()){const e=ts(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:Gz,persistence:[rz,W6,kR]}),r=TN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Jz(o.toString());B6(n,a,()=>a(n.currentUser)),F6(n,s=>a(s))}}const i=X3("auth");return i&&T6(n,`http://${i}`),n}function e9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",e9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qz("Browser");var nI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,LR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function O(){}O.prototype=S.prototype,E.D=S.prototype,E.prototype=new O,E.prototype.constructor=E,E.C=function(k,C,j){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return S.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,O){O||(O=0);var k=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)k[C]=S.charCodeAt(O++)|S.charCodeAt(O++)<<8|S.charCodeAt(O++)<<16|S.charCodeAt(O++)<<24;else for(C=0;16>C;++C)k[C]=S[O++]|S[O++]<<8|S[O++]<<16|S[O++]<<24;S=E.g[0],O=E.g[1],C=E.g[2];var j=E.g[3],N=S+(j^O&(C^j))+k[0]+3614090360&4294967295;S=O+(N<<7&4294967295|N>>>25),N=j+(C^S&(O^C))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(O^j&(S^O))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=O+(S^C&(j^S))+k[3]+3250441966&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(j^O&(C^j))+k[4]+4118548399&4294967295,S=O+(N<<7&4294967295|N>>>25),N=j+(C^S&(O^C))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(O^j&(S^O))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=O+(S^C&(j^S))+k[7]+4249261313&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(j^O&(C^j))+k[8]+1770035416&4294967295,S=O+(N<<7&4294967295|N>>>25),N=j+(C^S&(O^C))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(O^j&(S^O))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=O+(S^C&(j^S))+k[11]+2304563134&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(j^O&(C^j))+k[12]+1804603682&4294967295,S=O+(N<<7&4294967295|N>>>25),N=j+(C^S&(O^C))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(O^j&(S^O))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=O+(S^C&(j^S))+k[15]+1236535329&4294967295,O=C+(N<<22&4294967295|N>>>10),N=S+(C^j&(O^C))+k[1]+4129170786&4294967295,S=O+(N<<5&4294967295|N>>>27),N=j+(O^C&(S^O))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(j^S))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=O+(j^S&(C^j))+k[0]+3921069994&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(O^C))+k[5]+3593408605&4294967295,S=O+(N<<5&4294967295|N>>>27),N=j+(O^C&(S^O))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(j^S))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=O+(j^S&(C^j))+k[4]+3889429448&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(O^C))+k[9]+568446438&4294967295,S=O+(N<<5&4294967295|N>>>27),N=j+(O^C&(S^O))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(j^S))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=O+(j^S&(C^j))+k[8]+1163531501&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(O^C))+k[13]+2850285829&4294967295,S=O+(N<<5&4294967295|N>>>27),N=j+(O^C&(S^O))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^O&(j^S))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=O+(j^S&(C^j))+k[12]+2368359562&4294967295,O=C+(N<<20&4294967295|N>>>12),N=S+(O^C^j)+k[5]+4294588738&4294967295,S=O+(N<<4&4294967295|N>>>28),N=j+(S^O^C)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^O)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=O+(C^j^S)+k[14]+4259657740&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^j)+k[1]+2763975236&4294967295,S=O+(N<<4&4294967295|N>>>28),N=j+(S^O^C)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^O)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=O+(C^j^S)+k[10]+3200236656&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^j)+k[13]+681279174&4294967295,S=O+(N<<4&4294967295|N>>>28),N=j+(S^O^C)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^O)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=O+(C^j^S)+k[6]+76029189&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(O^C^j)+k[9]+3654602809&4294967295,S=O+(N<<4&4294967295|N>>>28),N=j+(S^O^C)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^O)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=O+(C^j^S)+k[2]+3299628645&4294967295,O=C+(N<<23&4294967295|N>>>9),N=S+(C^(O|~j))+k[0]+4096336452&4294967295,S=O+(N<<6&4294967295|N>>>26),N=j+(O^(S|~C))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~O))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=O+(j^(C|~S))+k[5]+4237533241&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~j))+k[12]+1700485571&4294967295,S=O+(N<<6&4294967295|N>>>26),N=j+(O^(S|~C))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~O))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=O+(j^(C|~S))+k[1]+2240044497&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~j))+k[8]+1873313359&4294967295,S=O+(N<<6&4294967295|N>>>26),N=j+(O^(S|~C))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~O))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=O+(j^(C|~S))+k[13]+1309151649&4294967295,O=C+(N<<21&4294967295|N>>>11),N=S+(C^(O|~j))+k[4]+4149444226&4294967295,S=O+(N<<6&4294967295|N>>>26),N=j+(O^(S|~C))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~O))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=O+(j^(C|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var O=S-this.blockSize,k=this.B,C=this.h,j=0;j<S;){if(C==0)for(;j<=O;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(k[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<S;)if(k[C++]=E[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var O=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=O&255,O/=256;for(this.u(E),E=Array(16),S=O=0;4>S;++S)for(var k=0;32>k;k+=8)E[O++]=this.g[S]>>>k&255;return E};function o(E,S){var O=s;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=S(E)}function a(E,S){this.h=S;for(var O=[],k=!0,C=E.length-1;0<=C;C--){var j=E[C]|0;k&&j==S||(O[C]=j,k=!1)}this.g=O}var s={};function l(E){return-128<=E&&128>E?o(E,function(S){return new a([S|0],0>S?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return w(u(-E));for(var S=[],O=1,k=0;E>=O;k++)S[k]=E/O|0,O*=4294967296;return new a(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return w(c(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(S,8)),k=f,C=0;C<E.length;C+=8){var j=Math.min(8,E.length-C),N=parseInt(E.substring(C,C+j),S);8>j?(j=u(Math.pow(S,j)),k=k.j(j).add(u(N))):(k=k.j(O),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(_(this))return-w(this).m();for(var E=0,S=1,O=0;O<this.g.length;O++){var k=this.i(O);E+=(0<=k?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(_(this))return"-"+w(this).toString(E);for(var S=u(Math.pow(E,6)),O=this,k="";;){var C=P(O,S).g;O=b(O,C.j(S));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(E);if(O=C,y(O))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=b(this,E),_(E)?-1:y(E)?0:1};function w(E){for(var S=E.g.length,O=[],k=0;k<S;k++)O[k]=~E.g[k];return new a(O,~E.h).add(h)}t.abs=function(){return _(this)?w(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0,C=0;C<=S;C++){var j=k+(this.i(C)&65535)+(E.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,O[C]=N<<16|j}return new a(O,O[O.length-1]&-2147483648?-1:0)};function b(E,S){return E.add(w(S))}t.j=function(E){if(y(this)||y(E))return f;if(_(this))return _(E)?w(this).j(w(E)):w(w(this).j(E));if(_(E))return w(this.j(w(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,O=[],k=0;k<2*S;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<E.g.length;C++){var j=this.i(k)>>>16,N=this.i(k)&65535,z=E.i(C)>>>16,B=E.i(C)&65535;O[2*k+2*C]+=N*B,v(O,2*k+2*C),O[2*k+2*C+1]+=j*B,v(O,2*k+2*C+1),O[2*k+2*C+1]+=N*z,v(O,2*k+2*C+1),O[2*k+2*C+2]+=j*z,v(O,2*k+2*C+2)}for(k=0;k<S;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=S;k<2*S;k++)O[k]=0;return new a(O,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function P(E,S){if(y(S))throw Error("division by zero");if(y(E))return new x(f,f);if(_(E))return S=P(w(E),S),new x(w(S.g),w(S.h));if(_(S))return S=P(E,w(S)),new x(w(S.g),S.h);if(30<E.g.length){if(_(E)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var O=h,k=S;0>=k.l(E);)O=T(O),k=T(k);var C=I(O,1),j=I(k,1);for(k=I(k,2),O=I(O,2);!y(k);){var N=j.add(k);0>=N.l(E)&&(C=C.add(O),j=N),k=I(k,1),O=I(O,1)}return S=b(E,C.j(S)),new x(C,S)}for(C=f;0<=E.l(S);){for(O=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=u(O),N=j.j(S);_(N)||0<N.l(E);)O-=k,j=u(O),N=j.j(S);y(j)&&(j=h),C=C.add(j),E=b(E,N)}return new x(C,E)}t.A=function(E){return P(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)&E.i(k);return new a(O,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)|E.i(k);return new a(O,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),O=[],k=0;k<S;k++)O[k]=this.i(k)^E.i(k);return new a(O,this.h^E.h)};function T(E){for(var S=E.g.length+1,O=[],k=0;k<S;k++)O[k]=E.i(k)<<1|E.i(k-1)>>>31;return new a(O,E.h)}function I(E,S){var O=S>>5;S%=32;for(var k=E.g.length-O,C=[],j=0;j<k;j++)C[j]=0<S?E.i(j+O)>>>S|E.i(j+O+1)<<32-S:E.i(j+O);return new a(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Ta=a}).apply(typeof nI<"u"?nI:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VR,tc,FR,$h,rb,BR,UR,zR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,A){return d==Array.prototype||d==Object.prototype||(d[g]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var g=0;g<d.length;++g){var A=d[g];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var A=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var L=d[R];if(!(L in A))break e;A=A[L]}d=d[d.length-1],R=A[d],g=g(R),g!=R&&g!=null&&e(A,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var A=0,R=!1,L={next:function(){if(!R&&A<d.length){var U=A++;return{value:g(U,d[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function c(d,g,A){return d.call.apply(d.bind,arguments)}function f(d,g,A){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),d.apply(g,L)}}return function(){return d.apply(g,arguments)}}function h(d,g,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,g){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,g){function A(){}A.prototype=g.prototype,d.aa=g.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(R,L,U){for(var re=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)re[Xe-2]=arguments[Xe];return g.prototype[L].apply(R,re)}}function _(d){const g=d.length;if(0<g){const A=Array(g);for(let R=0;R<g;R++)A[R]=d[R];return A}return[]}function w(d,g){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const L=d.length||0,U=R.length||0;d.length=L+U;for(let re=0;re<U;re++)d[L+re]=R[re]}else d.push(R)}}class b{constructor(g,A){this.i=g,this.j=A,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function I(d,g,A){for(const R in d)g.call(A,d[R],R,d)}function E(d,g){for(const A in d)g.call(void 0,d[A],A,d)}function S(d){const g={};for(const A in d)g[A]=d[A];return g}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,g){let A,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(A in R)d[A]=R[A];for(let U=0;U<O.length;U++)A=O[U],Object.prototype.hasOwnProperty.call(R,A)&&(d[A]=R[A])}}function C(d){var g=1;d=d.split(":");const A=[];for(;0<g&&d.length;)A.push(d.shift()),g--;return d.length&&A.push(d.join(":")),A}function j(d){s.setTimeout(()=>{throw d},0)}function N(){var d=q;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,A){const R=B.get();R.set(g,A),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new b(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,A){this.h=g,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,q=new z,V=()=>{const d=s.Promise.resolve(void 0);K=()=>{d.then(ee)}};var ee=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(A){j(A)}var g=B;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,g),s.removeEventListener("test",A,g)}catch{}return d}();function we(d,g){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(T){e:{try{P(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else A=="mouseover"?g=d.fromElement:A=="mouseout"&&(g=d.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&we.aa.h.call(this)}}y(we,te);var Ue={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),At=0;function oe(d,g,A,R,L){this.listener=d,this.proxy=null,this.src=g,this.type=A,this.capture=!!R,this.ha=L,this.key=++At,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,g,A,R,L){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var re=je(d,g,R,L);return-1<re?(g=d[re],A||(g.fa=!1)):(g=new oe(g,this.src,U,!!R,L),g.fa=A,d.push(g)),g};function X(d,g){var A=g.type;if(A in d.g){var R=d.g[A],L=Array.prototype.indexOf.call(R,g,void 0),U;(U=0<=L)&&Array.prototype.splice.call(R,L,1),U&&(me(g),d.g[A].length==0&&(delete d.g[A],d.h--))}}function je(d,g,A,R){for(var L=0;L<d.length;++L){var U=d[L];if(!U.da&&U.listener==g&&U.capture==!!A&&U.ha==R)return L}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ve={};function W(d,g,A,R,L){if(Array.isArray(g)){for(var U=0;U<g.length;U++)W(d,g[U],A,R,L);return null}return A=fs(A),d&&d[nt]?d.K(g,A,u(R)?!!R.capture:!1,L):be(d,g,A,!1,R,L)}function be(d,g,A,R,L,U){if(!g)throw Error("Invalid event type");var re=u(L)?!!L.capture:!!L,Xe=jr(d);if(Xe||(d[_e]=Xe=new ye(d)),A=Xe.add(g,A,R,re,U),A.proxy)return A;if(R=Ye(),A.proxy=R,R.src=d,R.listener=A,d.addEventListener)he||(L=re),L===void 0&&(L=!1),d.addEventListener(g.toString(),R,L);else if(d.attachEvent)d.attachEvent(Tn(g.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ye(){function d(A){return g.call(d.src,d.listener,A)}const g=Qn;return d}function dt(d,g,A,R,L){if(Array.isArray(g))for(var U=0;U<g.length;U++)dt(d,g[U],A,R,L);else R=u(R)?!!R.capture:!!R,A=fs(A),d&&d[nt]?(d=d.i,g=String(g).toString(),g in d.g&&(U=d.g[g],A=je(U,A,R,L),-1<A&&(me(U[A]),Array.prototype.splice.call(U,A,1),U.length==0&&(delete d.g[g],d.h--)))):d&&(d=jr(d))&&(g=d.g[g.toString()],d=-1,g&&(d=je(g,A,R,L)),(A=-1<d?g[d]:null)&&Ge(A))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[nt])X(g.i,d);else{var A=d.type,R=d.proxy;g.removeEventListener?g.removeEventListener(A,R,d.capture):g.detachEvent?g.detachEvent(Tn(A),R):g.addListener&&g.removeListener&&g.removeListener(R),(A=jr(g))?(X(A,d),A.h==0&&(A.src=null,g[_e]=null)):me(d)}}}function Tn(d){return d in Ve?Ve[d]:Ve[d]="on"+d}function Qn(d,g){if(d.da)d=!0;else{g=new we(g,this);var A=d.listener,R=d.ha||d.src;d.fa&&Ge(d),d=A.call(R,g)}return d}function jr(d){return d=d[_e],d instanceof ye?d:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function fs(d){return typeof d=="function"?d:(d[Li]||(d[Li]=function(g){return d.handleEvent(g)}),d[Li])}function se(){Y.call(this),this.i=new ye(this),this.M=this,this.F=null}y(se,Y),se.prototype[nt]=!0,se.prototype.removeEventListener=function(d,g,A,R){dt(this,d,g,A,R)};function Te(d,g){var A,R=d.F;if(R)for(A=[];R;R=R.F)A.push(R);if(d=d.M,R=g.type||g,typeof g=="string")g=new te(g,d);else if(g instanceof te)g.target=g.target||d;else{var L=g;g=new te(R,d),k(g,L)}if(L=!0,A)for(var U=A.length-1;0<=U;U--){var re=g.g=A[U];L=ht(re,R,!0,g)&&L}if(re=g.g=d,L=ht(re,R,!0,g)&&L,L=ht(re,R,!1,g)&&L,A)for(U=0;U<A.length;U++)re=g.g=A[U],L=ht(re,R,!1,g)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var A=d.g[g],R=0;R<A.length;R++)me(A[R]);delete d.g[g],d.h--}}this.F=null},se.prototype.K=function(d,g,A,R){return this.i.add(String(d),g,!1,A,R)},se.prototype.L=function(d,g,A,R){return this.i.add(String(d),g,!0,A,R)};function ht(d,g,A,R){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,U=0;U<g.length;++U){var re=g[U];if(re&&!re.da&&re.capture==A){var Xe=re.listener,Kt=re.ha||re.src;re.fa&&X(d.i,re),L=Xe.call(Kt,R)!==!1&&L}}return L&&!R.defaultPrevented}function _t(d,g,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:s.setTimeout(d,g||0)}function fu(d){d.g=_t(()=>{d.g=null,d.i&&(d.i=!1,fu(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Ho extends Y{constructor(g,A){super(),this.m=g,this.l=A,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(d){Y.call(this),this.h=d,this.g={}}y(Vi,Y);var du=[];function vd(d){I(d.g,function(g,A){this.g.hasOwnProperty(A)&&Ge(g)},d),d.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),vd(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var my=s.JSON.stringify,_V=s.JSON.parse,wV=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function gy(){}gy.prototype.h=null;function sE(d){return d.h||(d.h=d.i())}function lE(){}var hu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yy(){te.call(this,"d")}y(yy,te);function vy(){te.call(this,"c")}y(vy,te);var Qo={},uE=null;function bd(){return uE=uE||new se}Qo.La="serverreachability";function cE(d){te.call(this,Qo.La,d)}y(cE,te);function pu(d){const g=bd();Te(g,new cE(g))}Qo.STAT_EVENT="statevent";function fE(d,g){te.call(this,Qo.STAT_EVENT,d),this.stat=g}y(fE,te);function hn(d){const g=bd();Te(g,new fE(g,d))}Qo.Ma="timingevent";function dE(d,g){te.call(this,Qo.Ma,d),this.size=g}y(dE,te);function mu(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},g)}function gu(){this.g=!0}gu.prototype.xa=function(){this.g=!1};function xV(d,g,A,R,L,U){d.info(function(){if(d.g)if(U)for(var re="",Xe=U.split("&"),Kt=0;Kt<Xe.length;Kt++){var $e=Xe[Kt].split("=");if(1<$e.length){var en=$e[0];$e=$e[1];var tn=en.split("_");re=2<=tn.length&&tn[1]=="type"?re+(en+"="+$e+"&"):re+(en+"=redacted&")}}else re=null;else re=U;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+g+`
`+A+`
`+re})}function EV(d,g,A,R,L,U,re){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+g+`
`+A+`
`+U+" "+re})}function ds(d,g,A,R){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+SV(d,A)+(R?" "+R:"")})}function TV(d,g){d.info(function(){return"TIMEOUT: "+g})}gu.prototype.info=function(){};function SV(d,g){if(!d.g)return g;if(!g)return null;try{var A=JSON.parse(g);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var R=A[d];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return my(A)}catch{return g}}var _d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},by;function wd(){}y(wd,gy),wd.prototype.g=function(){return new XMLHttpRequest},wd.prototype.i=function(){return{}},by=new wd;function Fi(d,g,A,R){this.j=d,this.i=g,this.l=A,this.R=R||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pE}function pE(){this.i=null,this.g="",this.h=!1}var mE={},_y={};function wy(d,g,A){d.L=1,d.v=Sd(ei(g)),d.m=A,d.P=!0,gE(d,null)}function gE(d,g){d.F=Date.now(),xd(d),d.A=ei(d.v);var A=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),CE(A.i,"t",R),d.C=0,A=d.j.J,d.h=new pE,d.g=HE(d.j,A?g:null,!d.m),0<d.O&&(d.M=new Ho(h(d.Y,d,d.g),d.O)),g=d.U,A=d.g,R=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(du[0]=L.toString()),L=du);for(var U=0;U<L.length;U++){var re=W(A,L[U],R||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),pu(),xV(d.i,d.u,d.A,d.l,d.R,d.m)}Fi.prototype.ca=function(d){d=d.target;const g=this.M;g&&ti(d)==3?g.j():this.Y(d)},Fi.prototype.Y=function(d){try{if(d==this.g)e:{const tn=ti(this.g);var g=this.g.Ba();const ms=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||$E(this.g)))){this.J||tn!=4||g==7||(g==8||0>=ms?pu(3):pu(2)),xy(this);var A=this.g.Z();this.X=A;t:if(yE(this)){var R=$E(this.g);d="";var L=R.length,U=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),yu(this);var re="";break t}this.h.i=new s.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,d+=this.h.i.decode(R[g],{stream:!(U&&g==L-1)});R.length=0,this.h.g+=d,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=A==200,EV(this.i,this.u,this.A,this.l,this.R,tn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Kt=this.g;if((Xe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Xe)){var $e=Xe;break t}}$e=null}if(A=$e)ds(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ey(this,A);else{this.o=!1,this.s=3,hn(12),Yo(this),yu(this);break e}}if(this.P){A=!0;let mr;for(;!this.J&&this.C<re.length;)if(mr=IV(this,re),mr==_y){tn==4&&(this.s=4,hn(14),A=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==mE){this.s=4,hn(15),ds(this.i,this.l,re,"[Invalid Chunk]"),A=!1;break}else ds(this.i,this.l,mr,null),Ey(this,mr);if(yE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||re.length!=0||this.h.h||(this.s=1,hn(16),A=!1),this.o=this.o&&A,!A)ds(this.i,this.l,re,"[Invalid Chunked Response]"),Yo(this),yu(this);else if(0<re.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Oy(en),en.M=!0,hn(11))}}else ds(this.i,this.l,re,null),Ey(this,re);tn==4&&Yo(this),this.o&&!this.J&&(tn==4?qE(this.j,this):(this.o=!1,xd(this)))}else zV(this.g),A==400&&0<re.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),Yo(this),yu(this)}}}catch{}finally{}};function yE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function IV(d,g){var A=d.C,R=g.indexOf(`
`,A);return R==-1?_y:(A=Number(g.substring(A,R)),isNaN(A)?mE:(R+=1,R+A>g.length?_y:(g=g.slice(R,R+A),d.C=R+A,g)))}Fi.prototype.cancel=function(){this.J=!0,Yo(this)};function xd(d){d.S=Date.now()+d.I,vE(d,d.I)}function vE(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=mu(h(d.ba,d),g)}function xy(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Fi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(TV(this.i,this.A),this.L!=2&&(pu(),hn(17)),Yo(this),this.s=2,yu(this)):vE(this,this.S-d)};function yu(d){d.j.G==0||d.J||qE(d.j,d)}function Yo(d){xy(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,vd(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Ey(d,g){try{var A=d.j;if(A.G!=0&&(A.g==d||Ty(A.h,d))){if(!d.K&&Ty(A.h,d)&&A.G==3){try{var R=A.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)kd(A),Od(A);else break e;Py(A),hn(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=mu(h(A.Za,A),6e3));if(1>=wE(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Jo(A,11)}else if((d.K||A.g==d)&&kd(A),!v(g))for(L=A.Da.g.parse(g),g=0;g<L.length;g++){let $e=L[g];if(A.T=$e[0],$e=$e[1],A.G==2)if($e[0]=="c"){A.K=$e[1],A.ia=$e[2];const en=$e[3];en!=null&&(A.la=en,A.j.info("VER="+A.la));const tn=$e[4];tn!=null&&(A.Aa=tn,A.j.info("SVER="+A.Aa));const ms=$e[5];ms!=null&&typeof ms=="number"&&0<ms&&(R=1.5*ms,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const mr=d.g;if(mr){const Rd=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rd){var U=R.h;U.g||Rd.indexOf("spdy")==-1&&Rd.indexOf("quic")==-1&&Rd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Sy(U,U.h),U.h=null))}if(R.D){const Cy=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cy&&(R.ya=Cy,rt(R.I,R.D,Cy))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var re=d;if(R.qa=KE(R,R.J?R.ia:null,R.W),re.K){xE(R.h,re);var Xe=re,Kt=R.L;Kt&&(Xe.I=Kt),Xe.B&&(xy(Xe),xd(Xe)),R.g=re}else UE(R);0<A.i.length&&Cd(A)}else $e[0]!="stop"&&$e[0]!="close"||Jo(A,7);else A.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Jo(A,7):Ay(A):$e[0]!="noop"&&A.l&&A.l.ta($e),A.v=0)}}pu(4)}catch{}}var AV=class{constructor(d,g){this.g=d,this.map=g}};function bE(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _E(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function wE(d){return d.h?1:d.g?d.g.size:0}function Ty(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Sy(d,g){d.g?d.g.add(g):d.h=g}function xE(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}bE.prototype.cancel=function(){if(this.i=EE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function EE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const A of d.g.values())g=g.concat(A.D);return g}return _(d.i)}function PV(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],A=d.length,R=0;R<A;R++)g.push(d[R]);return g}g=[],A=0;for(R in d)g[A++]=d[R];return g}function OV(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var A=0;A<d;A++)g.push(A);return g}g=[],A=0;for(const R in d)g[A++]=R;return g}}}function TE(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var A=OV(d),R=PV(d),L=R.length,U=0;U<L;U++)g.call(void 0,R[U],A&&A[U],d)}var SE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CV(d,g){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var R=d[A].indexOf("="),L=null;if(0<=R){var U=d[A].substring(0,R);L=d[A].substring(R+1)}else U=d[A];g(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Xo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xo){this.h=d.h,Ed(this,d.j),this.o=d.o,this.g=d.g,Td(this,d.s),this.l=d.l;var g=d.i,A=new _u;A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),IE(this,A),this.m=d.m}else d&&(g=String(d).match(SE))?(this.h=!1,Ed(this,g[1]||"",!0),this.o=vu(g[2]||""),this.g=vu(g[3]||"",!0),Td(this,g[4]),this.l=vu(g[5]||"",!0),IE(this,g[6]||"",!0),this.m=vu(g[7]||"")):(this.h=!1,this.i=new _u(null,this.h))}Xo.prototype.toString=function(){var d=[],g=this.j;g&&d.push(bu(g,AE,!0),":");var A=this.g;return(A||g=="file")&&(d.push("//"),(g=this.o)&&d.push(bu(g,AE,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(bu(A,A.charAt(0)=="/"?RV:NV,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",bu(A,DV)),d.join("")};function ei(d){return new Xo(d)}function Ed(d,g,A){d.j=A?vu(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Td(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function IE(d,g,A){g instanceof _u?(d.i=g,MV(d.i,d.h)):(A||(g=bu(g,jV)),d.i=new _u(g,d.h))}function rt(d,g,A){d.i.set(g,A)}function Sd(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function vu(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bu(d,g,A){return typeof d=="string"?(d=encodeURI(d).replace(g,kV),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var AE=/[#\/\?@]/g,NV=/[#\?:]/g,RV=/[#\?]/g,jV=/[#\?@]/g,DV=/#/g;function _u(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Bi(d){d.g||(d.g=new Map,d.h=0,d.i&&CV(d.i,function(g,A){d.add(decodeURIComponent(g.replace(/\+/g," ")),A)}))}t=_u.prototype,t.add=function(d,g){Bi(this),this.i=null,d=hs(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(g),this.h+=1,this};function PE(d,g){Bi(d),g=hs(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function OE(d,g){return Bi(d),g=hs(d,g),d.g.has(g)}t.forEach=function(d,g){Bi(this),this.g.forEach(function(A,R){A.forEach(function(L){d.call(g,L,R,this)},this)},this)},t.na=function(){Bi(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),A=[];for(let R=0;R<g.length;R++){const L=d[R];for(let U=0;U<L.length;U++)A.push(g[R])}return A},t.V=function(d){Bi(this);let g=[];if(typeof d=="string")OE(this,d)&&(g=g.concat(this.g.get(hs(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)g=g.concat(d[A])}return g},t.set=function(d,g){return Bi(this),this.i=null,d=hs(this,d),OE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function CE(d,g,A){PE(d,g),0<A.length&&(d.i=null,d.g.set(hs(d,g),_(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var A=0;A<g.length;A++){var R=g[A];const U=encodeURIComponent(String(R)),re=this.V(R);for(R=0;R<re.length;R++){var L=U;re[R]!==""&&(L+="="+encodeURIComponent(String(re[R]))),d.push(L)}}return this.i=d.join("&")};function hs(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function MV(d,g){g&&!d.j&&(Bi(d),d.i=null,d.g.forEach(function(A,R){var L=R.toLowerCase();R!=L&&(PE(this,R),CE(this,L,A))},d)),d.j=g}function $V(d,g){const A=new gu;if(s.Image){const R=new Image;R.onload=p(Ui,A,"TestLoadImage: loaded",!0,g,R),R.onerror=p(Ui,A,"TestLoadImage: error",!1,g,R),R.onabort=p(Ui,A,"TestLoadImage: abort",!1,g,R),R.ontimeout=p(Ui,A,"TestLoadImage: timeout",!1,g,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else g(!1)}function LV(d,g){const A=new gu,R=new AbortController,L=setTimeout(()=>{R.abort(),Ui(A,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:R.signal}).then(U=>{clearTimeout(L),U.ok?Ui(A,"TestPingServer: ok",!0,g):Ui(A,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ui(A,"TestPingServer: error",!1,g)})}function Ui(d,g,A,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(A)}catch{}}function VV(){this.g=new wV}function FV(d,g,A){const R=A||"";try{TE(d,function(L,U){let re=L;u(L)&&(re=my(L)),g.push(R+U+"="+encodeURIComponent(re))})}catch(L){throw g.push(R+"type="+encodeURIComponent("_badmap")),L}}function Id(d){this.l=d.Ub||null,this.j=d.eb||!1}y(Id,gy),Id.prototype.g=function(){return new Ad(this.l,this.j)},Id.prototype.i=function(d){return function(){return d}}({});function Ad(d,g){se.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ad,se),t=Ad.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,xu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||s).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?wu(this):xu(this),this.readyState==3&&kE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wu(this))},t.Qa=function(d){this.g&&(this.response=d,wu(this))},t.ga=function(){this.g&&wu(this)};function wu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,xu(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var A=g.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=g.next();return d.join(`\r
`)};function xu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function NE(d){let g="";return I(d,function(A,R){g+=R,g+=":",g+=A,g+=`\r
`}),g}function Iy(d,g,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=NE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):rt(d,g,A))}function wt(d){se.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(wt,se);var BV=/^https?$/i,UV=["POST","PUT"];t=wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():by.g(),this.v=this.o?sE(this.o):sE(by),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(U){RE(this,U);return}if(d=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)A.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())A.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(U=>U.toLowerCase()=="content-type"),L=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(UV,g,void 0))||R||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,re]of A)this.g.setRequestHeader(U,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ME(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){RE(this,U)}};function RE(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,jE(d),Pd(d)}function jE(d){d.A||(d.A=!0,Te(d,"complete"),Te(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Te(this,"complete"),Te(this,"abort"),Pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pd(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DE(this):this.bb())},t.bb=function(){DE(this)};function DE(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ti(d)!=4||d.Z()!=2)){if(d.u&&ti(d)==4)_t(d.Ea,0,d);else if(Te(d,"readystatechange"),ti(d)==4){d.h=!1;try{const re=d.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var A;if(!(A=g)){var R;if(R=re===0){var L=String(d.D).match(SE)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),R=!BV.test(L?L.toLowerCase():"")}A=R}if(A)Te(d,"complete"),Te(d,"success");else{d.m=6;try{var U=2<ti(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",jE(d)}}finally{Pd(d)}}}}function Pd(d,g){if(d.g){ME(d);const A=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Te(d,"ready");try{A.onreadystatechange=R}catch{}}}function ME(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ti(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),_V(g)}};function $E(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zV(d){const g={};d=(d.g&&2<=ti(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(v(d[R]))continue;var A=C(d[R]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const U=g[L]||[];g[L]=U,U.push(A)}E(g,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(d,g,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||g}function LE(d){this.Aa=0,this.i=[],this.j=new gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,d),this.cb=Eu("retryDelaySeedMs",1e4,d),this.Wa=Eu("forwardChannelMaxRetries",2,d),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bE(d&&d.concurrentRequestLimit),this.Da=new VV,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LE.prototype,t.la=8,t.G=1,t.connect=function(d,g,A,R){hn(0),this.W=d,this.H=g||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=KE(this,null,this.W),Cd(this)};function Ay(d){if(VE(d),d.G==3){var g=d.U++,A=ei(d.I);if(rt(A,"SID",d.K),rt(A,"RID",g),rt(A,"TYPE","terminate"),Tu(d,A),g=new Fi(d,d.j,g),g.L=2,g.v=Sd(ei(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(g.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=g.v,A=!0),A||(g.g=HE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),xd(g)}GE(d)}function Od(d){d.g&&(Oy(d),d.g.cancel(),d.g=null)}function VE(d){Od(d),d.u&&(s.clearTimeout(d.u),d.u=null),kd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Cd(d){if(!_E(d.h)&&!d.s){d.s=!0;var g=d.Ga;K||V(),$||(K(),$=!0),q.add(g,d),d.B=0}}function qV(d,g){return wE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=mu(h(d.Ga,d,g),WE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Fi(this,this.j,d);let U=this.o;if(this.S&&(U?(U=S(U),k(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var g=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=A;break e}if(g===4096||A===this.i.length-1){g=A+1;break e}}g=1e3}else g=1e3;g=BE(this,L,g),A=ei(this.I),rt(A,"RID",d),rt(A,"CVER",22),this.D&&rt(A,"X-HTTP-Session-Id",this.D),Tu(this,A),U&&(this.O?g="headers="+encodeURIComponent(String(NE(U)))+"&"+g:this.m&&Iy(A,this.m,U)),Sy(this.h,L),this.Ua&&rt(A,"TYPE","init"),this.P?(rt(A,"$req",g),rt(A,"SID","null"),L.T=!0,wy(L,A,null)):wy(L,A,g),this.G=2}}else this.G==3&&(d?FE(this,d):this.i.length==0||_E(this.h)||FE(this))};function FE(d,g){var A;g?A=g.l:A=d.U++;const R=ei(d.I);rt(R,"SID",d.K),rt(R,"RID",A),rt(R,"AID",d.T),Tu(d,R),d.m&&d.o&&Iy(R,d.m,d.o),A=new Fi(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),g&&(d.i=g.D.concat(d.i)),g=BE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Sy(d.h,A),wy(A,R,g)}function Tu(d,g){d.H&&I(d.H,function(A,R){rt(g,R,A)}),d.l&&TE({},function(A,R){rt(g,R,A)})}function BE(d,g,A){A=Math.min(d.i.length,A);var R=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let U=-1;for(;;){const re=["count="+A];U==-1?0<A?(U=L[0].g,re.push("ofs="+U)):U=0:re.push("ofs="+U);let Xe=!0;for(let Kt=0;Kt<A;Kt++){let $e=L[Kt].g;const en=L[Kt].map;if($e-=U,0>$e)U=Math.max(0,L[Kt].g-100),Xe=!1;else try{FV(en,re,"req"+$e+"_")}catch{R&&R(en)}}if(Xe){R=re.join("&");break e}}}return d=d.i.splice(0,A),g.D=d,R}function UE(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;K||V(),$||(K(),$=!0),q.add(g,d),d.v=0}}function Py(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=mu(h(d.Fa,d),WE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,zE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=mu(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Od(this),zE(this))};function Oy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function zE(d){d.g=new Fi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=ei(d.qa);rt(g,"RID","rpc"),rt(g,"SID",d.K),rt(g,"AID",d.T),rt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(g,"TO",d.ja),rt(g,"TYPE","xmlhttp"),Tu(d,g),d.m&&d.o&&Iy(g,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Sd(ei(g)),A.m=null,A.P=!0,gE(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Od(this),Py(this),hn(19))};function kd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function qE(d,g){var A=null;if(d.g==g){kd(d),Oy(d),d.g=null;var R=2}else if(Ty(d.h,g))A=g.D,xE(d.h,g),R=1;else return;if(d.G!=0){if(g.o)if(R==1){A=g.m?g.m.length:0,g=Date.now()-g.F;var L=d.B;R=bd(),Te(R,new dE(R,A)),Cd(d)}else UE(d);else if(L=g.s,L==3||L==0&&0<g.X||!(R==1&&qV(d,g)||R==2&&Py(d)))switch(A&&0<A.length&&(g=d.h,g.i=g.i.concat(A)),L){case 1:Jo(d,5);break;case 4:Jo(d,10);break;case 3:Jo(d,6);break;default:Jo(d,2)}}}function WE(d,g){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*g}function Jo(d,g){if(d.j.info("Error code "+g),g==2){var A=h(d.fb,d),R=d.Xa;const L=!R;R=new Xo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ed(R,"https"),Sd(R),L?$V(R.toString(),A):LV(R.toString(),A)}else hn(2);d.G=0,d.l&&d.l.sa(g),GE(d),VE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function GE(d){if(d.G=0,d.ka=[],d.l){const g=EE(d.h);(g.length!=0||d.i.length!=0)&&(w(d.ka,g),w(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function KE(d,g,A){var R=A instanceof Xo?ei(A):new Xo(A);if(R.g!="")g&&(R.g=g+"."+R.g),Td(R,R.s);else{var L=s.location;R=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var U=new Xo(null);R&&Ed(U,R),g&&(U.g=g),L&&Td(U,L),A&&(U.l=A),R=U}return A=d.D,g=d.ya,A&&g&&rt(R,A,g),rt(R,"VER",d.la),Tu(d,R),R}function HE(d,g,A){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new wt(new Id({eb:A})):new wt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QE(){}t=QE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nd(){}Nd.prototype.g=function(d,g){return new Dn(d,g)};function Dn(d,g){se.call(this),this.g=new LE(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!v(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ps(this)}y(Dn,se),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ay(this.g)},Dn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=my(d),d=A);g.i.push(new AV(g.Ya++,d)),g.G==3&&Cd(g)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ay(this.g),delete this.g,Dn.aa.N.call(this)};function YE(d){yy.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const A in g){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(YE,yy);function XE(){vy.call(this),this.status=1}y(XE,vy);function ps(d){this.g=d}y(ps,QE),ps.prototype.ua=function(){Te(this.g,"a")},ps.prototype.ta=function(d){Te(this.g,new YE(d))},ps.prototype.sa=function(d){Te(this.g,new XE)},ps.prototype.ra=function(){Te(this.g,"b")},Nd.prototype.createWebChannel=Nd.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,zR=function(){return new Nd},UR=function(){return bd()},BR=Qo,rb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_d.NO_ERROR=0,_d.TIMEOUT=8,_d.HTTP_ERROR=6,$h=_d,hE.COMPLETE="complete",FR=hE,lE.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",se.prototype.listen=se.prototype.K,tc=lE,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,VR=wt}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const rI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new rg("@firebase/firestore");function Ts(){return $a.logLevel}function J(t,...e){if($a.logLevel<=Ce.DEBUG){const n=e.map(ax);$a.debug(`Firestore (${Kl}): ${t}`,...n)}}function gn(t,...e){if($a.logLevel<=Ce.ERROR){const n=e.map(ax);$a.error(`Firestore (${Kl}): ${t}`,...n)}}function Yc(t,...e){if($a.logLevel<=Ce.WARN){const n=e.map(ax);$a.warn(`Firestore (${Kl}): ${t}`,...n)}}function ax(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function fe(t,e){t||ce()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class r9{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new t9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new mn(e)}}class i9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new a9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function WR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new vt(0,0))}static max(){return new de(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Xc{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const u9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Xc{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return u9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Be.fromString(e))}static fromName(e){return new ae(Be.fromString(e).popFirst(5))}static empty(){return new ae(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ib(t){return t.fields.find(e=>e.kind===2)}function oa(t){return t.fields.filter(e=>e.kind!==2)}Pp.UNKNOWN_ID=-1;class Lh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jc(0,Wn.min())}}function c9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Wn(i,ae.empty(),e)}function GR(t){return new Wn(t.readTime,t.key,-1)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(de.min(),ae.empty(),-1)}static max(){return new Wn(de.max(),ae.empty(),-1)}}function sx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==KR)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Kr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new bc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=lx(r.target.error);this.V.reject(new bc(e,i))}}static open(e,n,r,i){try{return new ug(n,e.transaction(i,r))}catch(o){throw new bc(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new d9(n)}}class wo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,wo.S(Vt())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return J("SimpleDb","Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qw())return!1;if(wo.v())return!0;const e=Vt(),n=wo.S(e),r=0<n&&n<10,i=QR(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(J("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new bc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new ie(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ie(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new bc(e,a))},i.onupgradeneeded=o=>{J("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{J("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=ug.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(J("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function QR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class f9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ua(this.B.delete())}}class bc extends ie{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Lo(t){return t.name==="IndexedDbTransactionError"}class d9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ua(r)}add(e){return J("SimpleDb","ADD",this.store.name,e,e),ua(this.store.add(e))}get(e){return ua(this.store.get(e)).next(n=>(n===void 0&&(n=null),J("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return J("SimpleDb","DELETE",this.store.name,e),ua(this.store.delete(e))}count(){return J("SimpleDb","COUNT",this.store.name),ua(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new F((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new F((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){J("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new F((r,i)=>{n.onerror=o=>{const a=lx(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new F((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new f9(s),u=n(s.primaryKey,s.value,l);if(u instanceof F){const c=u.catch(f=>(l.done(),F.reject(f)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>F.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ua(t){return new F((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=lx(r.target.error);n(i)}})}let iI=!1;function lx(t){const e=wo.S(Vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iI||(iI=!0,setTimeout(()=>{throw r},0)),r}}return t}class h9{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){J("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{J("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Lo(n)?J("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ns(n)}await this.X(6e4)})}}class p9{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return F.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return J("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(J("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=GR(o);sx(a,r)>0&&(r=a)}),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rr.oe=-1;function cg(t){return t==null}function Zc(t){return t===0&&1/t==-1/0}function m9(t){return typeof t=="number"&&Number.isInteger(t)&&!Zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oI(e)),e=g9(t.get(n),e);return oI(e)}function g9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function oI(t){return t+""}function Lr(t){const e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Be.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&ce(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ce()}o=a+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e){return[t,_n(e)]}function YR(t,e,n){return[t,_n(e),n]}const y9={},v9=["prefixPath","collectionGroup","readTime","documentId"],b9=["prefixPath","collectionGroup","documentId"],_9=["collectionGroup","readTime","prefixPath","documentId"],w9=["canonicalId","targetId"],x9=["targetId","path"],E9=["path","targetId"],T9=["collectionId","parent"],S9=["indexId","uid"],I9=["uid","sequenceNumber"],A9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],P9=["indexId","uid","orderedDocumentKey"],O9=["userId","collectionPath","documentId"],C9=["userId","collectionPath","largestBatchId"],k9=["userId","collectionGroup","largestBatchId"],XR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],N9=[...XR,"documentOverlays"],JR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZR=JR,ux=[...ZR,"indexConfiguration","indexState","indexEntries"],R9=ux,j9=[...ux,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends HR{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ft(t,e){const n=xe(t);return wo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ej(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lI(this.data.getIterator())}getIteratorFrom(e){return new lI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class lI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ys(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new He(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tj("Invalid base64 string: "+o):o}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const D9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(fe(!!t),typeof t=="string"){let e=0;const n=D9.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fx(t){const e=t.mapValue.fields.__previous_value__;return cx(e)?fx(e):e}function ef(t){const e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class La{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fh={nullValue:"NULL_VALUE"};function Va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cx(t)?4:nj(t)?9007199254740991:fg(t)?10:11:ce()}function Xr(t,e){if(t===e)return!0;const n=Va(t);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ef(t).isEqual(ef(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ai(i.timestampValue),s=Ai(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Po(i.bytesValue).isEqual(Po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=lt(i.doubleValue),s=lt(o.doubleValue);return a===s?Zc(a)===Zc(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(sI(a)!==sI(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Xr(a[l],s[l])))return!1;return!0}(t,e);default:return ce()}}function tf(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=Va(t),r=Va(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=lt(o.integerValue||o.doubleValue),l=lt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return uI(t.timestampValue,e.timestampValue);case 4:return uI(ef(t),ef(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Po(o),l=Po(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ee(s[u],l[u]);if(c!==0)return c}return Ee(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ee(lt(o.latitude),lt(a.latitude));return s!==0?s:Ee(lt(o.longitude),lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cI(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},h=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=Ee(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:cI(p,y)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===so.mapValue&&a===so.mapValue)return 0;if(o===so.mapValue)return 1;if(a===so.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ee(l[f],c[f]);if(h!==0)return h;const p=Oo(s[l[f]],u[c[f]]);if(p!==0)return p}return Ee(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce()}}function uI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Ai(t),r=Ai(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function cI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Oo(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function hl(t){return ab(t)}function ab(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ab(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${ab(n.fields[a])}`;return i+"}"}(t.mapValue):ce()}function nf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sb(t){return!!t&&"integerValue"in t}function rf(t){return!!t&&"arrayValue"in t}function fI(t){return!!t&&"nullValue"in t}function dI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const rj={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function $9(t){return"nullValue"in t?Fh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?nf(La.empty(),ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?fg(t)?rj:{mapValue:{}}:ce()}function L9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?nf(La.empty(),ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?rj:"mapValue"in t?fg(t)?{mapValue:{}}:so:ce()}function hI(t,e){const n=Oo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pI(t,e){const n=Oo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=_c(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(_c(this.value))}}function ij(t){const e=[];return rs(t.fields,(n,r)=>{const i=new mt([n]);if(Bh(r)){const o=ij(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Tt(e,0,de.min(),de.min(),de.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,de.min(),de.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,de.min(),de.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function mI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(a.referenceValue),n.key):r=Oo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function V9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{}class ke extends oj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F9(e,n,r):n==="array-contains"?new z9(e,r):n==="in"?new fj(e,r):n==="not-in"?new q9(e,r):n==="array-contains-any"?new W9(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B9(e,r):new U9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oo(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ze extends oj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ze(e,n)}matches(e){return ml(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ml(t){return t.op==="and"}function lb(t){return t.op==="or"}function dx(t){return aj(t)&&ml(t)}function aj(t){for(const e of t.filters)if(e instanceof ze)return!1;return!0}function ub(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(dx(t))return t.filters.map(e=>ub(e)).join(",");{const e=t.filters.map(n=>ub(n)).join(",");return`${t.op}(${e})`}}function sj(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&sj(a,i.filters[s]),!0):!1}(t,e):void ce()}function lj(t,e){const n=t.filters.concat(e);return ze.create(n,t.op)}function uj(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`}(t):t instanceof ze?function(n){return n.op.toString()+" {"+n.getFilters().map(uj).join(" ,")+"}"}(t):"Filter"}class F9 extends ke{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class B9 extends ke{constructor(e,n){super(e,"in",n),this.keys=cj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U9 extends ke{constructor(e,n){super(e,"not-in",n),this.keys=cj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class z9 extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rf(n)&&tf(n.arrayValue,this.value)}}class fj extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tf(this.value.arrayValue,n)}}class q9 extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tf(this.value.arrayValue,n)}}class W9 extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function cb(t,e=null,n=[],r=[],i=null,o=null,a=null){return new G9(t,e,n,r,i,o,a)}function Fa(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ub(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hl(r)).join(",")),e.ue=n}return e.ue}function td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gI(t.startAt,e.startAt)&&gI(t.endAt,e.endAt)}function Op(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Cp(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function yI(t,e,n){let r=Fh,i=!0;for(const o of Cp(t,e)){let a=Fh,s=!0;switch(o.op){case"<":case"<=":a=$9(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=Fh}hI({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];hI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function vI(t,e,n){let r=so,i=!0;for(const o of Cp(t,e)){let a=so,s=!0;switch(o.op){case">=":case">":a=L9(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=so}pI({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];pI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function K9(t,e,n,r,i,o,a,s){return new Hl(t,e,n,r,i,o,a,s)}function nd(t){return new Hl(t)}function bI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dj(t){return t.collectionGroup!==null}function wc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new He(mt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new of(o,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new of(mt.keyField(),r))}return e.ce}function sr(t){const e=xe(t);return e.le||(e.le=H9(e,wc(t))),e.le}function H9(t,e){if(t.limitType==="F")return cb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new of(i.field,o)});const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return cb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fb(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function db(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dg(t,e){return td(sr(t),sr(e))&&t.limitType===e.limitType}function hj(t){return`${Fa(sr(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uj(i)).join(", ")}]`),cg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hl(i)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function rd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of wc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=mI(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,wc(r),i)||r.endAt&&!function(a,s,l){const u=mI(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,wc(r),i))}(t,e)}function Q9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pj(t){return(e,n)=>{let r=!1;for(const i of wc(t)){const o=Y9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Y9(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Oo(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ej(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new ft(ae.comparator);function Bn(){return X9}const mj=new ft(ae.comparator);function nc(...t){let e=mj;for(const n of t)e=e.insert(n.key,n);return e}function gj(t){let e=mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return xc()}function yj(){return xc()}function xc(){return new Vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const J9=new ft(ae.comparator),Z9=new He(ae.comparator);function Ae(...t){let e=Z9;for(const n of t)e=e.add(n);return e}const e8=new He(Ee);function t8(){return e8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function vj(t){return{integerValue:""+t}}function n8(t,e){return m9(e)?vj(e):hx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this._=void 0}}function r8(t,e,n){return t instanceof af?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cx(o)&&(o=fx(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Ba?_j(t,e):t instanceof Ua?wj(t,e):function(i,o){const a=bj(i,o),s=_I(a)+_I(i.Pe);return sb(a)&&sb(i.Pe)?vj(s):hx(i.serializer,s)}(t,e)}function i8(t,e,n){return t instanceof Ba?_j(t,e):t instanceof Ua?wj(t,e):n}function bj(t,e){return t instanceof sf?function(r){return sb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class af extends hg{}class Ba extends hg{constructor(e){super(),this.elements=e}}function _j(t,e){const n=xj(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends hg{constructor(e){super(),this.elements=e}}function wj(t,e){let n=xj(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class sf extends hg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _I(t){return lt(t.integerValue||t.doubleValue)}function xj(t){return rf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.field=e,this.transform=n}}function o8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ba&&i instanceof Ba||r instanceof Ua&&i instanceof Ua?dl(r.elements,i.elements,Xr):r instanceof sf&&i instanceof sf?Xr(r.Pe,i.Pe):r instanceof af&&i instanceof af}(t.transform,e.transform)}class a8{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pg{}function Ej(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mg(t.key,yn.none()):new Ql(t.key,t.data,yn.none());{const n=t.data,r=cn.empty();let i=new He(mt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ri(t.key,r,new Pn(i.toArray()),yn.none())}}function s8(t,e,n){t instanceof Ql?function(i,o,a){const s=i.value.clone(),l=xI(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,o,a){if(!Uh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=xI(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(Tj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Ql?function(o,a,s,l){if(!Uh(o.precondition,a))return s;const u=o.value.clone(),c=EI(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(o,a,s,l){if(!Uh(o.precondition,a))return s;const u=EI(o.fieldTransforms,l,a),c=a.data;return c.setAll(Tj(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Uh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function l8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=bj(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function wI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(o,a)=>o8(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends pg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Tj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xI(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,i8(a,s,n[i]))}return r}function EI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,r8(o,a,e))}return r}class mg extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sj extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&s8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=Ej(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,r)=>wI(n,r))&&dl(this.baseMutations,e.baseMutations,(n,r)=>wI(n,r))}}class gx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return J9}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new gx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Re;function c8(t){switch(t){default:return ce();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function Ij(t){if(t===void 0)return gn("GRPC error has no .code"),H.UNKNOWN;switch(t){case Pt.OK:return H.OK;case Pt.CANCELLED:return H.CANCELLED;case Pt.UNKNOWN:return H.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return H.INTERNAL;case Pt.UNAVAILABLE:return H.UNAVAILABLE;case Pt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Pt.NOT_FOUND:return H.NOT_FOUND;case Pt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Pt.ABORTED:return H.ABORTED;case Pt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Pt.DATA_LOSS:return H.DATA_LOSS;default:return ce()}}(Re=Pt||(Pt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new Ta([4294967295,4294967295],0);function TI(t){const e=f8().encode(t),n=new LR;return n.update(e),new Uint8Array(n.digest())}function SI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,o],0)]}class vx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ta.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ta.fromNumber(r)));return i.compare(d8)===1&&(i=new Ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=TI(e),[r,i]=SI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new vx(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=TI(e),[r,i]=SI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gg(de.min(),i,new ft(Ee),Bn(),Ae())}}class id{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new id(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Aj{constructor(e,n){this.targetId=e,this.me=n}}class Pj{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class II{constructor(){this.fe=0,this.ge=PI(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new id(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=PI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class h8{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bn(),this.qe=AI(),this.Qe=new ft(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Op(o))if(r===0){const a=new ae(o.path);this.Ue(n,a,Tt.newNoDocument(a,de.min()))}else fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Po(r).toUint8Array()}catch(l){if(l instanceof tj)return Yc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new vx(a,i,o)}catch(l){return Yc(l instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Op(s.target)){const l=new ae(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Tt.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new gg(e,n,this.Qe,this.ke,r);return this.ke=Bn(),this.qe=AI(),this.Qe=new ft(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new II,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new He(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new II),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AI(){return new ft(ae.comparator)}function PI(){return new ft(ae.comparator)}const p8={asc:"ASCENDING",desc:"DESCENDING"},m8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g8={and:"AND",or:"OR"};class y8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||cg(e)?e:{value:e}}function gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v8(t,e){return gl(t,e.toTimestamp())}function wn(t){return fe(!!t),de.fromTimestamp(function(n){const r=Ai(n);return new vt(r.seconds,r.nanos)}(t))}function bx(t,e){return pb(t,e).canonicalString()}function pb(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Cj(t){const e=Be.fromString(t);return fe(Vj(e)),e}function kp(t,e){return bx(t.databaseId,e.path)}function Sa(t,e){const n=Cj(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(Rj(n))}function kj(t,e){return bx(t.databaseId,e)}function Nj(t){const e=Cj(t);return e.length===4?Be.emptyPath():Rj(e)}function mb(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rj(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OI(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function b8(t,e,n){const r=Sa(t,e.name),i=wn(e.updateTime),o=e.createTime?wn(e.createTime):de.min(),a=new cn({mapValue:{fields:e.fields}}),s=Tt.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function _8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(fe(c===void 0||typeof c=="string"),Nt.fromBase64String(c||"")):(fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Nt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?H.UNKNOWN:Ij(u.code);return new ie(c,u.message||"")}(a);n=new Pj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sa(t,r.document.name),o=wn(r.document.updateTime),a=r.document.createTime?wn(r.document.createTime):de.min(),s=new cn({mapValue:{fields:r.document.fields}}),l=Tt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sa(t,r.document),o=r.readTime?wn(r.readTime):de.min(),a=Tt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new zh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sa(t,r.document),o=r.removedTargetIds||[];n=new zh([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new u8(i,o),s=r.targetId;n=new Aj(s,a)}}return n}function Np(t,e){let n;if(e instanceof Ql)n={update:OI(t,e.key,e.value)};else if(e instanceof mg)n={delete:kp(t,e.key)};else if(e instanceof Ri)n={update:OI(t,e.key,e.data),updateMask:I8(e.fieldMask)};else{if(!(e instanceof Sj))return ce();n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof af)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ba)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ua)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof sf)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:v8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(t,e.precondition)),n}function gb(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?yn.updateTime(wn(o.updateTime)):o.exists!==void 0?yn.exists(o.exists):yn.none()}(e.currentDocument):yn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)fe(s.setToServerValue==="REQUEST_TIME"),l=new af;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new Ba(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new Ua(c)}else"increment"in s?l=new sf(a,s.increment):ce();const u=mt.fromServerFormat(s.fieldPath);return new px(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Sa(t,e.update.name),o=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new Pn(u.map(c=>mt.fromServerFormat(c)))}(e.updateMask);return new Ri(i,o,a,n,r)}return new Ql(i,o,n,r)}if(e.delete){const i=Sa(t,e.delete);return new mg(i,n)}if(e.verify){const i=Sa(t,e.verify);return new Sj(i,n)}return ce()}function w8(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?wn(i.updateTime):wn(o);return a.isEqual(de.min())&&(a=wn(o)),new a8(a,i.transformResults||[])}(n,e))):[]}function jj(t,e){return{documents:[kj(t,e.path)]}}function Dj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kj(t,i);const o=function(u){if(u.length!==0)return Lj(ze.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Is(h.field),direction:E8(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=hb(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Mj(t){let e=Nj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=$j(f);return h instanceof ze&&dx(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(y){return new of(As(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,cg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new pl(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new pl(p,h)}(n.endAt)),K9(e,i,a,o,s,"F",l,u)}function x8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $j(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=As(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=As(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=As(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=As(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(As(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ze.create(n.compositeFilter.filters.map(r=>$j(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function E8(t){return p8[t]}function T8(t){return m8[t]}function S8(t){return g8[t]}function Is(t){return{fieldPath:t.canonicalString()}}function As(t){return mt.fromServerFormat(t.fieldPath)}function Lj(t){return t instanceof ke?function(n){if(n.op==="=="){if(dI(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(fI(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dI(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(fI(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:T8(n.op),value:n.value}}}(t):t instanceof ze?function(n){const r=n.getFilters().map(i=>Lj(i));return r.length===1?r[0]:{compositeFilter:{op:S8(n.op),filters:r}}}(t):ce()}function I8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Vj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,i,o=de.min(),a=de.min(),s=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.ct=e}}function A8(t,e){let n;if(e.document)n=b8(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ae.fromSegments(e.noDocument.path),i=qa(e.noDocument.readTime);n=Tt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ce();{const r=ae.fromSegments(e.unknownDocument.path),i=qa(e.unknownDocument.version);n=Tt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new vt(i[0],i[1]);return de.fromTimestamp(o)}(e.readTime)),n}function CI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:kp(o,a.key),fields:a.data.value.mapValue.fields,updateTime:gl(o,a.version.toTimestamp()),createTime:gl(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:za(e.version)};else{if(!e.isUnknownDocument())return ce();r.unknownDocument={path:n.path.toArray(),version:za(e.version)}}return r}function Rp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function za(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qa(t){const e=new vt(t.seconds,t.nanoseconds);return de.fromTimestamp(e)}function ca(t,e){const n=(e.baseMutations||[]).map(o=>gb(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>gb(t.ct,o)),i=vt.fromMillis(e.localWriteTimeMs);return new mx(e.batchId,i,n,r)}function ic(t){const e=qa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?qa(t.lastLimboFreeSnapshotVersion):de.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return fe(o.documents.length===1),sr(nd(Nj(o.documents[0])))}(t.query):function(o){return sr(Mj(o))}(t.query),new ci(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Nt.fromBase64String(t.resumeToken))}function Bj(t,e){const n=za(e.snapshotVersion),r=za(e.lastLimboFreeSnapshotVersion);let i;i=Op(e.target)?jj(t.ct,e.target):Dj(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Uj(t){const e=Mj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?db(e,e.limit,"L"):e}function mv(t,e){return new yx(e.largestBatchId,gb(t.ct,e.overlayMutation))}function kI(t,e){const n=e.path.lastSegment();return[t,_n(e.path.popLast()),n]}function NI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:za(r.readTime),documentKey:_n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{getBundleMetadata(e,n){return RI(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:qa(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return RI(e).put(function(i){return{bundleId:i.id,createTime:za(wn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return jI(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:Uj(o.bundledQuery),readTime:qa(o.readTime)}}(r)})}saveNamedQuery(e,n){return jI(e).put(function(i){return{name:i.name,readTime:za(wn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function RI(t){return Ft(t,"bundles")}function jI(t){return Ft(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new yg(e,r)}getOverlay(e,n){return Ru(e).get(kI(this.userId,n)).next(r=>r?mv(this.serializer,r):null)}getOverlays(e,n){const r=Vr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new yx(n,a);i.push(this.ht(e,s))}),F.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(_n(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Ru(e).j("collectionPathOverlayIndex",s))}),F.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Vr(),o=_n(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ru(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=mv(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Vr();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ru(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const f=mv(this.serializer,u);o.size()<i||f.largestBatchId===a?(o.set(f.getKey(),f),a=f.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Ru(e).put(function(i,o,a){const[s,l,u]=kI(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Np(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function Ru(t){return Ft(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{Pt(e){return Ft(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Nt.fromUint8Array(r):Nt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Zc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ai(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Po(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?nj(e)?this.dt(n,Number.MAX_SAFE_INTEGER):fg(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(lt(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ae.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}fa.vt=new fa;function C8(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function DI(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=C8(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class k8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=DI(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=DI(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class N8{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class R8{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ju{constructor(){this.jt=new k8,this.Ht=new N8(this.jt),this.Jt=new R8(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new da(this.indexId,this.documentKey,this.arrayValue,r)}}function Wi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=MI(t.arrayValue,e.arrayValue),n!==0?n:(n=MI(t.directionalValue,e.directionalValue),n!==0?n:ae.comparator(t.documentKey,e.documentKey)))}function MI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.Xt=new He((n,r)=>mt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(fe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=ib(e);if(n!==void 0&&!this.sn(n))return!1;const r=oa(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new He(mt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Lh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Lh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Lh(r.field,r.dir==="asc"?0:1)));return new Pp(Pp.UNKNOWN_ID,this.collectionId,n,Jc.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){var e,n;if(fe(t instanceof ke||t instanceof ze),t instanceof ke){if(t instanceof fj){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>ke.create(t.field,"==",o)))||[];return ze.create(i,"or")}return t}const r=t.filters.map(i=>zj(i));return ze.create(r,t.op)}function j8(t){if(t.getFilters().length===0)return[];const e=bb(zj(t));return fe(qj(e)),yb(e)||vb(e)?[e]:e.getFilters()}function yb(t){return t instanceof ke}function vb(t){return t instanceof ze&&dx(t)}function qj(t){return yb(t)||vb(t)||function(n){if(n instanceof ze&&lb(n)){for(const r of n.getFilters())if(!yb(r)&&!vb(r))return!1;return!0}return!1}(t)}function bb(t){if(fe(t instanceof ke||t instanceof ze),t instanceof ke)return t;if(t.filters.length===1)return bb(t.filters[0]);const e=t.filters.map(r=>bb(r));let n=ze.create(e,t.op);return n=jp(n),qj(n)?n:(fe(n instanceof ze),fe(ml(n)),fe(n.filters.length>1),n.filters.reduce((r,i)=>_x(r,i)))}function _x(t,e){let n;return fe(t instanceof ke||t instanceof ze),fe(e instanceof ke||e instanceof ze),n=t instanceof ke?e instanceof ke?function(i,o){return ze.create([i,o],"and")}(t,e):LI(t,e):e instanceof ke?LI(e,t):function(i,o){if(fe(i.filters.length>0&&o.filters.length>0),ml(i)&&ml(o))return lj(i,o.getFilters());const a=lb(i)?i:o,s=lb(i)?o:i,l=a.filters.map(u=>_x(u,s));return ze.create(l,"or")}(t,e),jp(n)}function LI(t,e){if(ml(e))return lj(e,t.getFilters());{const n=e.filters.map(r=>_x(t,r));return ze.create(n,"or")}}function jp(t){if(fe(t instanceof ke||t instanceof ze),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return jp(e[0]);if(aj(t))return t;const n=e.map(i=>jp(i)),r=[];return n.forEach(i=>{i instanceof ke?r.push(i):i instanceof ze&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ze.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.un=new wx}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Wn.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class wx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Uint8Array(0);class M8{constructor(e,n){this.databaseId=n,this.cn=new wx,this.ln=new Vo(r=>Fa(r),(r,i)=>td(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:_n(i)};return VI(e).put(o)}return F.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[WR(n),""],!1,!0);return VI(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Lr(a.parent))}return r})}addFieldIndex(e,n){const r=Du(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=bs(e);return o.next(s=>{a.put(NI(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Du(e),i=bs(e),o=vs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Du(e),r=vs(e),i=bs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return F.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new $I(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=vs(e);let i=!0;const o=new Map;return F.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=Ae();const s=[];return F.forEach(o,(l,u)=>{J("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${Fa(n)}`);const c=function(x,P){const T=ib(P);if(T===void 0)return null;for(const I of Cp(x,T.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(u,l),f=function(x,P){const T=new Map;for(const I of oa(P))for(const E of Cp(x,I.fieldPath))switch(E.op){case"==":case"in":T.set(I.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return T.set(I.fieldPath.canonicalString(),E.value),Array.from(T.values())}return null}(u,l),h=function(x,P){const T=[];let I=!0;for(const E of oa(P)){const S=E.kind===0?yI(x,E.fieldPath,x.startAt):vI(x,E.fieldPath,x.startAt);T.push(S.value),I&&(I=S.inclusive)}return new pl(T,I)}(u,l),p=function(x,P){const T=[];let I=!0;for(const E of oa(P)){const S=E.kind===0?vI(x,E.fieldPath,x.endAt):yI(x,E.fieldPath,x.endAt);T.push(S.value),I&&(I=S.inclusive)}return new pl(T,I)}(u,l),y=this.In(l,u,h),_=this.In(l,u,p),w=this.Tn(l,u,f),b=this.En(l.indexId,c,y,h.inclusive,_,p.inclusive,w);return F.forEach(b,v=>r.G(v,n.limit).next(x=>{x.forEach(P=>{const T=ae.fromSegments(P.documentKey);a.has(T)||(a=a.add(T),s.push(T))})}))}).next(()=>s)}return F.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=j8(ze.create(e.filters,"and")).map(r=>cb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const h=n?this.dn(n[f/u]):th,p=this.An(e,h,r[f%u],i),y=this.Rn(e,h,o[f%u],a),_=s.map(w=>this.An(e,h,w,!0));c.push(...this.createRange(p,y,_))}return c}An(e,n,r,i){const o=new da(e,ae.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new da(e,ae.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new $I(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return F.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new He(mt.comparator),c=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new ju;for(const i of oa(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);fa.vt.It(o,a)}return r.zt()}dn(e){const n=new ju;return fa.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new ju;return fa.vt.It(nf(this.databaseId,n),r.Yt(function(o){const a=oa(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new ju);let o=0;for(const a of oa(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&rf(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);fa.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new ju;l.seed(s.zt()),fa.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Du(e),i=bs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return F.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(c,f){const h=f?new Jc(f.sequenceNumber,new Wn(qa(f.readTime),new ae(Lr(f.documentKey)),f.largestBatchId)):Jc.empty(),p=c.fields.map(([y,_])=>new Lh(mt.fromServerFormat(y),_));return new Pp(c.indexId,c.collectionGroup,p,h)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Du(e),o=bs(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>F.forEach(s,l=>o.put(NI(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return F.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?F.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),F.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?F.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return vs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return vs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=vs(e);let o=new He(Wi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new da(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new He(Wi);const i=this.Vn(n,e);if(i==null)return r;const o=ib(n);if(o!=null){const a=e.data.field(o.fieldPath);if(rf(a))for(const s of a.arrayValue.values||[])r=r.add(new da(n.indexId,e.key,this.dn(s),i))}else r=r.add(new da(n.indexId,e.key,th,i));return r}bn(e,n,r,i,o){J("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,c,f,h){const p=l.getIterator(),y=u.getIterator();let _=ys(p),w=ys(y);for(;_||w;){let b=!1,v=!1;if(_&&w){const x=c(_,w);x<0?v=!0:x>0&&(b=!0)}else _!=null?v=!0:b=!0;b?(f(w),w=ys(y)):v?(h(_),_=ys(p)):(_=ys(p),w=ys(y))}}(i,o,Wi,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),F.waitFor(a)}yn(e){let n=1;return bs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>Wi(a,s)).filter((a,s,l)=>!s||Wi(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=Wi(a,e),l=Wi(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,th,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,th,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return Wi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FI)}getMinOffset(e,n){return F.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ce())).next(FI)}}function VI(t){return Ft(t,"collectionParents")}function vs(t){return Ft(t,"indexEntries")}function Du(t){return Ft(t,"indexConfiguration")}function bs(t){return Ft(t,"indexState")}function FI(t){fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;sx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(c,f,h)=>(s++,h.delete()));o.push(l.next(()=>{fe(s===1)}));const u=[];for(const c of n.mutations){const f=YR(e,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return F.waitFor(o).next(()=>u)}function Dp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ce();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class vg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){fe(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new vg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ps(e),a=Gi(e);return a.add({}).next(s=>{fe(typeof s=="number");const l=new mx(s,n,r,i),u=function(p,y,_){const w=_.baseMutations.map(v=>Np(p.ct,v)),b=_.mutations.map(v=>Np(p.ct,v));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:w,mutations:b}}(this.serializer,this.userId,l),c=[];let f=new He((h,p)=>Ee(h.canonicalString(),p.canonicalString()));for(const h of i){const p=YR(this.userId,h.key.path,s);f=f.add(h.key.path.popLast()),c.push(a.put(u)),c.push(o.put(p,y9))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),F.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Gi(e).get(n).next(r=>r?(fe(r.userId===this.userId),ca(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?F.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Gi(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(fe(s.batchId>=r),o=ca(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Gi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).U("userMutationsIndex",n).next(r=>r.map(i=>ca(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ps(e).J({range:i},(a,s,l)=>{const[u,c,f]=a,h=Lr(c);if(u===this.userId&&n.path.isEqual(h))return Gi(e).get(f).next(p=>{if(!p)throw ce();fe(p.userId===this.userId),o.push(ca(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(Ee);const i=[];return n.forEach(o=>{const a=Vh(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=Ps(e).J({range:s},(u,c,f)=>{const[h,p,y]=u,_=Lr(p);h===this.userId&&o.path.isEqual(_)?r=r.add(y):f.done()});i.push(l)}),F.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Vh(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new He(Ee);return Ps(e).J({range:a},(l,u,c)=>{const[f,h,p]=l,y=Lr(h);f===this.userId&&r.isPrefixOf(y)?y.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Gi(e).get(o).next(a=>{if(a===null)throw ce();fe(a.userId===this.userId),r.push(ca(this.serializer,a))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Wj(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return Ps(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=Lr(o[1]);i.push(l)}else s.done()}).next(()=>{fe(i.length===0)})})}containsKey(e,n){return Gj(e,this.userId,n)}Nn(e){return Kj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gj(t,e,n){const r=Vh(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Ps(t).J({range:o,H:!0},(s,l,u)=>{const[c,f,h]=s;c===e&&f===i&&(a=!0),u.done()}).next(()=>a)}function Gi(t){return Ft(t,"mutations")}function Ps(t){return Ft(t,"documentMutations")}function Kj(t){return Ft(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wa(0)}static kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Wa(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>de.fromTimestamp(new vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>_s(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return _s(e).J((a,s)=>{const l=ic(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>F.waitFor(o)).next(()=>i)}forEachTarget(e,n){return _s(e).J((r,i)=>{const o=ic(i);n(o)})}qn(e){return UI(e).get("targetGlobalKey").next(n=>(fe(n!==null),n))}Qn(e,n){return UI(e).put("targetGlobalKey",n)}Kn(e,n){return _s(e).put(Bj(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Fa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return _s(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=ic(s);td(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=ro(e);return n.forEach(a=>{const s=_n(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),F.waitFor(i)}removeMatchingKeys(e,n,r){const i=ro(e);return F.forEach(n,o=>{const a=_n(o.path);return F.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=ro(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ro(e);let o=Ae();return i.J({range:r,H:!0},(a,s,l)=>{const u=Lr(a[1]),c=new ae(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=_n(n.path),i=IDBKeyRange.bound([r],[WR(r)],!1,!0);let o=0;return ro(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return _s(e).get(n).next(r=>r?ic(r):null)}}function _s(t){return Ft(t,"targets")}function UI(t){return Ft(t,"targetGlobal")}function ro(t){return Ft(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class L8{constructor(e){this.Un=e,this.buffer=new He(zI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){J("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ns(n)}await this.Hn(3e5)})}}class F8{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(rr.oe);const r=new L8(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(BI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BI):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ts()<=Ce.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function B8(t,e){return new F8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this.db=e,this.garbageCollector=B8(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return nh(e,r)}removeReference(e,n,r){return nh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return nh(e,n)}nr(e,n){return function(i,o){let a=!1;return Kj(i).Y(s=>Gj(i,s,o).next(l=>(l&&(a=!0),F.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,de.min()),ro(e).delete(function(f){return[0,_n(f.path)]}(a))))});i.push(l)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return nh(e,n)}tr(e,n){const r=ro(e);let i,o=rr.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==rr.oe&&n(new ae(Lr(i)),o),o=u,i=l):o=rr.oe}).next(()=>{o!==rr.oe&&n(new ae(Lr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nh(t,e){return ro(t).put(function(r,i){return{targetId:0,path:_n(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.changes=new Vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Zo(e).put(r)}removeEntry(e,n,r){return Zo(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Rp(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Tt.newInvalidDocument(n);return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:Tt.newInvalidDocument(n)};return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(n))},(i,o)=>{r={document:this.ir(n,o),size:Dp(o)}}).next(()=>r)}getEntries(e,n){let r=Bn();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=Bn(),i=new ft(ae.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,Dp(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return F.resolve();let i=new He(GI);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Mu(i.first()),Mu(i.last())),a=i.getIterator();let s=a.getNext();return Zo(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=ae.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&GI(s,f)<0;)r(s,null),s=a.getNext();s&&s.isEqual(f)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?c.$(Mu(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),Rp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zo(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=Bn();for(const f of u){const h=this.ir(ae.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(rd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Bn();const a=WI(n,r),s=WI(n,Wn.max());return Zo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,c)=>{const f=this.ir(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new q8(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return qI(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}rr(e,n){return qI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=A8(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(de.min())))return r}return Tt.newInvalidDocument(e)}}function Qj(t){return new z8(t)}class q8 extends Hj{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Vo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new He((o,a)=>Ee(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=CI(this.cr.serializer,a);i=i.add(o.path.popLast());const u=Dp(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=CI(this.cr.serializer,a.convertToNoDocument(de.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),F.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function qI(t){return Ft(t,"remoteDocumentGlobal")}function Zo(t){return Ft(t,"remoteDocumentsV14")}function Mu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WI(t,e){const n=e.documentKey.path.toArray();return[t,Rp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function GI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ee(n[o],r[o]),i)return i;return i=Ee(n.length,r.length),i||(i=Ee(n[n.length-2],r[r.length-2]),i||Ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ec(r.mutation,i,Pn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=nc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Bn();const a=xc(),s=function(){return xc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ri)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Ec(c.mutation,u,c.mutation.getFieldMask(),vt.now())):a.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new W8(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=xc();let i=new ft((a,s)=>a-s),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Pn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Ae()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=yj();c.forEach(h=>{if(!o.has(h)){const p=Ej(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Vr());let s=-1,l=o;return a.next(u=>F.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?F.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:s,changes:gj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=nc();return this.indexManager.getCollectionParents(e,o).next(s=>F.forEach(s,l=>{const u=function(f,h){return new Hl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Tt.newInvalidDocument(c)))});let s=nc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ec(c.mutation,u,Pn.empty(),vt.now()),rd(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Uj(i.bundledQuery),readTime:wn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.overlays=new ft(ae.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Vr(),o=n.length+1,a=new ae(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ft((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Vr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Vr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return F.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yx(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ae(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.Tr=new He(Ut.Er),this.dr=new He(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Be([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Be([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Ae();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new He(Ut.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mx(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Ut(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(Ee);return n.forEach(i=>{const o=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const a=new Ut(new ae(o),0);let s=new He(Ee);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),F.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.Mr=e,this.docs=function(){return new ft(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Bn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Bn();const a=n.path,s=new ae(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||sx(GR(c),r)<=0||(i.has(c.key)||rd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X8(this)}getSize(e){return F.resolve(this.size)}}class X8 extends Hj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.persistence=e,this.Nr=new Vo(n=>Fa(n),td),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xx,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rr(0),this.Kr=!1,this.Kr=!0,this.$r=new H8,this.referenceDelegate=e(this),this.Ur=new J8(this),this.indexManager=new D8,this.remoteDocumentCache=function(i){return new Y8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Fj(n),this.Gr=new G8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Q8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new Z8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Z8 extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Jr=new xx,this.Yr=null}static Zr(e){return new bg(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.serializer=e}O(e,n,r,i){const o=new ug("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aI,{unique:!0}),l.createObjectStore("documentMutations")}(e),KI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=F.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),KI(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:de.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aI,{unique:!0});const f=u.store("mutations"),h=c.map(p=>f.put(p));return F.waitFor(h)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:O9});u.createIndex("collectionPathOverlayIndex",C9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",k9,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:v9});u.createIndex("documentKeyIndex",b9),u.createIndex("collectionGroupIndex",_9)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:S9}).createIndex("sequenceNumberIndex",I9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:A9}).createIndex("documentKeyIndex",P9,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Dp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>F.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>F.forEach(s,l=>{fe(l.userId===o.userId);const u=ca(this.serializer,l);return Wj(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new Be(a),u=function(f){return[0,_n(f)]}(l);o.push(n.get(u).next(c=>c?F.resolve():(f=>n.put({targetId:0,path:_n(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>F.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:T9});const r=n.store("collectionParents"),i=new wx,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:_n(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new Be(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const c=Lr(s);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=ic(i),a=Bj(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(f){return f.document?new ae(Be.fromString(f.document.name).popFirst(5)):f.noDocument?ae.fromSegments(f.noDocument.path):f.unknownDocument?ae.fromSegments(f.unknownDocument.path):ce()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>F.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=Qj(this.serializer),o=new Xj(bg.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Ae();ca(this.serializer,l).keys().forEach(f=>c=c.add(f)),s.set(l.userId,c)}),F.forEach(s,(l,u)=>{const c=new mn(u),f=yg.lt(this.serializer,c),h=o.getIndexManager(c),p=vg.lt(c,this.serializer,h,o.referenceDelegate);return new Yj(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new ob(n,rr.oe),l).next()})})}}function KI(t){t.createObjectStore("targetDocuments",{keyPath:x9}).createIndex("documentTargetsIndex",E9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w9,{unique:!0}),t.createObjectStore("targetGlobal")}const gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ex{constructor(e,n,r,i,o,a,s,l,u,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!Ex.D())throw new ie(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U8(this,i),this.Ai=n+"main",this.serializer=new Fj(l),this.Ri=new wo(this.Ai,this.hi,new e7(this.serializer)),this.$r=new O8,this.Ur=new $8(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qj(this.serializer),this.Gr=new P8,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,gv);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new rr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Lo(e))return J("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return $u(e).get("owner").next(n=>F.resolve(this.vi(n)))}Ci(e){return rh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ft(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return F.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?F.resolve(!0):$u(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,gv);return!1}}return!(!this.networkEnabled||!this.inForeground)||rh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new ob(e,rr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>rh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return vg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new M8(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return yg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?j9:l===16?R9:l===15?ux:l===14?ZR:l===13?JR:l===12?N9:l===11?XR:void ce()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new ob(s,this.Qr?this.Qr.next():rr.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ie(H.FAILED_PRECONDITION,KR);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return $u(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ie(H.FAILED_PRECONDITION,gv)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $u(e).put("owner",n)}static D(){return wo.D()}bi(e){const n=$u(e);return n.get("owner").next(r=>this.vi(r)?(J("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):F.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;IN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return J("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $u(t){return Ft(t,"owner")}function rh(t){return Ft(t,"clientMetadata")}function t7(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IN()?8:QR(Vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new n7;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ts()<=Ce.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ts()<=Ce.DEBUG&&J("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ts()<=Ce.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):F.resolve())}Yi(e,n){if(bI(n))return F.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=db(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ae(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,db(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return bI(n)||i.isEqual(de.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?F.resolve(null):(Ts()<=Ce.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.rs(e,a,n,c9(i,-1)).next(s=>s))})}ts(e,n){let r=new He(pj(e));return n.forEach((i,o)=>{rd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ts()<=Ce.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ft(Ee),this._s=new Vo(o=>Fa(o),td),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Zj(t,e,n,r){return new r7(t,e,n,r)}async function eD(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ae();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function i7(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=F.resolve();return h.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(_=>{const w=u.docVersions.get(y);fe(w!==null),_.version.compareTo(w)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ae();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tD(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function o7(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,w,b){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Bn(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(a7(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(de.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return F.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function a7(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Bn();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):J("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function s7(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l7(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new ci(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _b(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Lo(a))throw a;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function HI(t,e,n){const r=xe(t);let i=de.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=xe(l),h=f._s.get(c);return h!==void 0?F.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,a,sr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:de.min(),n?o:Ae())).next(s=>(u7(r,Q9(e),s),{documents:s,Ts:o})))}function u7(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class QI{constructor(){this.activeTargetIds=t8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.so=new QI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new QI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function yv(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class h7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=yv(),l=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(J("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Yc("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=f7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=yv();return new Promise((a,s)=>{const l=new VR;l.setWithCredentials(!0),l.listenOnce(FR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $h.NO_ERROR:const c=l.getResponseJson();J(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case $h.TIMEOUT:J(on,`RPC '${e}' ${o} timed out`),s(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const f=l.getStatus();if(J(on,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(p.status);s(new ie(y,p.message))}else s(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ie(H.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(on,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);J(on,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=yv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zR(),s=UR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");J(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let h=!1,p=!1;const y=new d7({Io:w=>{p?J(on,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(J(on,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),J(on,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),_=(w,b,v)=>{w.listen(b,x=>{try{v(x)}catch(P){setTimeout(()=>{throw P},0)}})};return _(f,tc.EventType.OPEN,()=>{p||(J(on,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(f,tc.EventType.CLOSE,()=>{p||(p=!0,J(on,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(f,tc.EventType.ERROR,w=>{p||(p=!0,Yc(on,`RPC '${e}' stream ${i} transport errored:`,w),y.So(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),_(f,tc.EventType.MESSAGE,w=>{var b;if(!p){const v=w.data[0];fe(!!v);const x=v,P=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(P){J(on,`RPC '${e}' stream ${i} received error:`,P);const T=P.status;let I=function(O){const k=Pt[O];if(k!==void 0)return Ij(k)}(T),E=P.message;I===void 0&&(I=H.INTERNAL,E="Unknown error status: "+T+" with message "+P.message),p=!0,y.So(new ie(I,E)),f.close()}else J(on,`RPC '${e}' stream ${i} received:`,v),y.bo(v)}}),_(s,BR.STAT_EVENT,w=>{w.stat===rb.PROXY?J(on,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===rb.NOPROXY&&J(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof window<"u"?window:null}function qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){return new y8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m7 extends iD{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_8(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?de.min():a.readTime?wn(a.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mb(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Op(l)?{documents:jj(o,l)}:{query:Dj(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=Oj(o,a.resumeToken);const u=hb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(de.min())>0){s.readTime=gl(o,a.snapshotVersion.toTimestamp());const u=hb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=x8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mb(this.serializer),n.removeTarget=e,this.a_(n)}}class g7 extends iD{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=w8(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Np(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,pb(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,pb(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ie(H.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class v7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gn(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{is(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await od(u),u.q_.set("Unknown"),u.L_.delete(4),await wg(u)}(this))})}),this.q_=new v7(r,i)}}async function wg(t){if(is(t))for(const e of t.B_)await e(!0)}async function od(t){for(const e of t.B_)await e(!1)}function oD(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Px(n)?Ax(n):Yl(n).r_()&&Ix(n,e))}function Sx(t,e){const n=xe(t),r=Yl(n);n.N_.delete(e),r.r_()&&aD(n,e),n.N_.size===0&&(r.r_()?r.o_():is(n)&&n.q_.set("Unknown"))}function Ix(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).A_(e)}function aD(t,e){t.Q_.xe(e),Yl(t).R_(e)}function Ax(t){t.Q_=new h8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.q_.v_()}function Px(t){return is(t)&&!Yl(t).n_()&&t.N_.size>0}function is(t){return xe(t).L_.size===0}function sD(t){t.Q_=void 0}async function _7(t){t.q_.set("Online")}async function w7(t){t.N_.forEach((e,n)=>{Ix(t,e)})}async function x7(t,e){sD(t),Px(t)?(t.q_.M_(e),Ax(t)):t.q_.set("Unknown")}async function E7(t,e,n){if(t.q_.set("Online"),e instanceof Pj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mp(t,r)}else if(e instanceof zh?t.Q_.Ke(e):e instanceof Aj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await tD(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Nt.EMPTY_BYTE_STRING,c.snapshotVersion)),aD(o,l);const f=new ci(c.target,l,u,c.sequenceNumber);Ix(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Mp(t,r)}}async function Mp(t,e,n){if(!Lo(e))throw e;t.L_.add(1),await od(t),t.q_.set("Offline"),n||(n=()=>tD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wg(t)})}function lD(t,e){return e().catch(n=>Mp(t,n,e))}async function ad(t){const e=xe(t),n=Co(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;T7(e);)try{const i=await s7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,S7(e,i)}catch(i){await Mp(e,i)}uD(e)&&cD(e)}function T7(t){return is(t)&&t.O_.length<10}function S7(t,e){t.O_.push(e);const n=Co(t);n.r_()&&n.V_&&n.m_(e.mutations)}function uD(t){return is(t)&&!Co(t).n_()&&t.O_.length>0}function cD(t){Co(t).start()}async function I7(t){Co(t).p_()}async function A7(t){const e=Co(t);for(const n of t.O_)e.m_(n.mutations)}async function P7(t,e,n){const r=t.O_.shift(),i=gx.from(r,e,n);await lD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ad(t)}async function O7(t,e){e&&Co(t).V_&&await async function(r,i){if(function(a){return c8(a)&&a!==H.ABORTED}(i.code)){const o=r.O_.shift();Co(r).s_(),await lD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ad(r)}}(t,e),uD(t)&&cD(t)}async function XI(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=is(n);n.L_.add(3),await od(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wg(n)}async function C7(t,e){const n=xe(t);e?(n.L_.delete(2),await wg(n)):e||(n.L_.add(2),await od(n),n.q_.set("Unknown"))}function Yl(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new m7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_7.bind(null,t),Ro:w7.bind(null,t),mo:x7.bind(null,t),d_:E7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Px(t)?Ax(t):t.q_.set("Unknown")):(await t.K_.stop(),sD(t))})),t.K_}function Co(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new g7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I7.bind(null,t),mo:O7.bind(null,t),f_:A7.bind(null,t),g_:P7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ad(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Ox(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cx(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Lo(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.W_=new ft(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new yl(e,n,el.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N7{constructor(){this.queries=ZI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=ZI(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function ZI(){return new Vo(t=>hj(t),dg)}async function kx(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new k7,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Cx(a,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Rx(n)}async function Nx(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R7(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Rx(n)}function j7(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Rx(t){t.Y_.forEach(e=>{e.next()})}var wb,eA;(eA=wb||(wb={})).ea="default",eA.Cache="cache";class jx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class D7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=pj(e),this.Ra=new el(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new JI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=rd(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?y!==_&&(r.track({type:3,doc:p}),w=!0):this.ga(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(s=!0)),w&&(p?(a=a.add(p),o=_?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,y){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return _(p)-_(y)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new yl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new JI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class M7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $7{constructor(e){this.key=e,this.va=!1}}class L7{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Vo(s=>hj(s),dg),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(ae.comparator),this.Na=new Map,this.La=new xx,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function V7(t,e,n=!0){const r=vD(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await hD(r,e,n,!0),i}async function F7(t,e){const n=vD(t);await hD(n,e,!0,!1)}async function hD(t,e,n,r){const i=await l7(t.localStore,sr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await B7(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&oD(t.remoteStore,i),s}async function B7(t,e,n,r,i){t.Ka=(f,h,p)=>async function(_,w,b,v){let x=w.view.ma(b);x.ns&&(x=await HI(_.localStore,w.query,!1).then(({documents:E})=>w.view.ma(E,x)));const P=v&&v.targetChanges.get(w.targetId),T=v&&v.targetMismatches.get(w.targetId)!=null,I=w.view.applyChanges(x,_.isPrimaryClient,P,T);return nA(_,w.targetId,I.wa),I.snapshot}(t,f,h,p);const o=await HI(t.localStore,e,!0),a=new D7(e,o.Ts),s=a.ma(o.documents),l=id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);nA(t,n,u.wa);const c=new M7(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function U7(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!dg(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _b(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sx(r.remoteStore,i.targetId),xb(r,i.targetId)}).catch(ns)):(xb(r,i.targetId),await _b(r.localStore,i.targetId,!0))}async function z7(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sx(n.remoteStore,r.targetId))}async function q7(t,e,n){const r=bD(t);try{const i=await function(a,s){const l=xe(a),u=vt.now(),c=s.reduce((p,y)=>p.add(y.key),Ae());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Bn(),_=Ae();return l.cs.getEntries(p,c).next(w=>{y=w,y.forEach((b,v)=>{v.isValidDocument()||(_=_.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(w=>{f=w;const b=[];for(const v of s){const x=l8(v,f.get(v.key).overlayedDocument);x!=null&&b.push(new Ri(v.key,x,ij(x.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,s)}).next(w=>{h=w;const b=w.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,b)})}).then(()=>({batchId:h.batchId,changes:gj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ft(Ee)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await sd(r,i.changes),await ad(r.remoteStore)}catch(i){const o=Cx(i,"Failed to persist write");n.reject(o)}}async function pD(t,e){const n=xe(t);try{const r=await o7(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fe(a.va):i.removedDocuments.size>0&&(fe(a.va),a.va=!1))}),await sd(n,r,e)}catch(r){await ns(r)}}function tA(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=xe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&Rx(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W7(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ft(ae.comparator);a=a.insert(o,Tt.newNoDocument(o,de.min()));const s=Ae().add(o),l=new gg(de.min(),new Map,new ft(Ee),a,s);await pD(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dx(r)}else await _b(r.localStore,e,!1).then(()=>xb(r,e,n)).catch(ns)}async function G7(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await i7(n.localStore,e);gD(n,r,null),mD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sd(n,i)}catch(i){await ns(i)}}async function K7(t,e,n){const r=xe(t);try{const i=await function(a,s){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(fe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);gD(r,e,n),mD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sd(r,i)}catch(i){await ns(i)}}function mD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gD(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||yD(t,r)})}function yD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dx(t))}function nA(t,e,n){for(const r of n)r instanceof fD?(t.La.addReference(r.key,e),H7(t,r)):r instanceof dD?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||yD(t,r.key)):ce()}function H7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dx(t))}function Dx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new $7(n)),t.Oa=t.Oa.insert(n,r),oD(t.remoteStore,new ci(sr(nd(n.path)),r,"TargetPurposeLimboResolution",rr.oe))}}async function sd(t,e,n){const r=xe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Tx.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,h=>F.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>F.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Lo(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),y=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function Q7(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await eD(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ie(H.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sd(n,r.hs)}}function Y7(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function vD(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W7.bind(null,e),e.Ca.d_=R7.bind(null,e.eventManager),e.Ca.$a=j7.bind(null,e.eventManager),e}function bD(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K7.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_g(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Zj(this.persistence,new Jj,e.initialUser,this.serializer)}Ga(e){return new Xj(bg.Zr,this.serializer)}Wa(e){return new nD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class X7 extends lf{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await bD(this.Ja.syncEngine),await ad(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return Zj(this.persistence,new Jj,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new V8(r,e.asyncQueue,n)}Ha(e,n){const r=new p9(n,this.persistence);return new h9(e.asyncQueue,r)}Ga(e){const n=t7(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Ex(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,p7(),qh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new nD}}class $p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q7.bind(null,this.syncEngine),await C7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N7}()}createDatastore(e){const n=_g(e.databaseInfo.databaseId),r=function(o){return new h7(o)}(e.databaseInfo);return function(o,a,s,l){return new y7(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new b7(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>tA(this.syncEngine,n,0),function(){return YI.D()?new YI:new c7}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new L7(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);J("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await od(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=qR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{J("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(J("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vv(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z7(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XI(e.remoteStore,i)),t._onlineComponents=e}async function Z7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await vv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await vv(t,new lf)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await vv(t,new lf);return t._offlineComponents}async function _D(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await rA(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await rA(t,new $p))),t._onlineComponents}function eq(t){return _D(t).then(e=>e.syncEngine)}async function Lp(t){const e=await _D(t),n=e.eventManager;return n.onListen=V7.bind(null,e.syncEngine),n.onUnlisten=U7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z7.bind(null,e.syncEngine),n}function tq(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Mx({next:h=>{c.Za(),a.enqueueAndForget(()=>Nx(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new jx(nd(s.path),c,{includeMetadataChanges:!0,_a:!0});return kx(o,f)}(await Lp(t),t.asyncQueue,e,n,r)),r.promise}function nq(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Mx({next:h=>{c.Za(),a.enqueueAndForget(()=>Nx(o,f)),h.fromCache&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new jx(s,c,{includeMetadataChanges:!0,_a:!0});return kx(o,f)}(await Lp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rq(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oA(t){if(!ae.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aA(t){if(ae.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xg(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $x{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n9;switch(r.type){case"firstParty":return new o9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iA.get(n);r&&(J("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class xo extends Fo{constructor(e,n,r){super(e,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ae(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function ji(t,e,...n){if(t=It(t),xD("collection","path",e),t instanceof $x){const r=Be.fromString(e,...n);return aA(r),new xo(t,null,r)}{if(!(t instanceof fn||t instanceof xo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return aA(r),new xo(t.firestore,null,r)}}function Rt(t,e,...n){if(t=It(t),arguments.length===1&&(e=qR.newId()),xD("doc","path",e),t instanceof $x){const r=Be.fromString(e,...n);return oA(r),new fn(t,null,new ae(r))}{if(!(t instanceof fn||t instanceof xo))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return oA(r),new fn(t.firestore,t instanceof xo?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rD(this,"async_queue_retry"),this.Vu=()=>{const r=qh();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=qh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lo(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ox.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function uA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=-1;class ko extends $x{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lA(e),this._firestoreClient=void 0,await e}}}function oq(t,e,n){n||(n="(default)");const r=ts(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Ao(o,e))return i;throw new ie(H.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ie(H.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Eg(t){if(t._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aq(t),t._firestoreClient}function aq(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new M9(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new J7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(Nt.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vl(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=/^__.*__$/;class lq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class ED{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Sg{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(TD(this.Cu)&&sq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_g(e)}Qu(e,n,r,i=!1){return new Sg({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fx(t){const e=t._freezeSettings(),n=_g(t._databaseId);return new uq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cq(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);zx("Data must be an object, but it was:",a,r);const s=ID(r,a);let l,u;if(o.merge)l=new Pn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=Eb(e,f,n);if(!a.contains(h))throw new ie(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PD(c,h)||c.push(h)}l=new Pn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new lq(new cn(s),l,u)}class Ig extends ld{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ig}}function SD(t,e,n){return new Sg({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bx extends ld{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=SD(this,e,!0),r=this.Ku.map(o=>os(o,n)),i=new Ba(r);return new px(e.path,i)}isEqual(e){return e instanceof Bx&&Ao(this.Ku,e.Ku)}}class Ux extends ld{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=SD(this,e,!0),r=this.Ku.map(o=>os(o,n)),i=new Ua(r);return new px(e.path,i)}isEqual(e){return e instanceof Ux&&Ao(this.Ku,e.Ku)}}function fq(t,e,n,r){const i=t.Qu(1,e,n);zx("Data must be an object, but it was:",i,r);const o=[],a=cn.empty();rs(r,(l,u)=>{const c=qx(e,l,n);u=It(u);const f=i.Nu(c);if(u instanceof Ig)o.push(c);else{const h=os(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new Pn(o);return new ED(a,s,i.fieldTransforms)}function dq(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Eb(e,r,n)],l=[i];if(o.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Eb(e,o[h])),l.push(o[h+1]);const u=[],c=cn.empty();for(let h=s.length-1;h>=0;--h)if(!PD(u,s[h])){const p=s[h];let y=l[h];y=It(y);const _=a.Nu(p);if(y instanceof Ig)u.push(p);else{const w=os(y,_);w!=null&&(u.push(p),c.set(p,w))}}const f=new Pn(u);return new ED(c,f,a.fieldTransforms)}function hq(t,e,n,r=!1){return os(n,t.Qu(r?4:3,e))}function os(t,e){if(AD(t=It(t)))return zx("Unsupported field value:",e,t),ID(t,e);if(t instanceof ld)return function(r,i){if(!TD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=os(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vt.fromDate(r);return{timestampValue:gl(i.serializer,o)}}if(r instanceof vt){const o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gl(i.serializer,o)}}if(r instanceof Lx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:Oj(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vx)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return hx(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${xg(r)}`)}(t,e)}function ID(t,e){const n={};return ej(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,(r,i)=>{const o=os(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Lx||t instanceof vl||t instanceof fn||t instanceof ld||t instanceof Vx)}function zx(t,e,n){if(!AD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Eb(t,e,n){if((e=It(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return qx(t,e);throw Vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const pq=new RegExp("[~\\*/\\[\\]]");function qx(t,e,n){if(e.search(pq)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tg(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,s+t+l)}function PD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mq extends OD{data(){return super.data()}}function Wx(t,e){return typeof e=="string"?qx(t,e):e instanceof Tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{}class kD extends Gx{}function Kx(t,e,...n){let r=[];e instanceof Gx&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Qx).length,s=o.filter(l=>l instanceof Hx).length;if(a>1||a>0&&s>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hx extends kD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hx(e,n,r)}_apply(e){const n=this._parse(e);return ND(e._query,n),new Fo(e.firestore,e.converter,fb(e._query,n))}_parse(e){const n=Fx(e.firestore);return function(o,a,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fA(f,c);const p=[];for(const y of f)p.push(cA(l,o,y));h={arrayValue:{values:p}}}else h=cA(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fA(f,c),h=hq(s,a,f,c==="in"||c==="not-in");return ke.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qx extends Gx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ze.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)ND(a,l),a=fb(a,l)}(e._query,n),new Fo(e.firestore,e.converter,fb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yx extends kD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yx(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new of(o,a)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Hl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Xx(t,e="asc"){const n=e,r=Wx("orderBy",t);return Yx._create(r,n)}function cA(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dj(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ae.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nf(t,new ae(r))}if(n instanceof fn)return nf(t,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(n)}.`)}function fA(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ND(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gq{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>lt(a.doubleValue));return new Vx(o)}convertGeoPoint(e){return new Lx(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);fe(Vj(r));const i=new La(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(n)||gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RD extends OD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wh extends RD{data(e={}){return super.data(e)}}class jD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wh(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new oc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new oc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:vq(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){t=lr(t,fn);const e=lr(t.firestore,ko);return tq(Eg(e),t._key).then(n=>$D(e,t,n))}class Jx extends gq{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function as(t){t=lr(t,Fo);const e=lr(t.firestore,ko),n=Eg(e),r=new Jx(e);return CD(t._query),nq(n,t._query).then(i=>new jD(e,r,t,i))}function Bo(t,e,n){t=lr(t,fn);const r=lr(t.firestore,ko),i=yq(t.converter,e,n);return Zx(r,[cq(Fx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yn.none())])}function Ga(t,e,n,...r){t=lr(t,fn);const i=lr(t.firestore,ko),o=Fx(i);let a;return a=typeof(e=It(e))=="string"||e instanceof Tg?dq(o,"updateDoc",t._key,e,n,r):fq(o,"updateDoc",t._key,e),Zx(i,[a.toMutation(t._key,yn.exists(!0))])}function Ag(t){return Zx(lr(t.firestore,ko),[new mg(t._key,yn.none())])}function MD(t,...e){var n,r,i;t=It(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||uA(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(uA(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof fn)u=lr(t.firestore,ko),c=nd(t._key.path),l={next:f=>{e[a]&&e[a]($D(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=lr(t,Fo);u=lr(f.firestore,ko),c=f._query;const h=new Jx(u);l={next:p=>{e[a]&&e[a](new jD(u,h,f,p))},error:e[a+1],complete:e[a+2]},CD(t._query)}return function(h,p,y,_){const w=new Mx(_),b=new jx(p,w,y);return h.asyncQueue.enqueueAndForget(async()=>kx(await Lp(h),b)),()=>{w.Za(),h.asyncQueue.enqueueAndForget(async()=>Nx(await Lp(h),b))}}(Eg(u),c,s,l)}function Zx(t,e){return function(r,i){const o=new Kr;return r.asyncQueue.enqueueAndForget(async()=>q7(await eq(r),i,o)),o.promise}(Eg(t),e)}function $D(t,e,n){const r=n.docs.get(e._key),i=new Jx(t);return new RD(t,i,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}class bq{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=xq(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function _q(t){return new bq(t)}class wq{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$p.provider,this._offlineComponentProvider={build:n=>new X7(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function xq(t){return new wq(void 0)}function LD(...t){return new Bx("arrayUnion",t)}function Eq(...t){return new Ux("arrayRemove",t)}(function(e,n=!0){(function(i){Kl=i})(Wl),Yr(new Cr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ko(new r9(r.getProvider("auth-internal")),new s9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ar(rI,"4.7.3",e),ar(rI,"4.7.3","esm2017")})();const Tq={apiKey:"AIzaSyDnW1VLGpEWUsy_QwnzzRhan_UhdHJcrlE",authDomain:"menopause-companion-276f1.firebaseapp.com",databaseURL:"https://menopause-companion-276f1-default-rtdb.firebaseio.com",projectId:"menopause-companion-276f1",storageBucket:"menopause-companion-276f1.firebasestorage.app",messagingSenderId:"36387994210",appId:"1:36387994210:web:23040223f96337ef10ef3b",measurementId:"G-EBB7Q82HPF"},e1=kN(Tq),Qe=oq(e1,{localCache:_q({tabManager:void 0,cacheSizeBytes:iq})});let Sq;try{Sq=VU(e1)}catch(t){console.log("Analytics disabled:",t)}const ea=Zz(e1),ud=(t,e)=>{(t==null?void 0:t.code)!=="unavailable"&&(t==null?void 0:t.code)!=="failed-precondition"?console.error(`Error in ${e}:`,t):console.warn(`Offline: ${e}`)},Iq=async t=>{try{const e=Rt(Qe,"users",t),n=await DD(e);if(n.exists()){const r=n.data();return localStorage.setItem(`user_profile_${t}`,JSON.stringify(r)),r}else{const r=localStorage.getItem(`user_profile_${t}`);if(r)return JSON.parse(r);const i={...Gc,role:"user",maintenanceStatus:"system"};return Bo(e,i).catch(()=>{}),i}}catch(e){ud(e,"fetchUserProfile");const n=localStorage.getItem(`user_profile_${t}`);return n?JSON.parse(n):Gc}},Tb=async(t,e)=>{try{const n=Rt(Qe,"users",t);return await Bo(n,e,{merge:!0}),localStorage.setItem(`user_profile_${t}`,JSON.stringify(e)),!0}catch(n){return localStorage.setItem(`user_profile_${t}`,JSON.stringify(e)),ud(n,"saveUserProfile"),!1}},Aq=async t=>{try{return await Ag(Rt(Qe,"users",t)),!0}catch(e){return console.error("Error deleting user:",e),!1}},Pq=async(t,e)=>{try{const n=ji(Qe,"users",t,"symptoms"),r=new Date().getTime();return await Bo(Rt(n,r.toString()),{...e,id:r}),!0}catch(n){return ud(n,"saveSymptomLog"),!1}},Oq=async t=>{try{const e=ji(Qe,"users",t,"symptoms");return(await as(e)).docs.map(i=>i.data()).sort((i,o)=>new Date(i.date).getTime()-new Date(o.date).getTime())}catch(e){return ud(e,"fetchSymptomHistory"),[]}},Cq=async t=>{try{const e=ji(Qe,"users",t,"symptoms"),n=new Date().toISOString().split("T")[0];return(await as(e)).docs.some(i=>i.data().date.startsWith(n))}catch{return!1}},kq=async()=>{try{const t=ji(Qe,"posts"),e=Kx(t,Xx("id","desc")),n=await as(e);return n.empty?[]:n.docs.map(r=>{const i=r.data();return{...i,likedBy:i.likedBy||[],repliesList:i.repliesList||[]}})}catch(t){return ud(t,"fetchForumPosts"),[]}},Nq=async t=>{try{const e=new Date().getTime(),n={...t,id:e,likes:0,replies:0,likedBy:[],repliesList:[],timestamp:new Date().toLocaleDateString("fa-IR")};return await Bo(Rt(Qe,"posts",e.toString()),n),!0}catch(e){return console.error("Error creating post:",e),!1}},VD=async t=>{try{return await Ag(Rt(Qe,"posts",t.toString())),!0}catch(e){return console.error("Error deleting post:",e),!1}},Rq=async(t,e,n)=>{try{const r=Rt(Qe,"posts",t.toString());return n?await Ga(r,{likedBy:LD(e),likes:1}):await Ga(r,{likedBy:Eq(e)}),!0}catch{return!1}},jq=async(t,e)=>{try{const n=Rt(Qe,"posts",t.toString());return await Ga(n,{repliesList:LD(e),replies:1}),!0}catch{return!1}},Dq=async t=>{try{return await Bo(Rt(Qe,"reports",t.id),t),!0}catch{return!1}},Mq=async()=>{try{const t=Kx(ji(Qe,"reports"),Xx("timestamp","desc"));return(await as(t)).docs.map(n=>n.data())}catch{return[]}},$q=async t=>{try{return await Ag(Rt(Qe,"reports",t)),!0}catch{return!1}},FD=async()=>{try{return(await as(ji(Qe,"library"))).docs.map(e=>e.data())}catch{return[]}},Lq=async t=>{try{const e=new Date().getTime();return await Bo(Rt(Qe,"library",e.toString()),{...t,id:e}),!0}catch{return!1}},Vq=async t=>{try{return await Ag(Rt(Qe,"library",t.toString())),!0}catch{return!1}},Fq=async(t,e)=>{try{return await Ga(Rt(Qe,"library",t.toString()),e),!0}catch{return!1}},Bq=async()=>{try{const t=await as(ji(Qe,"tips"));return t.empty?yS:t.docs.map(e=>e.data())}catch{return yS}},Uq=async t=>{try{const e=new Date().getTime().toString();return await Bo(Rt(Qe,"notifications",e),{...t,id:e}),!0}catch{return!1}},zq=(t,e)=>{const n=Kx(ji(Qe,"notifications"),Xx("date","desc"));return MD(n,r=>{const o=r.docs.map(a=>a.data()).filter(a=>a.target==="all"||a.target===t);e(o)},r=>{})},qq=async()=>{try{return(await as(ji(Qe,"users"))).docs.map(e=>({id:e.id,profile:e.data()}))}catch{return[]}},Wq=async(t,e)=>{try{const n=Rt(Qe,"users",t);return await Ga(n,{role:e}),!0}catch{return!1}},bv=async(t,e)=>{try{const n=Rt(Qe,"users",t);return await Ga(n,{isBanned:e}),!0}catch{return!1}},Gq=async(t,e)=>{try{const n=Rt(Qe,"users",t);return await Ga(n,{maintenanceStatus:e}),!0}catch{return!1}},Kq=async t=>{try{const e=Rt(Qe,"system","metadata"),n=await DD(e);if(n.exists()){const r=n.data().version;if(r&&r!==t)return r}return null}catch{return null}},BD=t=>{const e=Rt(Qe,"system","metadata");return MD(e,n=>{n.exists()?t(n.data().maintenance===!0):t(!1)},()=>t(!1))},Hq=async()=>(console.warn("WIPING SERVER DATA REQUESTED"),!0),dA=async t=>{try{const e=Rt(Qe,"system","metadata");return await Bo(e,{maintenance:t},{merge:!0}),!0}catch{return!1}};function UD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UD(t))&&(r&&(r+=" "),r+=e);return r}var Qq=Array.isArray,jn=Qq,Yq=typeof jd=="object"&&jd&&jd.Object===Object&&jd,zD=Yq,Xq=zD,Jq=typeof self=="object"&&self&&self.Object===Object&&self,Zq=Xq||Jq||Function("return this")(),Zr=Zq,eW=Zr,tW=eW.Symbol,cd=tW,hA=cd,qD=Object.prototype,nW=qD.hasOwnProperty,rW=qD.toString,Lu=hA?hA.toStringTag:void 0;function iW(t){var e=nW.call(t,Lu),n=t[Lu];try{t[Lu]=void 0;var r=!0}catch{}var i=rW.call(t);return r&&(e?t[Lu]=n:delete t[Lu]),i}var oW=iW,aW=Object.prototype,sW=aW.toString;function lW(t){return sW.call(t)}var uW=lW,pA=cd,cW=oW,fW=uW,dW="[object Null]",hW="[object Undefined]",mA=pA?pA.toStringTag:void 0;function pW(t){return t==null?t===void 0?hW:dW:mA&&mA in Object(t)?cW(t):fW(t)}var Di=pW;function mW(t){return t!=null&&typeof t=="object"}var Mi=mW,gW=Di,yW=Mi,vW="[object Symbol]";function bW(t){return typeof t=="symbol"||yW(t)&&gW(t)==vW}var Xl=bW,_W=jn,wW=Xl,xW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EW=/^\w*$/;function TW(t,e){if(_W(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wW(t)?!0:EW.test(t)||!xW.test(t)||e!=null&&t in Object(e)}var t1=TW;function SW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=SW;const Jl=Ze(Uo);var IW=Di,AW=Uo,PW="[object AsyncFunction]",OW="[object Function]",CW="[object GeneratorFunction]",kW="[object Proxy]";function NW(t){if(!AW(t))return!1;var e=IW(t);return e==OW||e==CW||e==PW||e==kW}var n1=NW;const Se=Ze(n1);var RW=Zr,jW=RW["__core-js_shared__"],DW=jW,_v=DW,gA=function(){var t=/[^.]+$/.exec(_v&&_v.keys&&_v.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MW(t){return!!gA&&gA in t}var $W=MW,LW=Function.prototype,VW=LW.toString;function FW(t){if(t!=null){try{return VW.call(t)}catch{}try{return t+""}catch{}}return""}var WD=FW,BW=n1,UW=$W,zW=Uo,qW=WD,WW=/[\\^$.*+?()[\]{}|]/g,GW=/^\[object .+?Constructor\]$/,KW=Function.prototype,HW=Object.prototype,QW=KW.toString,YW=HW.hasOwnProperty,XW=RegExp("^"+QW.call(YW).replace(WW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JW(t){if(!zW(t)||UW(t))return!1;var e=BW(t)?XW:GW;return e.test(qW(t))}var ZW=JW;function eG(t,e){return t==null?void 0:t[e]}var tG=eG,nG=ZW,rG=tG;function iG(t,e){var n=rG(t,e);return nG(n)?n:void 0}var ss=iG,oG=ss,aG=oG(Object,"create"),Pg=aG,yA=Pg;function sG(){this.__data__=yA?yA(null):{},this.size=0}var lG=sG;function uG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cG=uG,fG=Pg,dG="__lodash_hash_undefined__",hG=Object.prototype,pG=hG.hasOwnProperty;function mG(t){var e=this.__data__;if(fG){var n=e[t];return n===dG?void 0:n}return pG.call(e,t)?e[t]:void 0}var gG=mG,yG=Pg,vG=Object.prototype,bG=vG.hasOwnProperty;function _G(t){var e=this.__data__;return yG?e[t]!==void 0:bG.call(e,t)}var wG=_G,xG=Pg,EG="__lodash_hash_undefined__";function TG(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xG&&e===void 0?EG:e,this}var SG=TG,IG=lG,AG=cG,PG=gG,OG=wG,CG=SG;function Zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=IG;Zl.prototype.delete=AG;Zl.prototype.get=PG;Zl.prototype.has=OG;Zl.prototype.set=CG;var kG=Zl;function NG(){this.__data__=[],this.size=0}var RG=NG;function jG(t,e){return t===e||t!==t&&e!==e}var r1=jG,DG=r1;function MG(t,e){for(var n=t.length;n--;)if(DG(t[n][0],e))return n;return-1}var Og=MG,$G=Og,LG=Array.prototype,VG=LG.splice;function FG(t){var e=this.__data__,n=$G(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():VG.call(e,n,1),--this.size,!0}var BG=FG,UG=Og;function zG(t){var e=this.__data__,n=UG(e,t);return n<0?void 0:e[n][1]}var qG=zG,WG=Og;function GG(t){return WG(this.__data__,t)>-1}var KG=GG,HG=Og;function QG(t,e){var n=this.__data__,r=HG(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var YG=QG,XG=RG,JG=BG,ZG=qG,eK=KG,tK=YG;function eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eu.prototype.clear=XG;eu.prototype.delete=JG;eu.prototype.get=ZG;eu.prototype.has=eK;eu.prototype.set=tK;var Cg=eu,nK=ss,rK=Zr,iK=nK(rK,"Map"),i1=iK,vA=kG,oK=Cg,aK=i1;function sK(){this.size=0,this.__data__={hash:new vA,map:new(aK||oK),string:new vA}}var lK=sK;function uK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cK=uK,fK=cK;function dK(t,e){var n=t.__data__;return fK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var kg=dK,hK=kg;function pK(t){var e=hK(this,t).delete(t);return this.size-=e?1:0,e}var mK=pK,gK=kg;function yK(t){return gK(this,t).get(t)}var vK=yK,bK=kg;function _K(t){return bK(this,t).has(t)}var wK=_K,xK=kg;function EK(t,e){var n=xK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var TK=EK,SK=lK,IK=mK,AK=vK,PK=wK,OK=TK;function tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tu.prototype.clear=SK;tu.prototype.delete=IK;tu.prototype.get=AK;tu.prototype.has=PK;tu.prototype.set=OK;var o1=tu,GD=o1,CK="Expected a function";function a1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(CK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(a1.Cache||GD),n}a1.Cache=GD;var KD=a1;const kK=Ze(KD);var NK=KD,RK=500;function jK(t){var e=NK(t,function(r){return n.size===RK&&n.clear(),r}),n=e.cache;return e}var DK=jK,MK=DK,$K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LK=/\\(\\)?/g,VK=MK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($K,function(n,r,i,o){e.push(i?o.replace(LK,"$1"):r||n)}),e}),FK=VK;function BK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var s1=BK,bA=cd,UK=s1,zK=jn,qK=Xl,_A=bA?bA.prototype:void 0,wA=_A?_A.toString:void 0;function HD(t){if(typeof t=="string")return t;if(zK(t))return UK(t,HD)+"";if(qK(t))return wA?wA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var WK=HD,GK=WK;function KK(t){return t==null?"":GK(t)}var QD=KK,HK=jn,QK=t1,YK=FK,XK=QD;function JK(t,e){return HK(t)?t:QK(t,e)?[t]:YK(XK(t))}var YD=JK,ZK=Xl;function eH(t){if(typeof t=="string"||ZK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ng=eH,tH=YD,nH=Ng;function rH(t,e){e=tH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nH(e[n++])];return n&&n==r?t:void 0}var l1=rH,iH=l1;function oH(t,e,n){var r=t==null?void 0:iH(t,e);return r===void 0?n:r}var XD=oH;const ur=Ze(XD);function aH(t){return t==null}var sH=aH;const Ne=Ze(sH);var lH=Di,uH=jn,cH=Mi,fH="[object String]";function dH(t){return typeof t=="string"||!uH(t)&&cH(t)&&lH(t)==fH}var hH=dH;const Ka=Ze(hH);var JD={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Symbol.for("react.element"),c1=Symbol.for("react.portal"),Rg=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),$g=Symbol.for("react.context"),pH=Symbol.for("react.server_context"),Lg=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),mH=Symbol.for("react.offscreen"),ZD;ZD=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case u1:switch(t=t.type,t){case Rg:case Dg:case jg:case Vg:case Fg:return t;default:switch(t=t&&t.$$typeof,t){case pH:case $g:case Lg:case Ug:case Bg:case Mg:return t;default:return e}}case c1:return e}}}We.ContextConsumer=$g;We.ContextProvider=Mg;We.Element=u1;We.ForwardRef=Lg;We.Fragment=Rg;We.Lazy=Ug;We.Memo=Bg;We.Portal=c1;We.Profiler=Dg;We.StrictMode=jg;We.Suspense=Vg;We.SuspenseList=Fg;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return hr(t)===$g};We.isContextProvider=function(t){return hr(t)===Mg};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===u1};We.isForwardRef=function(t){return hr(t)===Lg};We.isFragment=function(t){return hr(t)===Rg};We.isLazy=function(t){return hr(t)===Ug};We.isMemo=function(t){return hr(t)===Bg};We.isPortal=function(t){return hr(t)===c1};We.isProfiler=function(t){return hr(t)===Dg};We.isStrictMode=function(t){return hr(t)===jg};We.isSuspense=function(t){return hr(t)===Vg};We.isSuspenseList=function(t){return hr(t)===Fg};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rg||t===Dg||t===jg||t===Vg||t===Fg||t===mH||typeof t=="object"&&t!==null&&(t.$$typeof===Ug||t.$$typeof===Bg||t.$$typeof===Mg||t.$$typeof===$g||t.$$typeof===Lg||t.$$typeof===ZD||t.getModuleId!==void 0)};We.typeOf=hr;JD.exports=We;var gH=JD.exports,yH=Di,vH=Mi,bH="[object Number]";function _H(t){return typeof t=="number"||vH(t)&&yH(t)==bH}var eM=_H;const wH=Ze(eM);var xH=eM;function EH(t){return xH(t)&&t!=+t}var TH=EH;const nu=Ze(TH);var Sr=function(e){return e===0?0:e>0?1:-1},ya=function(e){return Ka(e)&&e.indexOf("%")===e.length-1},ne=function(e){return wH(e)&&!nu(e)},SH=function(e){return Ne(e)},Lt=function(e){return ne(e)||Ka(e)},IH=0,fd=function(e){var n=++IH;return"".concat(e||"").concat(n)},Ha=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Ka(e))return r;var o;if(ya(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return nu(o)&&(o=r),i&&o>n&&(o=n),o},io=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},AH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},tr=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var PH=function(e,n){return ne(e)&&ne(n)?e-n:Ka(e)&&Ka(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}var OH=["viewBox","children"],CH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xA=["points","pathLength"],wv={svg:OH,polygon:xA,polyline:xA},f1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Jl(r))return null;var i={};return Object.keys(r).forEach(function(o){f1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},kH=function(e,n,r){return function(i){return e(n,r,i),null}},Up=function(e,n,r){if(!Jl(e)||Sb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];f1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=kH(a,n,r))}),i},NH=["children"],RH=["children"];function EA(t,e){if(t==null)return{};var n=jH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}var TA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},SA=null,xv=null,d1=function t(e){if(e===SA&&Array.isArray(xv))return xv;var n=[];return M.Children.forEach(e,function(r){Ne(r)||(gH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xv=n,SA=e,n};function Pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return gi(i)}):r=[gi(e)],d1(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ln(t,e){var n=Pr(t,e);return n&&n[0]}var IA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},DH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MH=function(e){return e&&e.type&&Ka(e.type)&&DH.indexOf(e.type)>=0},$H=function(e){return e&&Ib(e)==="object"&&"clipDot"in e},LH=function(e,n,r,i){var o,a=(o=wv==null?void 0:wv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&a.includes(n)||CH.includes(n))||r&&f1.includes(n)},Pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Jl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;LH((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Ab=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!AA(o,a))return!1}return!0},AA=function(e,n){if(Ne(e)&&Ne(n))return!0;if(!Ne(e)&&!Ne(n)){var r=e.props||{},i=r.children,o=EA(r,NH),a=n.props||{},s=a.children,l=EA(a,RH);return i&&s?tl(o,l)&&Ab(i,s):!i&&!s?tl(o,l):!1}return!1},PA=function(e,n){var r=[],i={};return d1(e).forEach(function(o,a){if(MH(o))r.push(o);else if(o){var s=gi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},VH=function(e){var n=e&&e.type;return n&&TA[n]?TA[n]:null},FH=function(e,n){return d1(n).indexOf(e)},BH=["children","width","height","viewBox","className","style","title","desc"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function UH(t,e){if(t==null)return{};var n=zH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ob(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=UH(t,BH),c=i||{width:n,height:r,x:0,y:0},f=Me("recharts-surface",o);return D.createElement("svg",Pb({},Pe(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var qH=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function WH(t,e){if(t==null)return{};var n=GH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=WH(t,qH),o=Me("recharts-layer",r);return D.createElement("g",Cb({className:o},Pe(i,!0),{ref:e}),n)}),yi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function KH(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var HH=KH,QH=HH;function YH(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:QH(t,e,n)}var XH=YH,JH="\\ud800-\\udfff",ZH="\\u0300-\\u036f",eQ="\\ufe20-\\ufe2f",tQ="\\u20d0-\\u20ff",nQ=ZH+eQ+tQ,rQ="\\ufe0e\\ufe0f",iQ="\\u200d",oQ=RegExp("["+iQ+JH+nQ+rQ+"]");function aQ(t){return oQ.test(t)}var tM=aQ;function sQ(t){return t.split("")}var lQ=sQ,nM="\\ud800-\\udfff",uQ="\\u0300-\\u036f",cQ="\\ufe20-\\ufe2f",fQ="\\u20d0-\\u20ff",dQ=uQ+cQ+fQ,hQ="\\ufe0e\\ufe0f",pQ="["+nM+"]",kb="["+dQ+"]",Nb="\\ud83c[\\udffb-\\udfff]",mQ="(?:"+kb+"|"+Nb+")",rM="[^"+nM+"]",iM="(?:\\ud83c[\\udde6-\\uddff]){2}",oM="[\\ud800-\\udbff][\\udc00-\\udfff]",gQ="\\u200d",aM=mQ+"?",sM="["+hQ+"]?",yQ="(?:"+gQ+"(?:"+[rM,iM,oM].join("|")+")"+sM+aM+")*",vQ=sM+aM+yQ,bQ="(?:"+[rM+kb+"?",kb,iM,oM,pQ].join("|")+")",_Q=RegExp(Nb+"(?="+Nb+")|"+bQ+vQ,"g");function wQ(t){return t.match(_Q)||[]}var xQ=wQ,EQ=lQ,TQ=tM,SQ=xQ;function IQ(t){return TQ(t)?SQ(t):EQ(t)}var AQ=IQ,PQ=XH,OQ=tM,CQ=AQ,kQ=QD;function NQ(t){return function(e){e=kQ(e);var n=OQ(e)?CQ(e):void 0,r=n?n[0]:e.charAt(0),i=n?PQ(n,1).join(""):e.slice(1);return r[t]()+i}}var RQ=NQ,jQ=RQ,DQ=jQ("toUpperCase"),MQ=DQ;const zg=Ze(MQ);function et(t){return function(){return t}}const lM=Math.cos,zp=Math.sin,Rr=Math.sqrt,qp=Math.PI,qg=2*qp,Rb=Math.PI,jb=2*Rb,aa=1e-6,$Q=jb-aa;function uM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function LQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class VQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uM:LQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>aa)if(!(Math.abs(f*l-u*c)>aa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,y=i-s,_=l*l+u*u,w=p*p+y*y,b=Math.sqrt(_),v=Math.sqrt(h),x=o*Math.tan((Rb-Math.acos((_+h-w)/(2*b*v)))/2),P=x/v,T=x/b;Math.abs(P-1)>aa&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*p>c*y)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>aa||Math.abs(this._y1-c)>aa)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%jb+jb),h>$Q?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>aa&&this._append`A${r},${r},0,${+(h>=Rb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VQ(e)}function p1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wg(t){return new cM(t)}function fM(t){return t[0]}function dM(t){return t[1]}function hM(t,e){var n=et(!0),r=null,i=Wg,o=null,a=h1(s);t=typeof t=="function"?t:t===void 0?fM:et(t),e=typeof e=="function"?e:e===void 0?dM:et(e);function s(l){var u,c=(l=p1(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:et(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:et(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:et(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function oh(t,e,n){var r=null,i=et(!0),o=null,a=Wg,s=null,l=h1(u);t=typeof t=="function"?t:t===void 0?fM:et(+t),e=typeof e=="function"?e:et(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dM:et(+n);function u(f){var h,p,y,_=(f=p1(f)).length,w,b=!1,v,x=new Array(_),P=new Array(_);for(o==null&&(s=a(v=l())),h=0;h<=_;++h){if(!(h<_&&i(w=f[h],h,f))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(x[y],P[y]);s.lineEnd(),s.areaEnd()}b&&(x[h]=+t(w,h,f),P[h]=+e(w,h,f),s.point(r?+r(w,h,f):x[h],n?+n(w,h,f):P[h]))}if(v)return s=null,v+""||null}function c(){return hM().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:et(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:et(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:et(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class pM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function FQ(t){return new pM(t,!0)}function BQ(t){return new pM(t,!1)}const m1={draw(t,e){const n=Rr(e/qp);t.moveTo(n,0),t.arc(0,0,n,0,qg)}},UQ={draw(t,e){const n=Rr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mM=Rr(1/3),zQ=mM*2,qQ={draw(t,e){const n=Rr(e/zQ),r=n*mM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WQ={draw(t,e){const n=Rr(e),r=-n/2;t.rect(r,r,n,n)}},GQ=.8908130915292852,gM=zp(qp/10)/zp(7*qp/10),KQ=zp(qg/10)*gM,HQ=-lM(qg/10)*gM,QQ={draw(t,e){const n=Rr(e*GQ),r=KQ*n,i=HQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=qg*o/5,s=lM(a),l=zp(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ev=Rr(3),YQ={draw(t,e){const n=-Rr(e/(Ev*3));t.moveTo(0,n*2),t.lineTo(-Ev*n,-n),t.lineTo(Ev*n,-n),t.closePath()}},Yn=-.5,Xn=Rr(3)/2,Db=1/Rr(12),XQ=(Db/2+1)*3,JQ={draw(t,e){const n=Rr(e/XQ),r=n/2,i=n*Db,o=r,a=n*Db+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Yn*r-Xn*i,Xn*r+Yn*i),t.lineTo(Yn*o-Xn*a,Xn*o+Yn*a),t.lineTo(Yn*s-Xn*l,Xn*s+Yn*l),t.lineTo(Yn*r+Xn*i,Yn*i-Xn*r),t.lineTo(Yn*o+Xn*a,Yn*a-Xn*o),t.lineTo(Yn*s+Xn*l,Yn*l-Xn*s),t.closePath()}};function ZQ(t,e){let n=null,r=h1(i);t=typeof t=="function"?t:et(t||m1),e=typeof e=="function"?e:et(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:et(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:et(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wp(){}function Gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yM(t){this._context=t}yM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eY(t){return new yM(t)}function vM(t){this._context=t}vM.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tY(t){return new vM(t)}function bM(t){this._context=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nY(t){return new bM(t)}function _M(t){this._context=t}_M.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rY(t){return new _M(t)}function OA(t){return t<0?-1:1}function CA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(OA(o)+OA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function kA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Kp(t){this._context=t}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,kA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,kA(this,n=CA(this,t,e)),n);break;default:Tv(this,this._t0,n=CA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wM(t){this._context=new xM(t)}(wM.prototype=Object.create(Kp.prototype)).point=function(t,e){Kp.prototype.point.call(this,e,t)};function xM(t){this._context=t}xM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function iY(t){return new Kp(t)}function oY(t){return new wM(t)}function EM(t){this._context=t}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NA(t),i=NA(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aY(t){return new EM(t)}function Gg(t,e){this._context=t,this._t=e}Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sY(t){return new Gg(t,.5)}function lY(t){return new Gg(t,0)}function uY(t){return new Gg(t,1)}function bl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Mb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cY(t,e){return t[e]}function fY(t){const e=[];return e.key=t,e}function dY(){var t=et([]),e=Mb,n=bl,r=cY;function i(o){var a=Array.from(t.apply(this,arguments),fY),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=p1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:et(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Mb:typeof o=="function"?o:et(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??bl,i):n},i}function hY(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}bl(t,e)}}function pY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}bl(t,e)}}function mY(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var _=t[e[y]],w=_[r][1]||0,b=_[r-1][1]||0;p+=w-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bl(t,e)}}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var gY=["type","size","sizeType"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return e=vY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=bY(t,"string");return uf(e)=="symbol"?e:e+""}function bY(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t,e){if(t==null)return{};var n=wY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TM={symbolCircle:m1,symbolCross:UQ,symbolDiamond:qQ,symbolSquare:WQ,symbolStar:QQ,symbolTriangle:YQ,symbolWye:JQ},xY=Math.PI/180,EY=function(e){var n="symbol".concat(zg(e));return TM[n]||m1},TY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SY=function(e,n){TM["symbol".concat(zg(e))]=n},g1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_Y(e,gY),u=jA(jA({},l),{},{type:r,size:o,sizeType:s}),c=function(){var w=EY(r),b=ZQ().type(w).size(TY(o,s,r));return b()},f=u.className,h=u.cx,p=u.cy,y=Pe(u,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",$b({},y,{className:Me("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};g1.registerSymbol=SY;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IM(r.key),r)}}function OY(t,e,n){return e&&PY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CY(t,e,n){return e=Hp(e),kY(t,SM()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function kY(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(t)}function NY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function RY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vb(t,e)}function cf(t,e,n){return e=IM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IM(t){var e=jY(t,"string");return _l(e)=="symbol"?e:e+""}function jY(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jn=32,y1=function(t){function e(){return AY(this,e),CY(this,e,arguments)}return RY(e,t),OY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Jn/2,a=Jn/6,s=Jn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Jn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Jn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jn/8,"h").concat(Jn,"v").concat(Jn*3/4,"h").concat(-Jn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=IY({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(g1,{fill:l,cx:o,cy:o,size:Jn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Jn,height:Jn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var _=p.formatter||l,w=Me(cf(cf({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Se(p.value)?null:p.value;yi(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return D.createElement("li",Lb({className:w,style:f,key:"legend-item-".concat(y)},Up(r.props,p,y)),D.createElement(Ob,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},_?_(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);cf(y1,"displayName","Legend");cf(y1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DY=Cg;function MY(){this.__data__=new DY,this.size=0}var $Y=MY;function LY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var VY=LY;function FY(t){return this.__data__.get(t)}var BY=FY;function UY(t){return this.__data__.has(t)}var zY=UY,qY=Cg,WY=i1,GY=o1,KY=200;function HY(t,e){var n=this.__data__;if(n instanceof qY){var r=n.__data__;if(!WY||r.length<KY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GY(r)}return n.set(t,e),this.size=n.size,this}var QY=HY,YY=Cg,XY=$Y,JY=VY,ZY=BY,eX=zY,tX=QY;function ru(t){var e=this.__data__=new YY(t);this.size=e.size}ru.prototype.clear=XY;ru.prototype.delete=JY;ru.prototype.get=ZY;ru.prototype.has=eX;ru.prototype.set=tX;var AM=ru,nX="__lodash_hash_undefined__";function rX(t){return this.__data__.set(t,nX),this}var iX=rX;function oX(t){return this.__data__.has(t)}var aX=oX,sX=o1,lX=iX,uX=aX;function Qp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new sX;++e<n;)this.add(t[e])}Qp.prototype.add=Qp.prototype.push=lX;Qp.prototype.has=uX;var PM=Qp;function cX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var OM=cX;function fX(t,e){return t.has(e)}var CM=fX,dX=PM,hX=OM,pX=CM,mX=1,gX=2;function yX(t,e,n,r,i,o){var a=n&mX,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&gX?new dX:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],_=e[f];if(r)var w=a?r(_,y,f,e,t,o):r(y,_,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!hX(e,function(b,v){if(!pX(p,v)&&(y===b||i(y,b,n,r,o)))return p.push(v)})){h=!1;break}}else if(!(y===_||i(y,_,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var kM=yX,vX=Zr,bX=vX.Uint8Array,_X=bX;function wX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var xX=wX;function EX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var v1=EX,MA=cd,$A=_X,TX=r1,SX=kM,IX=xX,AX=v1,PX=1,OX=2,CX="[object Boolean]",kX="[object Date]",NX="[object Error]",RX="[object Map]",jX="[object Number]",DX="[object RegExp]",MX="[object Set]",$X="[object String]",LX="[object Symbol]",VX="[object ArrayBuffer]",FX="[object DataView]",LA=MA?MA.prototype:void 0,Sv=LA?LA.valueOf:void 0;function BX(t,e,n,r,i,o,a){switch(n){case FX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VX:return!(t.byteLength!=e.byteLength||!o(new $A(t),new $A(e)));case CX:case kX:case jX:return TX(+t,+e);case NX:return t.name==e.name&&t.message==e.message;case DX:case $X:return t==e+"";case RX:var s=IX;case MX:var l=r&PX;if(s||(s=AX),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=OX,a.set(t,e);var c=SX(s(t),s(e),r,i,o,a);return a.delete(t),c;case LX:if(Sv)return Sv.call(t)==Sv.call(e)}return!1}var UX=BX;function zX(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var NM=zX,qX=NM,WX=jn;function GX(t,e,n){var r=e(t);return WX(t)?r:qX(r,n(t))}var KX=GX;function HX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var QX=HX;function YX(){return[]}var XX=YX,JX=QX,ZX=XX,eJ=Object.prototype,tJ=eJ.propertyIsEnumerable,VA=Object.getOwnPropertySymbols,nJ=VA?function(t){return t==null?[]:(t=Object(t),JX(VA(t),function(e){return tJ.call(t,e)}))}:ZX,rJ=nJ;function iJ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oJ=iJ,aJ=Di,sJ=Mi,lJ="[object Arguments]";function uJ(t){return sJ(t)&&aJ(t)==lJ}var cJ=uJ,FA=cJ,fJ=Mi,RM=Object.prototype,dJ=RM.hasOwnProperty,hJ=RM.propertyIsEnumerable,pJ=FA(function(){return arguments}())?FA:function(t){return fJ(t)&&dJ.call(t,"callee")&&!hJ.call(t,"callee")},b1=pJ,Yp={exports:{}};function mJ(){return!1}var gJ=mJ;Yp.exports;(function(t,e){var n=Zr,r=gJ,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Yp,Yp.exports);var jM=Yp.exports,yJ=9007199254740991,vJ=/^(?:0|[1-9]\d*)$/;function bJ(t,e){var n=typeof t;return e=e??yJ,!!e&&(n=="number"||n!="symbol"&&vJ.test(t))&&t>-1&&t%1==0&&t<e}var _1=bJ,_J=9007199254740991;function wJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_J}var w1=wJ,xJ=Di,EJ=w1,TJ=Mi,SJ="[object Arguments]",IJ="[object Array]",AJ="[object Boolean]",PJ="[object Date]",OJ="[object Error]",CJ="[object Function]",kJ="[object Map]",NJ="[object Number]",RJ="[object Object]",jJ="[object RegExp]",DJ="[object Set]",MJ="[object String]",$J="[object WeakMap]",LJ="[object ArrayBuffer]",VJ="[object DataView]",FJ="[object Float32Array]",BJ="[object Float64Array]",UJ="[object Int8Array]",zJ="[object Int16Array]",qJ="[object Int32Array]",WJ="[object Uint8Array]",GJ="[object Uint8ClampedArray]",KJ="[object Uint16Array]",HJ="[object Uint32Array]",ot={};ot[FJ]=ot[BJ]=ot[UJ]=ot[zJ]=ot[qJ]=ot[WJ]=ot[GJ]=ot[KJ]=ot[HJ]=!0;ot[SJ]=ot[IJ]=ot[LJ]=ot[AJ]=ot[VJ]=ot[PJ]=ot[OJ]=ot[CJ]=ot[kJ]=ot[NJ]=ot[RJ]=ot[jJ]=ot[DJ]=ot[MJ]=ot[$J]=!1;function QJ(t){return TJ(t)&&EJ(t.length)&&!!ot[xJ(t)]}var YJ=QJ;function XJ(t){return function(e){return t(e)}}var DM=XJ,Xp={exports:{}};Xp.exports;(function(t,e){var n=zD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Xp,Xp.exports);var JJ=Xp.exports,ZJ=YJ,eZ=DM,BA=JJ,UA=BA&&BA.isTypedArray,tZ=UA?eZ(UA):ZJ,MM=tZ,nZ=oJ,rZ=b1,iZ=jn,oZ=jM,aZ=_1,sZ=MM,lZ=Object.prototype,uZ=lZ.hasOwnProperty;function cZ(t,e){var n=iZ(t),r=!n&&rZ(t),i=!n&&!r&&oZ(t),o=!n&&!r&&!i&&sZ(t),a=n||r||i||o,s=a?nZ(t.length,String):[],l=s.length;for(var u in t)(e||uZ.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aZ(u,l)))&&s.push(u);return s}var fZ=cZ,dZ=Object.prototype;function hZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dZ;return t===n}var pZ=hZ;function mZ(t,e){return function(n){return t(e(n))}}var $M=mZ,gZ=$M,yZ=gZ(Object.keys,Object),vZ=yZ,bZ=pZ,_Z=vZ,wZ=Object.prototype,xZ=wZ.hasOwnProperty;function EZ(t){if(!bZ(t))return _Z(t);var e=[];for(var n in Object(t))xZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var TZ=EZ,SZ=n1,IZ=w1;function AZ(t){return t!=null&&IZ(t.length)&&!SZ(t)}var dd=AZ,PZ=fZ,OZ=TZ,CZ=dd;function kZ(t){return CZ(t)?PZ(t):OZ(t)}var Kg=kZ,NZ=KX,RZ=rJ,jZ=Kg;function DZ(t){return NZ(t,jZ,RZ)}var MZ=DZ,zA=MZ,$Z=1,LZ=Object.prototype,VZ=LZ.hasOwnProperty;function FZ(t,e,n,r,i,o){var a=n&$Z,s=zA(t),l=s.length,u=zA(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:VZ.call(e,h)))return!1}var p=o.get(t),y=o.get(e);if(p&&y)return p==e&&y==t;var _=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=s[f];var b=t[h],v=e[h];if(r)var x=a?r(v,b,h,e,t,o):r(b,v,h,t,e,o);if(!(x===void 0?b===v||i(b,v,n,r,o):x)){_=!1;break}w||(w=h=="constructor")}if(_&&!w){var P=t.constructor,T=e.constructor;P!=T&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(_=!1)}return o.delete(t),o.delete(e),_}var BZ=FZ,UZ=ss,zZ=Zr,qZ=UZ(zZ,"DataView"),WZ=qZ,GZ=ss,KZ=Zr,HZ=GZ(KZ,"Promise"),QZ=HZ,YZ=ss,XZ=Zr,JZ=YZ(XZ,"Set"),LM=JZ,ZZ=ss,eee=Zr,tee=ZZ(eee,"WeakMap"),nee=tee,Fb=WZ,Bb=i1,Ub=QZ,zb=LM,qb=nee,VM=Di,iu=WD,qA="[object Map]",ree="[object Object]",WA="[object Promise]",GA="[object Set]",KA="[object WeakMap]",HA="[object DataView]",iee=iu(Fb),oee=iu(Bb),aee=iu(Ub),see=iu(zb),lee=iu(qb),sa=VM;(Fb&&sa(new Fb(new ArrayBuffer(1)))!=HA||Bb&&sa(new Bb)!=qA||Ub&&sa(Ub.resolve())!=WA||zb&&sa(new zb)!=GA||qb&&sa(new qb)!=KA)&&(sa=function(t){var e=VM(t),n=e==ree?t.constructor:void 0,r=n?iu(n):"";if(r)switch(r){case iee:return HA;case oee:return qA;case aee:return WA;case see:return GA;case lee:return KA}return e});var uee=sa,Iv=AM,cee=kM,fee=UX,dee=BZ,QA=uee,YA=jn,XA=jM,hee=MM,pee=1,JA="[object Arguments]",ZA="[object Array]",ah="[object Object]",mee=Object.prototype,eP=mee.hasOwnProperty;function gee(t,e,n,r,i,o){var a=YA(t),s=YA(e),l=a?ZA:QA(t),u=s?ZA:QA(e);l=l==JA?ah:l,u=u==JA?ah:u;var c=l==ah,f=u==ah,h=l==u;if(h&&XA(t)){if(!XA(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Iv),a||hee(t)?cee(t,e,n,r,i,o):fee(t,e,l,n,r,i,o);if(!(n&pee)){var p=c&&eP.call(t,"__wrapped__"),y=f&&eP.call(e,"__wrapped__");if(p||y){var _=p?t.value():t,w=y?e.value():e;return o||(o=new Iv),i(_,w,n,r,o)}}return h?(o||(o=new Iv),dee(t,e,n,r,i,o)):!1}var yee=gee,vee=yee,tP=Mi;function FM(t,e,n,r,i){return t===e?!0:t==null||e==null||!tP(t)&&!tP(e)?t!==t&&e!==e:vee(t,e,n,r,FM,i)}var x1=FM,bee=AM,_ee=x1,wee=1,xee=2;function Eee(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new bee;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?_ee(c,u,wee|xee,r,f):h))return!1}}return!0}var Tee=Eee,See=Uo;function Iee(t){return t===t&&!See(t)}var BM=Iee,Aee=BM,Pee=Kg;function Oee(t){for(var e=Pee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aee(i)]}return e}var Cee=Oee;function kee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var UM=kee,Nee=Tee,Ree=Cee,jee=UM;function Dee(t){var e=Ree(t);return e.length==1&&e[0][2]?jee(e[0][0],e[0][1]):function(n){return n===t||Nee(n,t,e)}}var Mee=Dee;function $ee(t,e){return t!=null&&e in Object(t)}var Lee=$ee,Vee=YD,Fee=b1,Bee=jn,Uee=_1,zee=w1,qee=Ng;function Wee(t,e,n){e=Vee(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=qee(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&zee(i)&&Uee(a,i)&&(Bee(t)||Fee(t)))}var Gee=Wee,Kee=Lee,Hee=Gee;function Qee(t,e){return t!=null&&Hee(t,e,Kee)}var Yee=Qee,Xee=x1,Jee=XD,Zee=Yee,ete=t1,tte=BM,nte=UM,rte=Ng,ite=1,ote=2;function ate(t,e){return ete(t)&&tte(e)?nte(rte(t),e):function(n){var r=Jee(n,t);return r===void 0&&r===e?Zee(n,t):Xee(e,r,ite|ote)}}var ste=ate;function lte(t){return t}var ou=lte;function ute(t){return function(e){return e==null?void 0:e[t]}}var cte=ute,fte=l1;function dte(t){return function(e){return fte(e,t)}}var hte=dte,pte=cte,mte=hte,gte=t1,yte=Ng;function vte(t){return gte(t)?pte(yte(t)):mte(t)}var bte=vte,_te=Mee,wte=ste,xte=ou,Ete=jn,Tte=bte;function Ste(t){return typeof t=="function"?t:t==null?xte:typeof t=="object"?Ete(t)?wte(t[0],t[1]):_te(t):Tte(t)}var zo=Ste;function Ite(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var zM=Ite;function Ate(t){return t!==t}var Pte=Ate;function Ote(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Cte=Ote,kte=zM,Nte=Pte,Rte=Cte;function jte(t,e,n){return e===e?Rte(t,e,n):kte(t,Nte,n)}var Dte=jte,Mte=Dte;function $te(t,e){var n=t==null?0:t.length;return!!n&&Mte(t,e,0)>-1}var Lte=$te;function Vte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fte=Vte;function Bte(){}var Ute=Bte,Av=LM,zte=Ute,qte=v1,Wte=1/0,Gte=Av&&1/qte(new Av([,-0]))[1]==Wte?function(t){return new Av(t)}:zte,Kte=Gte,Hte=PM,Qte=Lte,Yte=Fte,Xte=CM,Jte=Kte,Zte=v1,ene=200;function tne(t,e,n){var r=-1,i=Qte,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Yte;else if(o>=ene){var u=e?null:Jte(t);if(u)return Zte(u);a=!1,i=Xte,l=new Hte}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var nne=tne,rne=zo,ine=nne;function one(t,e){return t&&t.length?ine(t,rne(e)):[]}var ane=one;const nP=Ze(ane);function qM(t,e,n){return e===!0?nP(t,n):Se(e)?nP(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var sne=["ref"];function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GM(r.key),r)}}function une(t,e,n){return e&&iP(t.prototype,e),n&&iP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cne(t,e,n){return e=Jp(e),fne(t,WM()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function fne(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dne(t)}function dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function Hg(t,e,n){return e=GM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(t){var e=pne(t,"string");return wl(e)=="symbol"?e:e+""}function pne(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mne(t,e){if(t==null)return{};var n=gne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yne(t){return t.value}function vne(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=mne(e,sne);return D.createElement(y1,n)}var oP=1,Ia=function(t){function e(){var n;lne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cne(this,e,[].concat(i)),Hg(n,"lastBoundingBox",{width:-1,height:-1}),n}return hne(e,t),une(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oP||Math.abs(i.height-this.lastBoundingBox.height)>oP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ni(ni({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ni(ni({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},vne(o,ni(ni({},this.props),{},{payload:qM(c,u,yne)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ni(ni({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ne(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);Hg(Ia,"displayName","Legend");Hg(Ia,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aP=cd,bne=b1,_ne=jn,sP=aP?aP.isConcatSpreadable:void 0;function wne(t){return _ne(t)||bne(t)||!!(sP&&t&&t[sP])}var xne=wne,Ene=NM,Tne=xne;function KM(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Tne),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?KM(s,e-1,n,r,i):Ene(i,s):r||(i[i.length]=s)}return i}var HM=KM;function Sne(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Ine=Sne,Ane=Ine,Pne=Ane(),One=Pne,Cne=One,kne=Kg;function Nne(t,e){return t&&Cne(t,e,kne)}var QM=Nne,Rne=dd;function jne(t,e){return function(n,r){if(n==null)return n;if(!Rne(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Dne=jne,Mne=QM,$ne=Dne,Lne=$ne(Mne),E1=Lne,Vne=E1,Fne=dd;function Bne(t,e){var n=-1,r=Fne(t)?Array(t.length):[];return Vne(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var YM=Bne;function Une(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var zne=Une,lP=Xl;function qne(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=lP(t),a=e!==void 0,s=e===null,l=e===e,u=lP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Wne=qne,Gne=Wne;function Kne(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Gne(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Hne=Kne,Pv=s1,Qne=l1,Yne=zo,Xne=YM,Jne=zne,Zne=DM,ere=Hne,tre=ou,nre=jn;function rre(t,e,n){e.length?e=Pv(e,function(o){return nre(o)?function(a){return Qne(a,o.length===1?o[0]:o)}:o}):e=[tre];var r=-1;e=Pv(e,Zne(Yne));var i=Xne(t,function(o,a,s){var l=Pv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Jne(i,function(o,a){return ere(o,a,n)})}var ire=rre;function ore(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var are=ore,sre=are,uP=Math.max;function lre(t,e,n){return e=uP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=uP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),sre(t,this,s)}}var ure=lre;function cre(t){return function(){return t}}var fre=cre,dre=ss,hre=function(){try{var t=dre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),XM=hre,pre=fre,cP=XM,mre=ou,gre=cP?function(t,e){return cP(t,"toString",{configurable:!0,enumerable:!1,value:pre(e),writable:!0})}:mre,yre=gre,vre=800,bre=16,_re=Date.now;function wre(t){var e=0,n=0;return function(){var r=_re(),i=bre-(r-n);if(n=r,i>0){if(++e>=vre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xre=wre,Ere=yre,Tre=xre,Sre=Tre(Ere),Ire=Sre,Are=ou,Pre=ure,Ore=Ire;function Cre(t,e){return Ore(Pre(t,e,Are),t+"")}var kre=Cre,Nre=r1,Rre=dd,jre=_1,Dre=Uo;function Mre(t,e,n){if(!Dre(n))return!1;var r=typeof e;return(r=="number"?Rre(n)&&jre(e,n.length):r=="string"&&e in n)?Nre(n[e],t):!1}var Qg=Mre,$re=HM,Lre=ire,Vre=kre,fP=Qg,Fre=Vre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fP(t,e[0],e[1])?e=[]:n>2&&fP(e[0],e[1],e[2])&&(e=[e[0]]),Lre(t,$re(e,1),[])}),Bre=Fre;const T1=Ze(Bre);function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function Ure(t,e){return Gre(t)||Wre(t,e)||qre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gre(t){if(Array.isArray(t))return t}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Qre(t,"string");return ff(e)=="symbol"?e:e+""}function Qre(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yre(t){return Array.isArray(t)&&Lt(t[0])&&Lt(t[1])?t.join(" ~ "):t}var Xre=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,_=e.label,w=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,x=function(){if(c&&c.length){var j={padding:0,margin:0},N=(h?T1(c,h):c).map(function(z,B){if(z.type==="none")return null;var Q=Ov({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),K=z.formatter||f||Yre,$=z.value,q=z.name,V=$,ee=q;if(K&&V!=null&&ee!=null){var Y=K($,q,z,B,c);if(Array.isArray(Y)){var te=Ure(Y,2);V=te[0],ee=te[1]}else V=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Q},Lt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Lt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},V),D.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},P=Ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Ov({margin:0},u),I=!Ne(_),E=I?_:"",S=Me("recharts-default-tooltip",p),O=Me("recharts-tooltip-label",y);I&&w&&c!==void 0&&c!==null&&(E=w(_,c));var k=v?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Gb({className:S,style:P},k),D.createElement("p",{className:O,style:T},D.isValidElement(E)?E:"".concat(E)),x())};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function sh(t,e,n){return e=Jre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Zre(t,"string");return df(e)=="symbol"?e:e+""}function Zre(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vu="recharts-tooltip-wrapper",eie={visibility:"hidden"};function tie(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Me(Vu,sh(sh(sh(sh({},"".concat(Vu,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(Vu,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(Vu,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(Vu,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function pP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,_=l[r]+u;return y>_?Math.max(c,l[r]):Math.max(f,l[r])}function nie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=pP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=pP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=nie({translateX:c,translateY:f,useTranslate3d:s})):u=eie,{cssProperties:u,cssClasses:tie({translateX:c,translateY:f,coordinate:n})}}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function aie(t,e,n){return e&&oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sie(t,e,n){return e=Zp(e),lie(t,JM()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function lie(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(t)}function uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kb(t,e)}function Hb(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=fie(t,"string");return xl(e)=="symbol"?e:e+""}function fie(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yP=1,die=function(t){function e(){var n;iie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sie(this,e,[].concat(i)),Hb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Hb(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return cie(e,t),aie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>yP||Math.abs(r.height-this.state.lastBoundingBox.height)>yP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,_=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,x=rie({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:y,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),P=x.cssClasses,T=x.cssProperties,I=gP(gP({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return D.createElement("div",{tabIndex:-1,className:P,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}(M.PureComponent),hie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},au={isSsr:hie()};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){S1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function gie(t,e,n){return e&&mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,n){return e=em(e),vie(t,e$()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function vie(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bie(t)}function bie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function _ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function S1(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=wie(t,"string");return El(e)=="symbol"?e:e+""}function wie(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xie(t){return t.dataKey}function Eie(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(Xre,e)}var _r=function(t){function e(){return pie(this,e),yie(this,e,arguments)}return _ie(e,t),gie(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,_=i.payloadUniqBy,w=i.position,b=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,T=y??[];f&&T.length&&(T=qM(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),_,xie));var I=T.length>0;return D.createElement(die,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:I,offset:p,position:w,reverseDirection:b,useTranslate3d:v,viewBox:x,wrapperStyle:P},Eie(u,bP(bP({},this.props),{},{payload:T})))}}])}(M.PureComponent);S1(_r,"displayName","Tooltip");S1(_r,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!au.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Tie=Zr,Sie=function(){return Tie.Date.now()},Iie=Sie,Aie=/\s/;function Pie(t){for(var e=t.length;e--&&Aie.test(t.charAt(e)););return e}var Oie=Pie,Cie=Oie,kie=/^\s+/;function Nie(t){return t&&t.slice(0,Cie(t)+1).replace(kie,"")}var Rie=Nie,jie=Rie,_P=Uo,Die=Xl,wP=NaN,Mie=/^[-+]0x[0-9a-f]+$/i,$ie=/^0b[01]+$/i,Lie=/^0o[0-7]+$/i,Vie=parseInt;function Fie(t){if(typeof t=="number")return t;if(Die(t))return wP;if(_P(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_P(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jie(t);var n=$ie.test(t);return n||Lie.test(t)?Vie(t.slice(2),n?2:8):Mie.test(t)?wP:+t}var n$=Fie,Bie=Uo,Cv=Iie,xP=n$,Uie="Expected a function",zie=Math.max,qie=Math.min;function Wie(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Uie);e=xP(e)||0,Bie(n)&&(c=!!n.leading,f="maxWait"in n,o=f?zie(xP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(I){var E=r,S=i;return r=i=void 0,u=I,a=t.apply(S,E),a}function y(I){return u=I,s=setTimeout(b,e),c?p(I):a}function _(I){var E=I-l,S=I-u,O=e-E;return f?qie(O,o-S):O}function w(I){var E=I-l,S=I-u;return l===void 0||E>=e||E<0||f&&S>=o}function b(){var I=Cv();if(w(I))return v(I);s=setTimeout(b,_(I))}function v(I){return s=void 0,h&&r?p(I):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function P(){return s===void 0?a:v(Cv())}function T(){var I=Cv(),E=w(I);if(r=arguments,i=this,l=I,E){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return T.cancel=x,T.flush=P,T}var Gie=Wie,Kie=Gie,Hie=Uo,Qie="Expected a function";function Yie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Qie);return Hie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Kie(t,e,{leading:r,maxWait:e,trailing:i})}var Xie=Yie;const r$=Ze(Xie);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return hf(e)=="symbol"?e:e+""}function eoe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toe(t,e){return ooe(t)||ioe(t,e)||roe(t,e)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function roe(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ioe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ooe(t){if(Array.isArray(t))return t}var SP=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,_=y===void 0?0:y,w=t.id,b=t.className,v=t.onResize,x=t.style,P=x===void 0?{}:x,T=M.useRef(null),I=M.useRef();I.current=v,M.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=M.useState({containerWidth:i.width,containerHeight:i.height}),S=toe(E,2),O=S[0],k=S[1],C=M.useCallback(function(N,z){k(function(B){var Q=Math.round(N),K=Math.round(z);return B.containerWidth===Q&&B.containerHeight===K?B:{containerWidth:Q,containerHeight:K}})},[]);M.useEffect(function(){var N=function(q){var V,ee=q[0].contentRect,Y=ee.width,te=ee.height;C(Y,te),(V=I.current)===null||V===void 0||V.call(I,Y,te)};_>0&&(N=r$(N,_,{trailing:!0,leading:!1}));var z=new ResizeObserver(N),B=T.current.getBoundingClientRect(),Q=B.width,K=B.height;return C(Q,K),z.observe(T.current),function(){z.disconnect()}},[C,_]);var j=M.useMemo(function(){var N=O.containerWidth,z=O.containerHeight;if(N<0||z<0)return null;yi(ya(a)||ya(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),yi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ya(a)?N:a,Q=ya(l)?z:l;n&&n>0&&(B?Q=B/n:Q&&(B=Q*n),h&&Q>h&&(Q=h)),yi(B>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,Q,a,l,c,f,n);var K=!Array.isArray(p)&&gi(p.type).endsWith("Chart");return D.Children.map(p,function($){return D.isValidElement($)?M.cloneElement($,lh({width:B,height:Q},K?{style:lh({height:"100%",width:"100%",maxHeight:Q,maxWidth:B},$.props.style)}:{})):$})},[n,p,l,h,f,c,O,a]);return D.createElement("div",{id:w?"".concat(w):void 0,className:Me("recharts-responsive-container",b),style:lh(lh({},P),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},j)}),i$=function(e){return null};i$.displayName="Cell";function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return e=soe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=loe(t,"string");return pf(e)=="symbol"?e:e+""}function loe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ws={widthCache:{},cacheCount:0},uoe=2e3,coe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AP="recharts_measurement_span";function foe(t){var e=Yb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Tc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||au.isSsr)return{width:0,height:0};var r=foe(n),i=JSON.stringify({text:e,copyStyle:r});if(ws.widthCache[i])return ws.widthCache[i];try{var o=document.getElementById(AP);o||(o=document.createElement("span"),o.setAttribute("id",AP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Yb(Yb({},coe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ws.widthCache[i]=l,++ws.cacheCount>uoe&&(ws.cacheCount=0,ws.widthCache={}),l}catch{return{width:0,height:0}}},doe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function tm(t,e){return goe(t)||moe(t,e)||poe(t,e)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function moe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function goe(t){if(Array.isArray(t))return t}function yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,boe(r.key),r)}}function voe(t,e,n){return e&&OP(t.prototype,e),n&&OP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function boe(t){var e=_oe(t,"string");return mf(e)=="symbol"?e:e+""}function _oe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,woe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eoe=Object.keys(o$),Us="NaN";function Toe(t,e){return t*o$[e]}var uh=function(){function t(e,n){yoe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!woe.test(n)&&(this.num=NaN,this.unit=""),Eoe.includes(n)&&(this.num=Toe(e,n),this.unit="px")}return voe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=xoe.exec(n))!==null&&r!==void 0?r:[],o=tm(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function a$(t){if(t.includes(Us))return Us;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CP.exec(e))!==null&&n!==void 0?n:[],i=tm(r,4),o=i[1],a=i[2],s=i[3],l=uh.parse(o??""),u=uh.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Us;e=e.replace(CP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=kP.exec(e))!==null&&f!==void 0?f:[],p=tm(h,4),y=p[1],_=p[2],w=p[3],b=uh.parse(y??""),v=uh.parse(w??""),x=_==="+"?b.add(v):b.subtract(v);if(x.isNaN())return Us;e=e.replace(kP,x.toString())}return e}var NP=/\(([^()]*)\)/;function Soe(t){for(var e=t;e.includes("(");){var n=NP.exec(e),r=tm(n,2),i=r[1];e=e.replace(NP,a$(i))}return e}function Ioe(t){var e=t.replace(/\s+/g,"");return e=Soe(e),e=a$(e),e}function Aoe(t){try{return Ioe(t)}catch{return Us}}function kv(t){var e=Aoe(t.slice(5,-1));return e===Us?"":e}var Poe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ooe=["dx","dy","angle","className","breakAll"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function RP(t,e){if(t==null)return{};var n=Coe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jP(t,e){return joe(t)||Roe(t,e)||Noe(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Roe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function joe(t){if(Array.isArray(t))return t}var s$=/[ \f\n\r\t\v\u2028\u2029]+/,l$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ne(n)||(r?o=n.toString().split(""):o=n.toString().split(s$));var a=o.map(function(l){return{word:l,width:Tc(l,i).width}}),s=r?0:Tc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Doe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ne(a),f=s,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(Q,K){var $=K.word,q=K.width,V=Q[Q.length-1];if(V&&(i==null||o||V.width+q+r<Number(i)))V.words.push($),V.width+=q+r;else{var ee={words:[$],width:q};Q.push(ee)}return Q},[])},p=h(n),y=function(B){return B.reduce(function(Q,K){return Q.width>K.width?Q:K})};if(!c)return p;for(var _="",w=function(B){var Q=f.slice(0,B),K=l$({breakAll:u,style:l,children:Q+_}).wordsWithComputedWidth,$=h(K),q=$.length>a||y($).width>Number(i);return[q,$]},b=0,v=f.length-1,x=0,P;b<=v&&x<=f.length-1;){var T=Math.floor((b+v)/2),I=T-1,E=w(I),S=jP(E,2),O=S[0],k=S[1],C=w(T),j=jP(C,1),N=j[0];if(!O&&!N&&(b=T+1),O&&N&&(v=T-1),!O&&N){P=k;break}x++}return P||p},MP=function(e){var n=Ne(e)?[]:e.toString().split(s$);return[{words:n}]},Moe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!au.isSsr){var l,u,c=l$({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return MP(i);return Doe({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return MP(i)},$P="#808080",nm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,_=y===void 0?"end":y,w=e.fill,b=w===void 0?$P:w,v=RP(e,Poe),x=M.useMemo(function(){return Moe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),P=v.dx,T=v.dy,I=v.angle,E=v.className,S=v.breakAll,O=RP(v,Ooe);if(!Lt(r)||!Lt(o))return null;var k=r+(ne(P)?P:0),C=o+(ne(T)?T:0),j;switch(_){case"start":j=kv("calc(".concat(u,")"));break;case"middle":j=kv("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=kv("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var z=x[0].width,B=v.width;N.push("scale(".concat((ne(B)?B/z:1)/z,")"))}return I&&N.push("rotate(".concat(I,", ").concat(k,", ").concat(C,")")),N.length&&(O.transform=N.join(" ")),D.createElement("text",Xb({},Pe(O,!0),{x:k,y:C,className:Me("recharts-text",E),textAnchor:p,fill:b.includes("url")?$P:b}),x.map(function(Q,K){var $=Q.words.join(S?"":" ");return D.createElement("tspan",{x:k,dy:K===0?j:s,key:"".concat($,"-").concat(K)},$)}))};function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $oe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I1(t){let e,n,r;t.length!==2?(e=Eo,n=(s,l)=>Eo(t(s),l),r=(s,l)=>t(s)-l):(e=t===Eo||t===$oe?t:Loe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Loe(){return 0}function u$(t){return t===null?NaN:+t}function*Voe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Foe=I1(Eo),hd=Foe.right;I1(u$).center;class LP extends Map{constructor(e,n=zoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(VP(this,e))}has(e){return super.has(VP(this,e))}set(e,n){return super.set(Boe(this,e),n)}delete(e){return super.delete(Uoe(this,e))}}function VP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Boe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Uoe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zoe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qoe(t=Eo){if(t===Eo)return c$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function c$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Woe=Math.sqrt(50),Goe=Math.sqrt(10),Koe=Math.sqrt(2);function rm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Woe?10:o>=Goe?5:o>=Koe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?rm(t,e,n*2):[s,l,u]}function Jb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?rm(e,t,n):rm(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Zb(t,e,n){return e=+e,t=+t,n=+n,rm(t,e,n)[2]}function e_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Zb(e,t,n):Zb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function f$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?c$:qoe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));f$(t,e,p,y,i)}const o=t[e];let a=n,s=r;for(Fu(t,n,e),i(t[r],o)>0&&Fu(t,n,r);a<s;){for(Fu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Fu(t,n,s):(++s,Fu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Fu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hoe(t,e,n){if(t=Float64Array.from(Voe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return BP(t);if(e>=1)return FP(t);var r,i=(r-1)*e,o=Math.floor(i),a=FP(f$(t,o).subarray(0,o+1)),s=BP(t.subarray(o+1));return a+(s-a)*(i-o)}}function Qoe(t,e,n=u$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Yoe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t_=Symbol("implicit");function A1(){var t=new LP,e=[],n=[],r=t_;function i(o){let a=t.get(o);if(a===void 0){if(r!==t_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new LP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return A1(e,n).unknown(r)},pr.apply(i,arguments),i}function gf(){var t=A1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,_=p?r:i;o=(_-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(_-y-o*(h-l))*c,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var w=Yoe(h).map(function(b){return y+o*b});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return gf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},pr.apply(f(),arguments)}function d$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d$(e())},t}function Sc(){return d$(gf.apply(null,arguments).paddingInner(1))}function P1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function h$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pd(){}var yf=.7,im=1/yf,nl="\\s*([+-]?\\d+)\\s*",vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xoe=/^#([0-9a-f]{3,8})$/,Joe=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),Zoe=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),eae=new RegExp(`^rgba\\(${nl},${nl},${nl},${vf}\\)$`),tae=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${vf}\\)$`),nae=new RegExp(`^hsl\\(${vf},${Hr},${Hr}\\)$`),rae=new RegExp(`^hsla\\(${vf},${Hr},${Hr},${vf}\\)$`),UP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P1(pd,bf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zP,formatHex:zP,formatHex8:iae,formatHsl:oae,formatRgb:qP,toString:qP});function zP(){return this.rgb().formatHex()}function iae(){return this.rgb().formatHex8()}function oae(){return p$(this).formatHsl()}function qP(){return this.rgb().formatRgb()}function bf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xoe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WP(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ch(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ch(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Joe.exec(t))?new On(e[1],e[2],e[3],1):(e=Zoe.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eae.exec(t))?ch(e[1],e[2],e[3],e[4]):(e=tae.exec(t))?ch(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nae.exec(t))?HP(e[1],e[2]/100,e[3]/100,1):(e=rae.exec(t))?HP(e[1],e[2]/100,e[3]/100,e[4]):UP.hasOwnProperty(t)?WP(UP[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function WP(t){return new On(t>>16&255,t>>8&255,t&255,1)}function ch(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function aae(t){return t instanceof pd||(t=bf(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function n_(t,e,n,r){return arguments.length===1?aae(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}P1(On,n_,h$(pd,{brighter(t){return t=t==null?im:Math.pow(im,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(Aa(this.r),Aa(this.g),Aa(this.b),om(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GP,formatHex:GP,formatHex8:sae,formatRgb:KP,toString:KP}));function GP(){return`#${va(this.r)}${va(this.g)}${va(this.b)}`}function sae(){return`#${va(this.r)}${va(this.g)}${va(this.b)}${va((isNaN(this.opacity)?1:this.opacity)*255)}`}function KP(){const t=om(this.opacity);return`${t===1?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${t===1?")":`, ${t})`}`}function om(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Aa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function va(t){return t=Aa(t),(t<16?"0":"")+t.toString(16)}function HP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,r)}function p$(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof pd||(t=bf(t)),!t)return new Er;if(t instanceof Er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Er(a,s,l,t.opacity)}function lae(t,e,n,r){return arguments.length===1?p$(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}P1(Er,lae,h$(pd,{brighter(t){return t=t==null?im:Math.pow(im,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(Nv(t>=240?t-240:t+120,i,r),Nv(t,i,r),Nv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Er(QP(this.h),fh(this.s),fh(this.l),om(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=om(this.opacity);return`${t===1?"hsl(":"hsla("}${QP(this.h)}, ${fh(this.s)*100}%, ${fh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QP(t){return t=(t||0)%360,t<0?t+360:t}function fh(t){return Math.max(0,Math.min(1,t||0))}function Nv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const O1=t=>()=>t;function uae(t,e){return function(n){return t+n*e}}function cae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fae(t){return(t=+t)==1?m$:function(e,n){return n-e?cae(e,n,t):O1(isNaN(e)?n:e)}}function m$(t,e){var n=e-t;return n?uae(t,n):O1(isNaN(t)?e:t)}const YP=function t(e){var n=fae(e);function r(i,o){var a=n((i=n_(i)).r,(o=n_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=m$(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function dae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=su(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function am(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=su(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var r_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rv=new RegExp(r_.source,"g");function yae(t){return function(){return t}}function vae(t){return function(e){return t(e)+""}}function bae(t,e){var n=r_.lastIndex=Rv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=r_.exec(t))&&(i=Rv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:am(r,i)})),n=Rv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?vae(l[0].x):yae(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function su(t,e){var n=typeof e,r;return e==null||n==="boolean"?O1(e):(n==="number"?am:n==="string"?(r=bf(e))?(e=r,YP):bae:e instanceof bf?YP:e instanceof Date?mae:hae(e)?dae:Array.isArray(e)?pae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gae:am)(t,e)}function C1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _ae(t,e){e===void 0&&(e=t,t=su);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function wae(t){return function(){return t}}function sm(t){return+t}var XP=[0,1];function vn(t){return t}function i_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wae(isNaN(e)?NaN:.5)}function xae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Eae(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=i_(i,r),o=n(a,o)):(r=i_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Tae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=i_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=hd(t,s,1,r)-1;return o[l](i[l](s))}}function md(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yg(){var t=XP,e=XP,n=su,r,i,o,a=vn,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==vn&&(a=xae(t[0],t[h-1])),s=h>2?Tae:Eae,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),am)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,sm),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=C1,c()},f.clamp=function(h){return arguments.length?(a=h?!0:vn,c()):a!==vn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function k1(){return Yg()(vn,vn)}function Sae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tl(t){return t=lm(Math.abs(t)),t?t[1]:NaN}function Iae(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Aae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _f(t){if(!(e=Pae.exec(t)))throw new Error("invalid format: "+t);var e;return new N1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_f.prototype=N1.prototype;function N1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var g$;function Cae(t,e){var n=lm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(g$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lm(t,Math.max(0,e+o-1))[0]}function JP(t,e){var n=lm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ZP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Sae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JP(t*100,e),r:JP,s:Cae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function eO(t){return t}var tO=Array.prototype.map,nO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kae(t){var e=t.grouping===void 0||t.thousands===void 0?eO:Iae(tO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?eO:Aae(tO.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=_f(f);var h=f.fill,p=f.align,y=f.sign,_=f.symbol,w=f.zero,b=f.width,v=f.comma,x=f.precision,P=f.trim,T=f.type;T==="n"?(v=!0,T="g"):ZP[T]||(x===void 0&&(x=12),P=!0,T="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var I=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=_==="$"?r:/[%p]/.test(T)?a:"",S=ZP[T],O=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var j=I,N=E,z,B,Q;if(T==="c")N=S(C)+N,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),x),P&&(C=Oae(C)),K&&+C==0&&y!=="+"&&(K=!1),j=(K?y==="("?y:s:y==="-"||y==="("?"":y)+j,N=(T==="s"?nO[8+g$/3]:"")+N+(K&&y==="("?")":""),O){for(z=-1,B=C.length;++z<B;)if(Q=C.charCodeAt(z),48>Q||Q>57){N=(Q===46?i+C.slice(z+1):C.slice(z))+N,C=C.slice(0,z);break}}}v&&!w&&(C=e(C,1/0));var $=j.length+C.length+N.length,q=$<b?new Array(b-$+1).join(h):"";switch(v&&w&&(C=e(q+C,q.length?b-N.length:1/0),q=""),p){case"<":C=j+C+N+q;break;case"=":C=j+q+C+N;break;case"^":C=q.slice(0,$=q.length>>1)+j+C+N+q.slice($);break;default:C=q+j+C+N;break}return o(C)}return k.toString=function(){return f+""},k}function c(f,h){var p=u((f=_f(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Tl(h)/3)))*3,_=Math.pow(10,-y),w=nO[8+y/3];return function(b){return p(_*b)+w}}return{format:u,formatPrefix:c}}var dh,R1,y$;Nae({thousands:",",grouping:[3],currency:["$",""]});function Nae(t){return dh=kae(t),R1=dh.format,y$=dh.formatPrefix,dh}function Rae(t){return Math.max(0,-Tl(Math.abs(t)))}function jae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tl(e)/3)))*3-Tl(Math.abs(t)))}function Dae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tl(e)-Tl(t))+1}function v$(t,e,n,r){var i=e_(t,e,n),o;switch(r=_f(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=jae(i,a))&&(r.precision=o),y$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Dae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Rae(i))&&(r.precision=o-(r.type==="%")*2);break}}return R1(r)}function qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return v$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Zb(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function um(){var t=k1();return t.copy=function(){return md(t,um())},pr.apply(t,arguments),qo(t)}function b$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return b$(t).unknown(e)},t=arguments.length?Array.from(t,sm):[0,1],qo(n)}function _$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function rO(t){return Math.log(t)}function iO(t){return Math.exp(t)}function Mae(t){return-Math.log(-t)}function $ae(t){return-Math.exp(-t)}function Lae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vae(t){return t===10?Lae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oO(t){return(e,n)=>-t(-e,n)}function j1(t){const e=t(rO,iO),n=e.domain;let r=10,i,o;function a(){return i=Fae(r),o=Vae(r),n()[0]<0?(i=oO(i),o=oO(o),t(Mae,$ae)):t(rO,iO),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),y,_;const w=s==null?10:+s;let b=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(_=h<0?y/o(-h):y*o(h),!(_<u)){if(_>c)break;b.push(_)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(_=h>0?y/o(-h):y*o(h),!(_<u)){if(_>c)break;b.push(_)}b.length*2<w&&(b=Jb(u,c,w))}else b=Jb(h,p,Math.min(p-h,w)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_f(l)).precision==null&&(l.trim=!0),l=R1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(_$(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function w$(){const t=j1(Yg()).domain([1,10]);return t.copy=()=>md(t,w$()).base(t.base()),pr.apply(t,arguments),t}function aO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function D1(t){var e=1,n=t(aO(e),sO(e));return n.constant=function(r){return arguments.length?t(aO(e=+r),sO(e)):e},qo(n)}function x$(){var t=D1(Yg());return t.copy=function(){return md(t,x$()).constant(t.constant())},pr.apply(t,arguments)}function lO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Uae(t){return t<0?-t*t:t*t}function M1(t){var e=t(vn,vn),n=1;function r(){return n===1?t(vn,vn):n===.5?t(Bae,Uae):t(lO(n),lO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(e)}function $1(){var t=M1(Yg());return t.copy=function(){return md(t,$1()).exponent(t.exponent())},pr.apply(t,arguments),t}function zae(){return $1.apply(null,arguments).exponent(.5)}function uO(t){return Math.sign(t)*t*t}function qae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E$(){var t=k1(),e=[0,1],n=!1,r;function i(o){var a=qae(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(uO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,sm)).map(uO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return E$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),qo(i)}function T$(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Qoe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[hd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Eo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return T$().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function S$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[hd(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return S$().domain([t,e]).range(i).unknown(o)},pr.apply(qo(a),arguments)}function I$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[hd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return I$().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const jv=new Date,Dv=new Date;function Bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Bt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(jv.setTime(+o),Dv.setTime(+a),t(jv),t(Dv),Math.floor(n(jv,Dv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const cm=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cm);cm.range;const fi=1e3,ir=fi*60,di=ir*60,Pi=di*24,L1=Pi*7,cO=Pi*30,Mv=Pi*365,ba=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());ba.range;const V1=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getMinutes());V1.range;const F1=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getUTCMinutes());F1.range;const B1=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*ir)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getHours());B1.range;const U1=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCHours());U1.range;const gd=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ir)/Pi,t=>t.getDate()-1);gd.range;const Xg=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>t.getUTCDate()-1);Xg.range;const A$=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>Math.floor(t/Pi));A$.range;function ls(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ir)/L1)}const Jg=ls(0),fm=ls(1),Wae=ls(2),Gae=ls(3),Sl=ls(4),Kae=ls(5),Hae=ls(6);Jg.range;fm.range;Wae.range;Gae.range;Sl.range;Kae.range;Hae.range;function us(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/L1)}const Zg=us(0),dm=us(1),Qae=us(2),Yae=us(3),Il=us(4),Xae=us(5),Jae=us(6);Zg.range;dm.range;Qae.range;Yae.range;Il.range;Xae.range;Jae.range;const z1=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z1.range;const q1=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q1.range;const Oi=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Oi.range;const Ci=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function P$(t,e,n,r,i,o){const a=[[ba,1,fi],[ba,5,5*fi],[ba,15,15*fi],[ba,30,30*fi],[o,1,ir],[o,5,5*ir],[o,15,15*ir],[o,30,30*ir],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[r,1,Pi],[r,2,2*Pi],[n,1,L1],[e,1,cO],[e,3,3*cO],[t,1,Mv]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),y=p?p.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,p=I1(([,,w])=>w).right(a,h);if(p===a.length)return t.every(e_(u/Mv,c/Mv,f));if(p===0)return cm.every(Math.max(e_(u,c,f),1));const[y,_]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return y.every(_)}return[s,l]}const[Zae,ese]=P$(Ci,q1,Zg,A$,U1,F1),[tse,nse]=P$(Oi,z1,Jg,gd,B1,V1);function $v(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Uu(i),c=zu(i),f=Uu(o),h=zu(o),p=Uu(a),y=zu(a),_=Uu(s),w=zu(s),b=Uu(l),v=zu(l),x={a:K,A:$,b:q,B:V,c:null,d:gO,e:gO,f:Ise,g:Mse,G:Lse,H:Ese,I:Tse,j:Sse,L:O$,m:Ase,M:Pse,p:ee,q:Y,Q:bO,s:_O,S:Ose,u:Cse,U:kse,V:Nse,w:Rse,W:jse,x:null,X:null,y:Dse,Y:$se,Z:Vse,"%":vO},P={a:te,A:he,b:we,B:Ue,c:null,d:yO,e:yO,f:zse,g:Zse,G:tle,H:Fse,I:Bse,j:Use,L:k$,m:qse,M:Wse,p:nt,q:At,Q:bO,s:_O,S:Gse,u:Kse,U:Hse,V:Qse,w:Yse,W:Xse,x:null,X:null,y:Jse,Y:ele,Z:nle,"%":vO},T={a:k,A:C,b:j,B:N,c:z,d:pO,e:pO,f:bse,g:hO,G:dO,H:mO,I:mO,j:mse,L:vse,m:pse,M:gse,p:O,q:hse,Q:wse,s:xse,S:yse,u:lse,U:use,V:cse,w:sse,W:fse,x:B,X:Q,y:hO,Y:dO,Z:dse,"%":_se};x.x=I(n,x),x.X=I(r,x),x.c=I(e,x),P.x=I(n,P),P.X=I(r,P),P.c=I(e,P);function I(oe,me){return function(ye){var X=[],je=-1,_e=0,Ve=oe.length,W,be,Ye;for(ye instanceof Date||(ye=new Date(+ye));++je<Ve;)oe.charCodeAt(je)===37&&(X.push(oe.slice(_e,je)),(be=fO[W=oe.charAt(++je)])!=null?W=oe.charAt(++je):be=W==="e"?" ":"0",(Ye=me[W])&&(W=Ye(ye,be)),X.push(W),_e=je+1);return X.push(oe.slice(_e,je)),X.join("")}}function E(oe,me){return function(ye){var X=Bu(1900,void 0,1),je=S(X,oe,ye+="",0),_e,Ve;if(je!=ye.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(me&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(_e=Lv(Bu(X.y,0,1)),Ve=_e.getUTCDay(),_e=Ve>4||Ve===0?dm.ceil(_e):dm(_e),_e=Xg.offset(_e,(X.V-1)*7),X.y=_e.getUTCFullYear(),X.m=_e.getUTCMonth(),X.d=_e.getUTCDate()+(X.w+6)%7):(_e=$v(Bu(X.y,0,1)),Ve=_e.getDay(),_e=Ve>4||Ve===0?fm.ceil(_e):fm(_e),_e=gd.offset(_e,(X.V-1)*7),X.y=_e.getFullYear(),X.m=_e.getMonth(),X.d=_e.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ve="Z"in X?Lv(Bu(X.y,0,1)).getUTCDay():$v(Bu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ve+5)%7:X.w+X.U*7-(Ve+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Lv(X)):$v(X)}}function S(oe,me,ye,X){for(var je=0,_e=me.length,Ve=ye.length,W,be;je<_e;){if(X>=Ve)return-1;if(W=me.charCodeAt(je++),W===37){if(W=me.charAt(je++),be=T[W in fO?me.charAt(je++):W],!be||(X=be(oe,ye,X))<0)return-1}else if(W!=ye.charCodeAt(X++))return-1}return X}function O(oe,me,ye){var X=u.exec(me.slice(ye));return X?(oe.p=c.get(X[0].toLowerCase()),ye+X[0].length):-1}function k(oe,me,ye){var X=p.exec(me.slice(ye));return X?(oe.w=y.get(X[0].toLowerCase()),ye+X[0].length):-1}function C(oe,me,ye){var X=f.exec(me.slice(ye));return X?(oe.w=h.get(X[0].toLowerCase()),ye+X[0].length):-1}function j(oe,me,ye){var X=b.exec(me.slice(ye));return X?(oe.m=v.get(X[0].toLowerCase()),ye+X[0].length):-1}function N(oe,me,ye){var X=_.exec(me.slice(ye));return X?(oe.m=w.get(X[0].toLowerCase()),ye+X[0].length):-1}function z(oe,me,ye){return S(oe,e,me,ye)}function B(oe,me,ye){return S(oe,n,me,ye)}function Q(oe,me,ye){return S(oe,r,me,ye)}function K(oe){return a[oe.getDay()]}function $(oe){return o[oe.getDay()]}function q(oe){return l[oe.getMonth()]}function V(oe){return s[oe.getMonth()]}function ee(oe){return i[+(oe.getHours()>=12)]}function Y(oe){return 1+~~(oe.getMonth()/3)}function te(oe){return a[oe.getUTCDay()]}function he(oe){return o[oe.getUTCDay()]}function we(oe){return l[oe.getUTCMonth()]}function Ue(oe){return s[oe.getUTCMonth()]}function nt(oe){return i[+(oe.getUTCHours()>=12)]}function At(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=I(oe+="",x);return me.toString=function(){return oe},me},parse:function(oe){var me=E(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=I(oe+="",P);return me.toString=function(){return oe},me},utcParse:function(oe){var me=E(oe+="",!0);return me.toString=function(){return oe},me}}}var fO={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,ise=/^%/,ose=/[\\^$*+?|[\]().{}]/g;function Le(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ase(t){return t.replace(ose,"\\$&")}function Uu(t){return new RegExp("^(?:"+t.map(ase).join("|")+")","i")}function zu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sse(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lse(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function use(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cse(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fse(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dO(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hse(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pse(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mse(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mO(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gse(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yse(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vse(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bse(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _se(t,e,n){var r=ise.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wse(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xse(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gO(t,e){return Le(t.getDate(),e,2)}function Ese(t,e){return Le(t.getHours(),e,2)}function Tse(t,e){return Le(t.getHours()%12||12,e,2)}function Sse(t,e){return Le(1+gd.count(Oi(t),t),e,3)}function O$(t,e){return Le(t.getMilliseconds(),e,3)}function Ise(t,e){return O$(t,e)+"000"}function Ase(t,e){return Le(t.getMonth()+1,e,2)}function Pse(t,e){return Le(t.getMinutes(),e,2)}function Ose(t,e){return Le(t.getSeconds(),e,2)}function Cse(t){var e=t.getDay();return e===0?7:e}function kse(t,e){return Le(Jg.count(Oi(t)-1,t),e,2)}function C$(t){var e=t.getDay();return e>=4||e===0?Sl(t):Sl.ceil(t)}function Nse(t,e){return t=C$(t),Le(Sl.count(Oi(t),t)+(Oi(t).getDay()===4),e,2)}function Rse(t){return t.getDay()}function jse(t,e){return Le(fm.count(Oi(t)-1,t),e,2)}function Dse(t,e){return Le(t.getFullYear()%100,e,2)}function Mse(t,e){return t=C$(t),Le(t.getFullYear()%100,e,2)}function $se(t,e){return Le(t.getFullYear()%1e4,e,4)}function Lse(t,e){var n=t.getDay();return t=n>=4||n===0?Sl(t):Sl.ceil(t),Le(t.getFullYear()%1e4,e,4)}function Vse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function yO(t,e){return Le(t.getUTCDate(),e,2)}function Fse(t,e){return Le(t.getUTCHours(),e,2)}function Bse(t,e){return Le(t.getUTCHours()%12||12,e,2)}function Use(t,e){return Le(1+Xg.count(Ci(t),t),e,3)}function k$(t,e){return Le(t.getUTCMilliseconds(),e,3)}function zse(t,e){return k$(t,e)+"000"}function qse(t,e){return Le(t.getUTCMonth()+1,e,2)}function Wse(t,e){return Le(t.getUTCMinutes(),e,2)}function Gse(t,e){return Le(t.getUTCSeconds(),e,2)}function Kse(t){var e=t.getUTCDay();return e===0?7:e}function Hse(t,e){return Le(Zg.count(Ci(t)-1,t),e,2)}function N$(t){var e=t.getUTCDay();return e>=4||e===0?Il(t):Il.ceil(t)}function Qse(t,e){return t=N$(t),Le(Il.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function Yse(t){return t.getUTCDay()}function Xse(t,e){return Le(dm.count(Ci(t)-1,t),e,2)}function Jse(t,e){return Le(t.getUTCFullYear()%100,e,2)}function Zse(t,e){return t=N$(t),Le(t.getUTCFullYear()%100,e,2)}function ele(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function tle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Il(t):Il.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function nle(){return"+0000"}function vO(){return"%"}function bO(t){return+t}function _O(t){return Math.floor(+t/1e3)}var xs,R$,j$;rle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rle(t){return xs=rse(t),R$=xs.format,xs.parse,j$=xs.utcFormat,xs.utcParse,xs}function ile(t){return new Date(t)}function ole(t){return t instanceof Date?+t:+new Date(+t)}function W1(t,e,n,r,i,o,a,s,l,u){var c=k1(),f=c.invert,h=c.domain,p=u(".%L"),y=u(":%S"),_=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),v=u("%b %d"),x=u("%B"),P=u("%Y");function T(I){return(l(I)<I?p:s(I)<I?y:a(I)<I?_:o(I)<I?w:r(I)<I?i(I)<I?b:v:n(I)<I?x:P)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?h(Array.from(I,ole)):h().map(ile)},c.ticks=function(I){var E=h();return t(E[0],E[E.length-1],I??10)},c.tickFormat=function(I,E){return E==null?T:u(E)},c.nice=function(I){var E=h();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?h(_$(E,I)):c},c.copy=function(){return md(c,W1(t,e,n,r,i,o,a,s,l,u))},c}function ale(){return pr.apply(W1(tse,nse,Oi,z1,Jg,gd,B1,V1,ba,R$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sle(){return pr.apply(W1(Zae,ese,Ci,q1,Zg,Xg,U1,F1,ba,j$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ey(){var t=0,e=1,n,r,i,o,a=vn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var p,y;return arguments.length?([p,y]=h,a=f(p,y),u):[a(0),a(1)]}}return u.range=c(su),u.rangeRound=c(C1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D$(){var t=qo(ey()(vn));return t.copy=function(){return Wo(t,D$())},$i.apply(t,arguments)}function M$(){var t=j1(ey()).domain([1,10]);return t.copy=function(){return Wo(t,M$()).base(t.base())},$i.apply(t,arguments)}function $$(){var t=D1(ey());return t.copy=function(){return Wo(t,$$()).constant(t.constant())},$i.apply(t,arguments)}function G1(){var t=M1(ey());return t.copy=function(){return Wo(t,G1()).exponent(t.exponent())},$i.apply(t,arguments)}function lle(){return G1.apply(null,arguments).exponent(.5)}function L$(){var t=[],e=vn;function n(r){if(r!=null&&!isNaN(r=+r))return e((hd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hoe(t,o/r))},n.copy=function(){return L$(e).domain(t)},$i.apply(n,arguments)}function ty(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=vn,c,f=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-o)*(r*_<r*o?s:l),u(f?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([t,e,n]=_,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(_){return arguments.length?(f=!!_,p):f},p.interpolator=function(_){return arguments.length?(u=_,p):u};function y(_){return function(w){var b,v,x;return arguments.length?([b,v,x]=w,u=_ae(_,[b,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=y(su),p.rangeRound=y(C1),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(t),o=_(e),a=_(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function V$(){var t=qo(ty()(vn));return t.copy=function(){return Wo(t,V$())},$i.apply(t,arguments)}function F$(){var t=j1(ty()).domain([.1,1,10]);return t.copy=function(){return Wo(t,F$()).base(t.base())},$i.apply(t,arguments)}function B$(){var t=D1(ty());return t.copy=function(){return Wo(t,B$()).constant(t.constant())},$i.apply(t,arguments)}function K1(){var t=M1(ty());return t.copy=function(){return Wo(t,K1()).exponent(t.exponent())},$i.apply(t,arguments)}function ule(){return K1.apply(null,arguments).exponent(.5)}const wO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gf,scaleDiverging:V$,scaleDivergingLog:F$,scaleDivergingPow:K1,scaleDivergingSqrt:ule,scaleDivergingSymlog:B$,scaleIdentity:b$,scaleImplicit:t_,scaleLinear:um,scaleLog:w$,scaleOrdinal:A1,scalePoint:Sc,scalePow:$1,scaleQuantile:T$,scaleQuantize:S$,scaleRadial:E$,scaleSequential:D$,scaleSequentialLog:M$,scaleSequentialPow:G1,scaleSequentialQuantile:L$,scaleSequentialSqrt:lle,scaleSequentialSymlog:$$,scaleSqrt:zae,scaleSymlog:x$,scaleThreshold:I$,scaleTime:ale,scaleUtc:sle,tickFormat:v$},Symbol.toStringTag,{value:"Module"}));var cle=Xl;function fle(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!cle(a):n(a,s)))var s=a,l=o}return l}var U$=fle;function dle(t,e){return t>e}var hle=dle,ple=U$,mle=hle,gle=ou;function yle(t){return t&&t.length?ple(t,gle,mle):void 0}var vle=yle;const lo=Ze(vle);function ble(t,e){return t<e}var _le=ble,wle=U$,xle=_le,Ele=ou;function Tle(t){return t&&t.length?wle(t,Ele,xle):void 0}var Sle=Tle;const ny=Ze(Sle);var Ile=s1,Ale=zo,Ple=YM,Ole=jn;function Cle(t,e){var n=Ole(t)?Ile:Ple;return n(t,Ale(e))}var kle=Cle,Nle=HM,Rle=kle;function jle(t,e){return Nle(Rle(t,e),1)}var Dle=jle;const Mle=Ze(Dle);var $le=x1;function Lle(t,e){return $le(t,e)}var Vle=Lle;const wf=Ze(Vle);var lu=1e9,Fle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q1,ct=!0,dr="[DecimalError] ",Pa=dr+"Invalid argument: ",H1=dr+"Exponent out of range: ",uu=Math.floor,la=Math.pow,Ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,zt=1e7,at=7,z$=9007199254740991,hm=uu(z$/at),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*at;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return vi(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return Je(vi(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return kt(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(ct=!1,e=vi(xf(n,o),xf(t,o),o),ct=!0,Je(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G$(e,t):q$(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(ct=!1,e=vi(n,t,0,1).times(t),ct=!0,n.minus(e)):Je(new r(n),i)};ue.naturalExponential=ue.exp=function(){return W$(this)};ue.naturalLogarithm=ue.ln=function(){return xf(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q$(e,t):G$(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pa+t);if(e=kt(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(dr+"NaN")}for(t=kt(s),ct=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Fr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(vi(s,o,a+2)).times(.5),Fr(o.d).slice(0,a)===(e=Fr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Je(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ct=!0,Je(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%zt|0,e=s/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ct?Je(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,lu),e===void 0?e=r.rounding:Jr(e,0,8),Je(n,t+kt(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qa(r,!0):(Jr(t,0,lu),e===void 0?e=i.rounding:Jr(e,0,8),r=Je(new i(r),t+1,e),n=Qa(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Qa(i):(Jr(t,0,lu),e===void 0?e=o.rounding:Jr(e,0,8),r=Je(new o(i),t+kt(i)+1,e),n=Qa(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return Je(new e(t),kt(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(dr+"Infinity");return s}if(s.eq(Vn))return s;if(r=l.precision,t.eq(Vn))return Je(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=z$){for(i=new l(Vn),e=Math.ceil(r/at+4),ct=!1;n%2&&(i=i.times(s),EO(i.d,e)),n=uu(n/2),n!==0;)s=s.times(s),EO(s.d,e);return ct=!0,t.s<0?new l(Vn).div(i):Je(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ct=!1,i=t.times(xf(s,r+u)),ct=!0,i=W$(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=kt(i),r=Qa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Jr(t,1,lu),e===void 0?e=o.rounding:Jr(e,0,8),i=Je(new o(i),t,e),n=kt(i),r=Qa(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,lu),e===void 0?e=r.rounding:Jr(e,0,8)),Je(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return Qa(t,e<=n.toExpNeg||e>=n.toExpPos)};function q$(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ct?Je(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/at),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/zt|0,l[o]%=zt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ct?Je(e,f):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Pa+t)}function Fr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=at-r.length,n&&(o+=Yi(n)),o+=r;a=t[e],r=a+"",n=at-r.length,n&&(o+=Yi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var vi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%zt|0,a=o/zt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*zt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,p,y,_,w,b,v,x,P,T,I,E,S,O=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,E=j.length,T=C.length,p=new O(k),y=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,o==null?v=o=O.precision:a?v=o+(kt(r)-kt(i))+1:v=o,v<0)return new O(0);if(v=v/at+2|0,u=0,E==1)for(c=0,j=j[0],v++;(u<T||c)&&v--;u++)x=c*zt+(C[u]||0),y[u]=x/j|0,c=x%j|0;else{for(c=zt/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),E=j.length,T=C.length),P=E,_=C.slice(0,E),w=_.length;w<E;)_[w++]=0;S=j.slice(),S.unshift(0),I=j[0],j[1]>=zt/2&&++I;do c=0,s=e(j,_,E,w),s<0?(b=_[0],E!=w&&(b=b*zt+(_[1]||0)),c=b/I|0,c>1?(c>=zt&&(c=zt-1),f=t(j,c),h=f.length,w=_.length,s=e(f,_,h,w),s==1&&(c--,n(f,E<h?S:j,h))):(c==0&&(s=c=1),f=j.slice()),h=f.length,h<w&&f.unshift(0),n(_,f,w),s==-1&&(w=_.length,s=e(j,_,E,w),s<1&&(c++,n(_,E<w?S:j,w))),w=_.length):s===0&&(c++,_=[0]),y[u++]=c,s&&_[0]?_[w++]=C[P]||0:(_=[C[P]],w=1);while((P++<T||_[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=l,Je(p,a?o+kt(p)+1:o)}}();function W$(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(kt(t)>16)throw Error(H1+kt(t));if(!t.s)return new c(Vn);for(ct=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(la(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Vn),c.precision=s;;){if(i=Je(i.times(t),s),n=n.times(++l),a=o.plus(vi(i,n,s)),Fr(a.d).slice(0,s)===Fr(o.d).slice(0,s)){for(;u--;)o=Je(o.times(o),s);return c.precision=f,e==null?(ct=!0,Je(o,f)):o}o=a}}function kt(t){for(var e=t.e*at,n=t.d[0];n>=10;n/=10)e++;return e}function Vv(t,e,n){if(e>t.LN10.sd())throw ct=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function Yi(t){for(var e="";t--;)e+="0";return e}function xf(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,p=t,y=p.d,_=p.constructor,w=_.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new _(0);if(e==null?(ct=!1,u=w):u=e,p.eq(10))return e==null&&(ct=!0),Vv(_,u);if(u+=h,_.precision=u,n=Fr(y),r=n.charAt(0),o=kt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Fr(p.d),r=n.charAt(0),f++;o=kt(p),r>1?(p=new _("0."+n),o++):p=new _(r+"."+n.slice(1))}else return l=Vv(_,u+2,w).times(o+""),p=xf(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=w,e==null?(ct=!0,Je(p,w)):p;for(s=a=p=vi(p.minus(Vn),p.plus(Vn),u),c=Je(p.times(p),u),i=3;;){if(a=Je(a.times(c),u),l=s.plus(vi(a,new _(i),u)),Fr(l.d).slice(0,u)===Fr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Vv(_,u+2,w).times(o+""))),s=vi(s,new _(f),u),_.precision=w,e==null?(ct=!0,Je(s,w)):s;s=l,i+=2}}function xO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=uu(n/at),t.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=at;r<i;)t.d.push(+e.slice(r,r+=at));e=e.slice(r),r=at-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ct&&(t.e>hm||t.e<-hm))throw Error(H1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=at,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/at),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=at,i=r-at+a}if(n!==void 0&&(o=la(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/la(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=kt(t),f.length=1,e=e-o-1,f[0]=la(10,(at-e%at)%at),t.e=uu(-e/at)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=la(10,at-r),f[c]=i>0?(u/la(10,a-i)%la(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==zt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=zt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ct&&(t.e>hm||t.e<-hm))throw Error(H1+kt(t));return t}function G$(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ct?Je(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/at),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=zt-1;--l[o],l[i]+=zt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ct?Je(e,p):e):new h(0)}function Qa(t,e,n){var r,i=kt(t),o=Fr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Yi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Yi(-i-1)+o,n&&(r=n-a)>0&&(o+=Yi(r))):i>=a?(o+=Yi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Yi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Yi(r))),t.s<0?"-"+o:o}function EO(t,e){if(t.length>e)return t.length=e,!0}function K$(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return xO(a,o.toString())}else if(typeof o!="string")throw Error(Pa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Ble.test(o))xO(a,o);else throw Error(Pa+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K$,i.config=i.set=Ule,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ule(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,lu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(uu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Pa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pa+n+": "+r);return this}var Q1=K$(Fle);Vn=new Q1(1);const Ke=Q1;function zle(t){return Kle(t)||Gle(t)||Wle(t)||qle()}function qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function Gle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Kle(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hle=function(e){return e},H$={},Q$=function(e){return e===H$},TO=function(e){return function n(){return arguments.length===0||arguments.length===1&&Q$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Qle=function t(e,n){return e===1?n:TO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==H$}).length;return a>=e?n.apply(void 0,i):t(e-a,TO(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return Q$(f)?l.shift():f});return n.apply(void 0,zle(c).concat(l))}))})},ry=function(e){return Qle(e.length,e)},a_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Yle=ry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Xle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Hle;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},s_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Y$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Jle(t){var e;return t===0?e=1:e=Math.floor(new Ke(t).abs().log(10).toNumber())+1,e}function Zle(t,e,n){for(var r=new Ke(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var eue=ry(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),tue=ry(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),nue=ry(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const iy={rangeStep:Zle,getDigitCount:Jle,interpolateNumber:eue,uninterpolateNumber:tue,uninterpolateTruncation:nue};function l_(t){return oue(t)||iue(t)||X$(t)||rue()}function rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oue(t){if(Array.isArray(t))return u_(t)}function Ef(t,e){return lue(t)||sue(t,e)||X$(t,e)||aue()}function aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function lue(t){if(Array.isArray(t))return t}function J$(t){var e=Ef(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Z$(t,e,n){if(t.lte(0))return new Ke(0);var r=iy.getDigitCount(t.toNumber()),i=new Ke(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ke(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ke(Math.ceil(l))}function uue(t,e,n){var r=1,i=new Ke(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ke(10).pow(iy.getDigitCount(t)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ke(Math.floor(t)))}else t===0?i=new Ke(Math.floor((e-1)/2)):n||(i=new Ke(Math.floor(t)));var a=Math.floor((e-1)/2),s=Xle(Yle(function(l){return i.add(new Ke(l-a).mul(r)).toNumber()}),a_);return s(0,e)}function eL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var o=Z$(new Ke(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ke(0):(a=new Ke(t).add(e).div(2),a=a.sub(new Ke(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ke(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?eL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ke(s).mul(o)),tickMax:a.add(new Ke(l).mul(o))})}function cue(t){var e=Ef(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=J$([n,r]),l=Ef(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(l_(a_(0,i-1).map(function(){return 1/0}))):[].concat(l_(a_(0,i-1).map(function(){return-1/0})),[c]);return n>r?s_(f):f}if(u===c)return uue(u,i,o);var h=eL(u,c,a,o),p=h.step,y=h.tickMin,_=h.tickMax,w=iy.rangeStep(y,_.add(new Ke(.1).mul(p)),p);return n>r?s_(w):w}function fue(t,e){var n=Ef(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=J$([r,i]),s=Ef(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=Z$(new Ke(u).sub(l).div(c-1),o,0),h=[].concat(l_(iy.rangeStep(new Ke(l),new Ke(u).sub(new Ke(.99).mul(f)),f)),[u]);return r>i?s_(h):h}var due=Y$(cue),hue=Y$(fue),pue="Invariant failed";function Ya(t,e){throw new Error(pue)}var mue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(this,arguments)}function gue(t,e){return _ue(t)||bue(t,e)||vue(t,e)||yue()}function yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return SO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _ue(t){if(Array.isArray(t))return t}function wue(t,e){if(t==null)return{};var n=xue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function Sue(t,e,n){return e&&Tue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iue(t,e,n){return e=mm(e),Aue(t,tL()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function Aue(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pue(t)}function Pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function Oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function nL(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t){var e=Cue(t,"string");return Al(e)=="symbol"?e:e+""}function Cue(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oy=function(t){function e(){return Eue(this,e),Iue(this,e,arguments)}return Oue(e,t),Sue(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=wue(r,mue),p=Pe(h,!1);this.props.direction==="x"&&c.type!=="number"&&Ya();var y=l.map(function(_){var w=u(_,s),b=w.x,v=w.y,x=w.value,P=w.errorVal;if(!P)return null;var T=[],I,E;if(Array.isArray(P)){var S=gue(P,2);I=S[0],E=S[1]}else I=E=P;if(o==="vertical"){var O=c.scale,k=v+i,C=k+a,j=k-a,N=O(x-I),z=O(x+E);T.push({x1:z,y1:C,x2:z,y2:j}),T.push({x1:N,y1:k,x2:z,y2:k}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(o==="horizontal"){var B=f.scale,Q=b+i,K=Q-a,$=Q+a,q=B(x-I),V=B(x+E);T.push({x1:K,y1:V,x2:$,y2:V}),T.push({x1:Q,y1:q,x2:Q,y2:V}),T.push({x1:K,y1:q,x2:$,y2:q})}return D.createElement(gt,pm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return D.createElement("line",pm({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(gt,{className:"recharts-errorBars"},y)}}])}(D.Component);nL(oy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nL(oy,"displayName","ErrorBar");function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return e=Nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t){var e=Rue(t,"string");return Tf(e)=="symbol"?e:e+""}function Rue(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ln(n,Ia);if(!a)return null;var s=Ia.defaultProps,l=s!==void 0?ta(ta({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return c.concat(y.map(function(_){return{type:a.props.iconType||h.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?ta(ta({},h),f.props):{},y=p.dataKey,_=p.name,w=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:l.iconType||w||"square",color:Y1(f),value:_||y,payload:p}}),ta(ta(ta({},l),Ia.getWithHeight(a,i)),{},{payload:u,item:a})};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function AO(t){return $ue(t)||Mue(t)||Due(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function Mue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ue(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rl(t,e,n){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Vue(t,"string");return Sf(e)=="symbol"?e:e+""}function Vue(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gn(t,e,n){return Ne(t)||Ne(e)?n:Lt(e)?ur(t,e,n):Se(e)?e(t):n}function Ic(t,e,n,r){var i=Mle(t,function(s){return Gn(s,e)});if(n==="number"){var o=i.filter(function(s){return ne(s)||parseFloat(s)});return o.length?[ny(o),lo(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ne(s)}):i;return a.map(function(s){return Lt(s)||s instanceof Date?s:""})}var Fue=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Sr(f-c)!==Sr(h-f)){var y=[];if(Sr(h-f)===Sr(l[1]-l[0])){p=h;var _=f+l[1]-l[0];y[0]=Math.min(_,(_+c)/2),y[1]=Math.max(_,(_+c)/2)}else{p=c;var w=h+l[1]-l[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var v=Math.min(c,h),x=Math.max(c,h);if(e>(v+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var P=0;P<s;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===s-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){a=r[P].index;break}return a},Y1=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Bue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var y=c[f[h]],_=y.items,w=y.cateAxisId,b=_.filter(function(E){return gi(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,x=v!==void 0?Et(Et({},v),b[0].props):b[0].props,P=x.barSize,T=x[w];a[T]||(a[T]=[]);var I=Ne(P)?n:P;a[T].push({item:b[0],stackList:b.slice(1),barSize:Ne(I)?void 0:Ha(I,r,0)})}}return a},Uue=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ha(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,y=a.reduce(function(P,T){return P+T.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var _=(i-y)/2>>0,w={offset:_-u,size:0};c=a.reduce(function(P,T){var I={item:T.item,position:{offset:w.offset+w.size+u,size:h?p:T.barSize}},E=[].concat(AO(P),[I]);return w=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:w})}),E},f)}else{var b=Ha(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var v=(i-2*b-(l-1)*u)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;c=a.reduce(function(P,T,I){var E=[].concat(AO(P),[{item:T.item,position:{offset:b+(v+u)*I+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return c},zue=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=iL({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,y=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&y==="middle")&&p!=="center"&&ne(e[p]))return Et(Et({},e),{},rl({},p,e[p]+(f||0)));if((_==="horizontal"||_==="vertical"&&p==="center")&&y!=="middle"&&ne(e[y]))return Et(Et({},e),{},rl({},y,e[y]+(h||0)))}return e},que=function(e,n,r){return Ne(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oL=function(e,n,r,i,o){var a=n.props.children,s=Pr(a,oy).filter(function(u){return que(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Gn(c,r);if(Ne(f))return u;var h=Array.isArray(f)?[ny(f),lo(f)]:[f,f],p=l.reduce(function(y,_){var w=Gn(c,_,0),b=h[0]-Math.abs(Array.isArray(w)?w[0]:w),v=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Wue=function(e,n,r,i,o){var a=n.map(function(s){return oL(e,s,r,o,i)}).filter(function(s){return!Ne(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},aL=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&oL(e,l,u,i)||Ic(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},sL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lL=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},hi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Sr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!nu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Fv=new WeakMap,hh=function(e,n){if(typeof n!="function")return e;Fv.has(e)||Fv.set(e,new WeakMap);var r=Fv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Gue=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:gf(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:um(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sc(),realScaleType:"point"}:o==="category"?{scale:gf(),realScaleType:"band"}:{scale:um(),realScaleType:"linear"};if(Ka(i)){var l="scale".concat(zg(i));return{scale:(wO[l]||Sc)(),realScaleType:wO[l]?l:"point"}}return Se(i)?{scale:i}:{scale:Sc(),realScaleType:"point"}},OO=1e-4,Kue=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-OO,a=Math.max(i[0],i[1])+OO,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Hue=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Que=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Yue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=nu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Xue=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=nu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Jue={sign:Yue,expand:hY,none:bl,silhouette:pY,wiggle:mY,positive:Xue},Zue=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Jue[r],a=dY().keys(i).value(function(s,l){return+Gn(s,l,0)}).order(Mb).offset(o);return a(e)},ece=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Et(Et({},h.type.defaultProps),h.props):h.props,_=y.stackId,w=y.hide;if(w)return f;var b=y[r],v=f[b]||{hasStack:!1,stackGroups:{}};if(Lt(_)){var x=v.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),v.hasStack=!0,v.stackGroups[_]=x}else v.stackGroups[fd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Et(Et({},f),{},rl({},b,v))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(_,w){var b=p.stackGroups[w];return Et(Et({},_),{},rl({},w,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Zue(e,b.items,o)}))},y)}return Et(Et({},f),{},rl({},h,p))},c)},tce=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=due(u,o,s);return e.domain([ny(c),lo(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=hue(f,o,s);return{niceTicks:h}}return null};function CO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ne(i[e.dataKey])){var s=Fp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Gn(i,Ne(a)?e.dataKey:a);return Ne(l)?null:e.scale(l)}var kO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Gn(a,n.dataKey,n.domain[s]);return Ne(l)?null:n.scale(l)-o/2+i},nce=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},rce=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Lt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},ice=function(e){return e.reduce(function(n,r){return[ny(r.concat([n[0]]).filter(ne)),lo(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},uL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=ice(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},NO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d_=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(NO.test(e[0])){var o=+NO.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(RO.test(e[1])){var a=+RO.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},gm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=T1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},jO=function(e,n,r){return!e||!e.length||wf(e,ur(r,"type.defaultProps.domain"))?n:e},cL=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Et(Et({},Pe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Y1(e),value:Gn(n,i),type:l,payload:n,chartType:u,hide:c})};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return If(e)=="symbol"?e:e+""}function sce(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ym=Math.PI/180,lce=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-ym*i)*r,y:n+Math.sin(-ym*i)*r}},uce=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},cce=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=uce({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:lce(u),angleInRadian:u}},fce=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},dce=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},$O=function(e,n){var r=e.x,i=e.y,o=cce({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=fce(n),f=c.startAngle,h=c.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?MO(MO({},n),{},{radius:a,angle:dce(p,n)}):null};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var hce=["offset"];function pce(t){return vce(t)||yce(t)||gce(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){if(t==null)return{};var n=_ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return e=xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=Ece(t,"string");return Af(e)=="symbol"?e:e+""}function Ece(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}var Tce=function(e){var n=e.value,r=e.formatter,i=Ne(e.children)?n:e.children;return Se(r)?r(i):i},Sce=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ice=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,_=l.clockWise,w=(f+h)/2,b=Sce(p,y),v=b>=0?1:-1,x,P;i==="insideStart"?(x=p+v*a,P=_):i==="insideEnd"?(x=y-v*a,P=!_):i==="end"&&(x=y+v*a,P=_),P=b<=0?P:!P;var T=Xt(u,c,w,x),I=Xt(u,c,w,x+(P?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Ne(e.id)?fd("recharts-radial-line-"):e.id;return D.createElement("text",Pf({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:S,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Ace=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=Xt(a,s,u+r,h),y=p.x,_=p.y;return{x:y,y:_,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,b=Xt(a,s,w,h),v=b.x,x=b.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Pce=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",_=u>=0?1:-1,w=_*i,b=_>0?"end":"start",v=_>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return Dt(Dt({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Dt(Dt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:s+u+w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Dt(Dt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?Dt({x:s+w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):o==="insideRight"?Dt({x:s+u-w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},E):o==="insideTop"?Dt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},E):o==="insideBottom"?Dt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?Dt({x:s+w,y:l+h,textAnchor:v,verticalAnchor:y},E):o==="insideTopRight"?Dt({x:s+u-w,y:l+h,textAnchor:b,verticalAnchor:y},E):o==="insideBottomLeft"?Dt({x:s+w,y:l+c-h,textAnchor:v,verticalAnchor:p},E):o==="insideBottomRight"?Dt({x:s+u-w,y:l+c-h,textAnchor:b,verticalAnchor:p},E):Jl(o)&&(ne(o.x)||ya(o.x))&&(ne(o.y)||ya(o.y))?Dt({x:s+Ha(o.x,u),y:l+Ha(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):Dt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Oce=function(e){return"cx"in e&&ne(e.cx)};function ln(t){var e=t.offset,n=e===void 0?5:e,r=bce(t,hce),i=Dt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Ne(s)&&Ne(l)&&!M.isValidElement(u)&&!Se(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(Se(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=Tce(i);var y=Oce(o),_=Pe(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ice(i,p,_);var w=y?Ace(i):Pce(i);return D.createElement(nm,Pf({className:Me("recharts-label",f)},_,w,{breakAll:h}),p)}ln.displayName="Label";var fL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,_=e.width,w=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(ne(_)&&ne(w)){if(ne(f)&&ne(h))return{x:f,y:h,width:_,height:w};if(ne(p)&&ne(y))return{x:p,y,width:_,height:w}}return ne(f)&&ne(h)?{x:f,y:h,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Cce=function(e,n){return e?e===!0?D.createElement(ln,{key:"label-implicit",viewBox:n}):Lt(e)?D.createElement(ln,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===ln?M.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(ln,{key:"label-implicit",content:e,viewBox:n}):Se(e)?D.createElement(ln,{key:"label-implicit",content:e,viewBox:n}):Jl(e)?D.createElement(ln,Pf({viewBox:n},e,{key:"label-implicit"})):null:null},kce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=fL(e),a=Pr(i,ln).map(function(l,u){return M.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Cce(e.label,n||o);return[s].concat(pce(a))};ln.parseViewBox=fL;ln.renderCallByParent=kce;function Nce(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Rce=Nce;const jce=Ze(Rce);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var Dce=["valueAccessor"],Mce=["data","dataKey","clockWise","id","textBreakAll"];function $ce(t){return Bce(t)||Fce(t)||Vce(t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bce(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=qce(t,"string");return Of(e)=="symbol"?e:e+""}function qce(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BO(t,e){if(t==null)return{};var n=Wce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gce=function(e){return Array.isArray(e.value)?jce(e.value):e.value};function To(t){var e=t.valueAccessor,n=e===void 0?Gce:e,r=BO(t,Dce),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=BO(r,Mce);return!i||!i.length?null:D.createElement(gt,{className:"recharts-label-list"},i.map(function(c,f){var h=Ne(o)?n(c,f):Gn(c&&c.payload,o),p=Ne(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(ln,vm({},Pe(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:ln.parseViewBox(Ne(a)?c:FO(FO({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}To.displayName="LabelList";function Kce(t,e){return t?t===!0?D.createElement(To,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Se(t)?D.createElement(To,{key:"labelList-implicit",data:e,content:t}):Jl(t)?D.createElement(To,vm({data:e},t,{key:"labelList-implicit"})):null:null}function Hce(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Pr(r,To).map(function(a,s){return M.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Kce(t.label,e);return[o].concat($ce(i))}To.renderCallByParent=Hce;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return e=Yce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=Xce(t,"string");return Cf(e)=="symbol"?e:e+""}function Xce(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jce=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ph=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/ym,h=u?o:o+a*f,p=Xt(n,r,c,h),y=Xt(n,r,i,h),_=u?o-a*f:o,w=Xt(n,r,c*Math.cos(f*ym),_);return{center:p,circleTangency:y,lineTangency:w,theta:f}},dL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Jce(a,s),u=a+l,c=Xt(n,r,o,a),f=Xt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Xt(n,r,i,a),y=Xt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Zce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Sr(c-u),h=ph({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,_=h.theta,w=ph({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=w.circleTangency,v=w.lineTangency,x=w.theta,P=l?Math.abs(u-c):Math.abs(u-c)-_-x;if(P<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):dL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var I=ph({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,O=I.theta,k=ph({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,z=l?Math.abs(u-c):Math.abs(u-c)-O-N;if(z<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},efe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hL=function(e){var n=zO(zO({},efe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var p=Me("recharts-sector",h),y=a-o,_=Ha(s,y,0,!0),w;return _>0&&Math.abs(c-f)<360?w=Zce({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(_,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=dL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),D.createElement("path",m_({},Pe(n,!0),{className:p,d:w,role:"img"}))};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return kf(e)=="symbol"?e:e+""}function rfe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GO={curveBasisClosed:tY,curveBasisOpen:nY,curveBasis:eY,curveBumpX:FQ,curveBumpY:BQ,curveLinearClosed:rY,curveLinear:Wg,curveMonotoneX:iY,curveMonotoneY:oY,curveNatural:aY,curveStep:sY,curveStepAfter:uY,curveStepBefore:lY},mh=function(e){return e.x===+e.x&&e.y===+e.y},qu=function(e){return e.x},Wu=function(e){return e.y},ife=function(e,n){if(Se(e))return e;var r="curve".concat(zg(e));return(r==="curveMonotone"||r==="curveBump")&&n?GO["".concat(r).concat(n==="vertical"?"Y":"X")]:GO[r]||Wg},ofe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=ife(r,s),f=u?o.filter(function(_){return mh(_)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(_){return mh(_)}):a,y=f.map(function(_,w){return WO(WO({},_),{},{base:p[w]})});return s==="vertical"?h=oh().y(Wu).x1(qu).x0(function(_){return _.base.x}):h=oh().x(qu).y1(Wu).y0(function(_){return _.base.y}),h.defined(mh).curve(c),h(y)}return s==="vertical"&&ne(a)?h=oh().y(Wu).x1(qu).x0(a):ne(a)?h=oh().x(qu).y1(Wu).y0(a):h=hM().x(qu).y(Wu),h.defined(mh).curve(c),h(f)},Ac=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ofe(e):i;return M.createElement("path",g_({},Pe(e,!1),Bp(e),{className:Me("recharts-curve",n),d:a,ref:o}))},pL={exports:{}},afe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sfe=afe,lfe=sfe;function mL(){}function gL(){}gL.resetWarningCache=mL;var ufe=function(){function t(r,i,o,a,s,l){if(l!==lfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gL,resetWarningCache:mL};return n.PropTypes=n,n};pL.exports=ufe();var cfe=pL.exports;const Fe=Ze(cfe),{getOwnPropertyNames:ffe,getOwnPropertySymbols:dfe}=Object,{hasOwnProperty:hfe}=Object.prototype;function Bv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function gh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function pfe(t){return t!=null?t[Symbol.toStringTag]:void 0}function KO(t){return ffe(t).concat(dfe(t))}const mfe=Object.hasOwn||((t,e)=>hfe.call(t,e));function cs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const gfe="__v",yfe="__o",vfe="_owner",{getOwnPropertyDescriptor:HO,keys:QO}=Object;function bfe(t,e){return t.byteLength===e.byteLength&&bm(new Uint8Array(t),new Uint8Array(e))}function _fe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function wfe(t,e){return t.byteLength===e.byteLength&&bm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function xfe(t,e){return cs(t.getTime(),e.getTime())}function Efe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tfe(t,e){return t===e}function YO(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Sfe=cs;function Ife(t,e,n){const r=QO(t);let i=r.length;if(QO(e).length!==i)return!1;for(;i-- >0;)if(!yL(t,e,n,r[i]))return!1;return!0}function Gu(t,e,n){const r=KO(t);let i=r.length;if(KO(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!yL(t,e,n,o)||(a=HO(t,o),s=HO(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Afe(t,e){return cs(t.valueOf(),e.valueOf())}function Pfe(t,e){return t.source===e.source&&t.flags===e.flags}function XO(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function bm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ofe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yL(t,e,n,r){return(r===vfe||r===yfe||r===gfe)&&(t.$$typeof||e.$$typeof)?!0:mfe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Cfe="[object ArrayBuffer]",kfe="[object Arguments]",Nfe="[object Boolean]",Rfe="[object DataView]",jfe="[object Date]",Dfe="[object Error]",Mfe="[object Map]",$fe="[object Number]",Lfe="[object Object]",Vfe="[object RegExp]",Ffe="[object Set]",Bfe="[object String]",Ufe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},zfe="[object URL]",qfe=Object.prototype.toString;function Wfe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(w,b,v){if(w===b)return!0;if(w==null||b==null)return!1;const x=typeof w;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?s(w,b,v):x==="function"?o(w,b,v):!1;const P=w.constructor;if(P!==b.constructor)return!1;if(P===Object)return l(w,b,v);if(Array.isArray(w))return e(w,b,v);if(P===Date)return r(w,b,v);if(P===RegExp)return c(w,b,v);if(P===Map)return a(w,b,v);if(P===Set)return f(w,b,v);const T=qfe.call(w);if(T===jfe)return r(w,b,v);if(T===Vfe)return c(w,b,v);if(T===Mfe)return a(w,b,v);if(T===Ffe)return f(w,b,v);if(T===Lfe)return typeof w.then!="function"&&typeof b.then!="function"&&l(w,b,v);if(T===zfe)return p(w,b,v);if(T===Dfe)return i(w,b,v);if(T===kfe)return l(w,b,v);if(Ufe[T])return h(w,b,v);if(T===Cfe)return t(w,b,v);if(T===Rfe)return n(w,b,v);if(T===Nfe||T===$fe||T===Bfe)return u(w,b,v);if(y){let I=y[T];if(!I){const E=pfe(w);E&&(I=y[E])}if(I)return I(w,b,v)}return!1}}function Gfe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:bfe,areArraysEqual:n?Gu:_fe,areDataViewsEqual:wfe,areDatesEqual:xfe,areErrorsEqual:Efe,areFunctionsEqual:Tfe,areMapsEqual:n?Bv(YO,Gu):YO,areNumbersEqual:Sfe,areObjectsEqual:n?Gu:Ife,arePrimitiveWrappersEqual:Afe,areRegExpsEqual:Pfe,areSetsEqual:n?Bv(XO,Gu):XO,areTypedArraysEqual:n?Bv(bm,Gu):bm,areUrlsEqual:Ofe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=gh(r.areArraysEqual),o=gh(r.areMapsEqual),a=gh(r.areObjectsEqual),s=gh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Kfe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Hfe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Qfe=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:()=>cs});Go({strict:!0,createInternalComparator:()=>cs});Go({circular:!0,createInternalComparator:()=>cs});Go({circular:!0,createInternalComparator:()=>cs,strict:!0});function Go(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Gfe(t),a=Wfe(o),s=n?n(a):Kfe(a);return Hfe({circular:e,comparator:a,createState:r,equals:s,strict:i})}function Yfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function JO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Yfe(i)};requestAnimationFrame(r)}function y_(t){"@babel/helpers - typeof";return y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(t)}function Xfe(t){return tde(t)||ede(t)||Zfe(t)||Jfe()}function Jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zfe(t,e){if(t){if(typeof t=="string")return ZO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZO(t,e)}}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ede(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tde(t){if(Array.isArray(t))return t}function nde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Xfe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){JO(i.bind(null,u),l);return}i(l),JO(i.bind(null,u));return}y_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){vL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vL(t,e,n){return e=rde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rde(t){var e=ide(t,"string");return Nf(e)==="symbol"?e:String(e)}function ide(t,e){if(Nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},ade=function(e){return e},sde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pc=function(e,n){return Object.keys(n).reduce(function(r,i){return tC(tC({},r),{},vL({},i,e(i,n[i])))},{})},nC=function(e,n,r){return e.map(function(i){return"".concat(sde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lde(t,e){return fde(t)||cde(t,e)||bL(t,e)||ude()}function ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fde(t){if(Array.isArray(t))return t}function dde(t){return mde(t)||pde(t)||bL(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function pde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mde(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _m=1e-4,_L=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},rC=function(e,n){return function(r){var i=_L(e,n);return wL(i,r)}},gde=function(e,n){return function(r){var i=_L(e,n),o=[].concat(dde(i.map(function(a,s){return a*s}).slice(1)),[0]);return wL(o,r)}},iC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=lde(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=rC(i,a),h=rC(o,s),p=gde(i,a),y=function(b){return b>1?1:b<0?0:b},_=function(b){for(var v=b>1?1:b,x=v,P=0;P<8;++P){var T=f(x)-v,I=p(x);if(Math.abs(T-v)<_m||I<_m)return h(x);x=y(x-T/I)}return h(x)};return _.isStepper=!1,_},yde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var p=-(c-f)*r,y=h*o,_=h+(p-y)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<_m&&Math.abs(_)<_m?[f,0]:[w,_]};return l.isStepper=!0,l.dt=s,l},vde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iC(i);case"spring":return yde();default:if(i.split("(")[0]==="cubic-bezier")return iC(i)}return typeof i=="function"?i:null};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function oC(t){return wde(t)||_de(t)||xL(t)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wde(t){if(Array.isArray(t))return __(t)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return e=xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xde(t){var e=Ede(t,"string");return Rf(e)==="symbol"?e:String(e)}function Ede(t,e){if(Rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tde(t,e){return Ade(t)||Ide(t,e)||xL(t,e)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xL(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ide(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ade(t){if(Array.isArray(t))return t}var wm=function(e,n,r){return e+(n-e)*r},w_=function(e){var n=e.from,r=e.to;return n!==r},Pde=function t(e,n,r){var i=Pc(function(o,a){if(w_(a)){var s=e(a.from,a.to,a.velocity),l=Tde(s,2),u=l[0],c=l[1];return Ht(Ht({},a),{},{from:u,velocity:c})}return a},n);return r<1?Pc(function(o,a){return w_(a)?Ht(Ht({},a),{},{velocity:wm(a.velocity,i[o].velocity,r),from:wm(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Ode=function(t,e,n,r,i){var o=ode(t,e),a=o.reduce(function(w,b){return Ht(Ht({},w),{},b_({},b,[t[b],e[b]]))},{}),s=o.reduce(function(w,b){return Ht(Ht({},w),{},b_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Pc(function(b,v){return v.from},s)},p=function(){return!Object.values(s).filter(w_).length},y=function(b){u||(u=b);var v=b-u,x=v/n.dt;s=Pde(n,s,x),i(Ht(Ht(Ht({},t),e),h())),u=b,p()||(l=requestAnimationFrame(f))},_=function(b){c||(c=b);var v=(b-c)/r,x=Pc(function(T,I){return wm.apply(void 0,oC(I).concat([n(v)]))},a);if(i(Ht(Ht(Ht({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var P=Pc(function(T,I){return wm.apply(void 0,oC(I).concat([n(1)]))},a);i(Ht(Ht(Ht({},t),e),P))}};return f=n.isStepper?y:_,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var Cde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kde(t,e){if(t==null)return{};var n=Nde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uv(t){return Mde(t)||Dde(t)||jde(t)||Rde()}function Rde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(t,e){if(t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function Dde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mde(t){if(Array.isArray(t))return x_(t)}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ac(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function Vde(t,e,n){return e&&Lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EL(t){var e=Fde(t,"string");return Pl(e)==="symbol"?e:String(e)}function Fde(t,e){if(Pl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function Ude(t){var e=zde();return function(){var r=xm(t),i;if(e){var o=xm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return T_(this,i)}}function T_(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(t)}function S_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}var ki=function(t){Bde(n,t);var e=Ude(n);function n(r,i){var o;$de(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(S_(o)),o.changeStyle=o.changeStyle.bind(S_(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),T_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},T_(o);o.state={style:l?ac({},l,u):u}}else o.state={style:{}};return o}return Vde(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?ac({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Qfe(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=y||u?f:i.to;if(this.state&&h){var w={style:l?ac({},l,_):_};(l&&h[l]!==_||!l&&h!==_)&&this.setState(w)}this.runAnimation(yr(yr({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Ode(a,s,vde(u),l,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(_,w,b){if(b===0)return _;var v=w.duration,x=w.easing,P=x===void 0?"ease":x,T=w.style,I=w.properties,E=w.onAnimationEnd,S=b>0?a[b-1]:w,O=I||Object.keys(T);if(typeof P=="function"||P==="spring")return[].concat(Uv(_),[o.runJSAnimation.bind(o,{from:S.style,to:T,duration:v,easing:P}),v]);var k=nC(O,v,P),C=yr(yr(yr({},S.style),T),{},{transition:k});return[].concat(Uv(_),[C,v,E]).filter(ade)};return this.manager.start([l].concat(Uv(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nde());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var _=s?ac({},s,l):l,w=nC(Object.keys(_),a,u);y.start([c,o,yr(yr({},_),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=kde(i,Cde),u=M.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var y=p.props,_=y.style,w=_===void 0?{}:_,b=y.className,v=M.cloneElement(p,yr(yr({},l),{},{style:yr(yr({},w),c),className:b}));return v};return u===1?f(M.Children.only(o)):D.createElement("div",null,M.Children.map(o,function(h){return f(h)}))}}]),n}(M.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function qde(t,e){return Hde(t)||Kde(t,e)||Gde(t,e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){if(t){if(typeof t=="string")return lC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Hde(t){if(Array.isArray(t))return t}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){Qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qde(t,e,n){return e=Yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yde(t){var e=Xde(t,"string");return jf(e)=="symbol"?e:e+""}function Xde(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fC=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Jde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Zde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X1=function(e){var n=cC(cC({},Zde),e),r=M.useRef(),i=M.useState(-1),o=qde(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&s(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,_=n.animationDuration,w=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Me("recharts-rectangle",p);return v?D.createElement(ki,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:_,animationEasing:y,isActive:v},function(P){var T=P.width,I=P.height,E=P.x,S=P.y;return D.createElement(ki,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,isActive:b,easing:y},D.createElement("path",Em({},Pe(n,!0),{className:x,d:fC(E,S,T,I,h),ref:r})))}):D.createElement("path",Em({},Pe(n,!0),{className:x,d:fC(l,u,c,f,h)}))};function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}var J1=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Me("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",I_({},Pe(e,!1),Bp(e),{className:a,cx:n,cy:r,r:i})):null};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var ehe=["x","y","top","left","width","height","className"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function the(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return Df(e)=="symbol"?e:e+""}function ihe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ohe(t,e){if(t==null)return{};var n=ahe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ahe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var she=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},lhe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,y=e.className,_=ohe(e,ehe),w=the({x:r,y:o,top:s,left:u,width:f,height:p},_);return!ne(r)||!ne(o)||!ne(f)||!ne(p)||!ne(s)||!ne(u)?null:D.createElement("path",A_({},Pe(w,!0),{className:Me("recharts-cross",y),d:she(r,o,f,p,s,u)}))},uhe=$M,che=uhe(Object.getPrototypeOf,Object),fhe=che,dhe=Di,hhe=fhe,phe=Mi,mhe="[object Object]",ghe=Function.prototype,yhe=Object.prototype,TL=ghe.toString,vhe=yhe.hasOwnProperty,bhe=TL.call(Object);function _he(t){if(!phe(t)||dhe(t)!=mhe)return!1;var e=hhe(t);if(e===null)return!0;var n=vhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&TL.call(n)==bhe}var whe=_he;const xhe=Ze(whe);var Ehe=Di,The=Mi,She="[object Boolean]";function Ihe(t){return t===!0||t===!1||The(t)&&Ehe(t)==She}var Ahe=Ihe;const Phe=Ze(Ahe);function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function Ohe(t,e){return Rhe(t)||Nhe(t,e)||khe(t,e)||Che()}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(t,e){if(t){if(typeof t=="string")return hC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hC(t,e)}}function hC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rhe(t){if(Array.isArray(t))return t}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return e=Dhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=Mhe(t,"string");return Mf(e)=="symbol"?e:e+""}function Mhe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gC=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},$he={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lhe=function(e){var n=mC(mC({},$he),e),r=M.useRef(),i=M.useState(-1),o=Ohe(i,2),a=o[0],s=o[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,_=n.animationDuration,w=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var v=Me("recharts-trapezoid",p);return b?D.createElement(ki,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:_,animationEasing:y,isActive:b},function(x){var P=x.upperWidth,T=x.lowerWidth,I=x.height,E=x.x,S=x.y;return D.createElement(ki,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,easing:y},D.createElement("path",Tm({},Pe(n,!0),{className:v,d:gC(E,S,P,T,I),ref:r})))}):D.createElement("g",null,D.createElement("path",Tm({},Pe(n,!0),{className:v,d:gC(l,u,c,f,h)})))},Vhe=["option","shapeType","propTransformer","activeClassName","isActive"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Fhe(t,e){if(t==null)return{};var n=Bhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){Uhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uhe(t,e,n){return e=zhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=qhe(t,"string");return $f(e)=="symbol"?e:e+""}function qhe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Whe(t,e){return Sm(Sm({},e),t)}function Ghe(t,e){return t==="symbols"}function vC(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(X1,n);case"trapezoid":return D.createElement(Lhe,n);case"sector":return D.createElement(hL,n);case"symbols":if(Ghe(e))return D.createElement(g1,n);break;default:return null}}function Khe(t){return M.isValidElement(t)?t.props:t}function Hhe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Whe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Fhe(t,Vhe),u;if(M.isValidElement(e))u=M.cloneElement(e,Sm(Sm({},l),Khe(e)));else if(Se(e))u=e(l);else if(xhe(e)&&!Phe(e)){var c=i(e,l);u=D.createElement(vC,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(vC,{shapeType:n,elementProps:f})}return s?D.createElement(gt,{className:a},u):u}function ay(t,e){return e!=null&&"trapezoids"in t.props}function sy(t,e){return e!=null&&"sectors"in t.props}function Lf(t,e){return e!=null&&"points"in t.props}function Qhe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Yhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Xhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Jhe(t,e){var n;return ay(t,e)?n=Qhe:sy(t,e)?n=Yhe:Lf(t,e)&&(n=Xhe),n}function Zhe(t,e){var n;return ay(t,e)?n="trapezoids":sy(t,e)?n="sectors":Lf(t,e)&&(n="points"),n}function epe(t,e){if(ay(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lf(t,e)?e.payload:{}}function tpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Zhe(n,e),o=epe(n,e),a=r.filter(function(l,u){var c=wf(o,l),f=n.props[i].filter(function(y){var _=Jhe(n,e);return _(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var npe=Math.ceil,rpe=Math.max;function ipe(t,e,n,r){for(var i=-1,o=rpe(npe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ope=ipe,ape=n$,bC=1/0,spe=17976931348623157e292;function lpe(t){if(!t)return t===0?t:0;if(t=ape(t),t===bC||t===-bC){var e=t<0?-1:1;return e*spe}return t===t?t:0}var SL=lpe,upe=ope,cpe=Qg,zv=SL;function fpe(t){return function(e,n,r){return r&&typeof r!="number"&&cpe(e,n,r)&&(n=r=void 0),e=zv(e),n===void 0?(n=e,e=0):n=zv(n),r=r===void 0?e<n?1:-1:zv(r),upe(e,n,r,t)}}var dpe=fpe,hpe=dpe,ppe=hpe(),mpe=ppe;const Im=Ze(mpe);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){IL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IL(t,e,n){return e=gpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return Vf(e)=="symbol"?e:e+""}function ype(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vpe=["Webkit","Moz","O","ms"],bpe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=vpe.reduce(function(o,a){return wC(wC({},o),{},IL({},a+r,n))},{});return i[e]=n,i};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PL(r.key),r)}}function wpe(t,e,n){return e&&EC(t.prototype,e),n&&EC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpe(t,e,n){return e=Pm(e),Epe(t,AL()?Reflect.construct(e,n||[],Pm(t).constructor):e.apply(t,n))}function Epe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(t)}function Tpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function Mn(t,e,n){return e=PL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PL(t){var e=Ipe(t,"string");return Ol(e)=="symbol"?e:e+""}function Ipe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ape=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Sc().domain(Im(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},TC=function(e){return e.changedTouches&&!!e.changedTouches.length},Cl=function(t){function e(n){var r;return _pe(this,e),r=xpe(this,e,[n]),Mn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Mn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mn(r,"handleSlideDragStart",function(i){var o=TC(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Spe(e,t),wpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Gn(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,_=r.pageX-o;_>0?_=Math.min(_,u+c-f-s,u+c-f-a):_<0&&(_=Math.max(_,u-a,u-s));var w=this.getIndex({startX:a+_,endX:s+_});(w.startIndex!==h||w.endIndex!==p)&&y&&y(w),this.setState({startX:a+_,endX:s+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=TC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.onChange,_=c.gap,w=c.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),b[a]=u+v;var x=this.getIndex(b),P=x.startIndex,T=x.endIndex,I=function(){var S=w.length-1;return a==="startX"&&(s>l?P%_===0:T%_===0)||s<l&&T===S||a==="endX"&&(s>l?T%_===0:P%_===0)||s>l&&T===S};this.setState(Mn(Mn({},a,u+v),"brushMoveStartX",r.pageX),function(){y&&I()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Mn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,_=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),v=qv(qv({},Pe(this.props,!1)),{},{x:b,y:u,width:c,height:f}),x=p||"Min value: ".concat((o=y[_])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[w])===null||a===void 0?void 0:a.name);return D.createElement(gt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,y={pointerEvents:"none",fill:u};return D.createElement(gt,{className:"recharts-brush-texts"},D.createElement(nm,Am({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},y),this.getTextOfTick(i)),D.createElement(nm,Am({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,_=h.isTextActive,w=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!ne(s)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var x=Me("recharts-brush",o),P=D.Children.count(a)===1,T=bpe("userSelect","none");return D.createElement(gt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(_||w||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return qv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ape({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(M.PureComponent);Mn(Cl,"displayName","Brush");Mn(Cl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ppe=E1;function Ope(t,e){var n;return Ppe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Cpe=Ope,kpe=OM,Npe=zo,Rpe=Cpe,jpe=jn,Dpe=Qg;function Mpe(t,e,n){var r=jpe(t)?kpe:Rpe;return n&&Dpe(t,e,n)&&(e=void 0),r(t,Npe(e))}var $pe=Mpe;const Lpe=Ze($pe);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},SC=XM;function Vpe(t,e,n){e=="__proto__"&&SC?SC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Fpe=Vpe,Bpe=Fpe,Upe=QM,zpe=zo;function qpe(t,e){var n={};return e=zpe(e),Upe(t,function(r,i,o){Bpe(n,i,e(r,i,o))}),n}var Wpe=qpe;const Gpe=Ze(Wpe);function Kpe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Hpe=Kpe,Qpe=E1;function Ype(t,e){var n=!0;return Qpe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Xpe=Ype,Jpe=Hpe,Zpe=Xpe,eme=zo,tme=jn,nme=Qg;function rme(t,e,n){var r=tme(t)?Jpe:Zpe;return n&&nme(t,e,n)&&(e=void 0),r(t,eme(e))}var ime=rme;const OL=Ze(ime);var ome=["x","y"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e,n){return e=sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=lme(t,"string");return Ff(e)=="symbol"?e:e+""}function lme(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ume(t,e){if(t==null)return{};var n=cme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fme(t,e){var n=t.x,r=t.y,i=ume(t,ome),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ku(Ku(Ku(Ku(Ku({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function AC(t){return D.createElement(Hhe,O_({shapeType:"rectangle",propTransformer:fme,activeClassName:"recharts-active-bar"},t))}var dme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||SH(r);return o?e(r,i):(o||Ya(),n)}},hme=["value","background"],CL;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function pme(t,e){if(t==null)return{};var n=mme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NL(r.key),r)}}function yme(t,e,n){return e&&OC(t.prototype,e),n&&OC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vme(t,e,n){return e=Cm(e),bme(t,kL()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function bme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(t)}function _me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function uo(t,e,n){return e=NL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NL(t){var e=xme(t,"string");return kl(e)=="symbol"?e:e+""}function xme(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=function(t){function e(){var n;gme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vme(this,e,[].concat(i)),uo(n,"state",{isAnimationFinished:!1}),uo(n,"id",fd("recharts-bar-")),uo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),uo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return wme(e,t),yme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Pe(this.props,!1);return r&&r.map(function(f,h){var p=h===l,y=p?u:a,_=Ot(Ot(Ot({},c),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(gt,Om({className:"recharts-bar-rectangle"},Up(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(AC,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(ki,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,_=o.map(function(w,b){var v=h&&h[b];if(v){var x=tr(v.x,w.x),P=tr(v.y,w.y),T=tr(v.width,w.width),I=tr(v.height,w.height);return Ot(Ot({},w),{},{x:x(y),y:P(y),width:T(y),height:I(y)})}if(a==="horizontal"){var E=tr(0,w.height),S=E(y);return Ot(Ot({},w),{},{y:w.y+w.height-S,height:S})}var O=tr(0,w.width),k=O(y);return Ot(Ot({},w),{},{width:k})});return D.createElement(gt,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!wf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Pe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=pme(u,hme);if(!f)return null;var p=Ot(Ot(Ot(Ot(Ot({},h),{},{fill:"#eee"},f),l),Up(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(AC,Om({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Pr(c,oy);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(w,b){var v=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:v,errorVal:Gn(w,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(gt,y,f.map(function(_){return D.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,_=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,b=Me("recharts-bar",a),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,P=v||x,T=Ne(_)?this.id:_;return D.createElement(gt,{className:b},v||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:v?u:u-f/2,y:x?c:c-h/2,width:v?f:f*2,height:x?h:h*2}))):null,D.createElement(gt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(T,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,T),(!p||w)&&To.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);CL=bi;uo(bi,"displayName","Bar");uo(bi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!au.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});uo(bi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Hue(r,n);if(!p)return null;var y=e.layout,_=n.type.defaultProps,w=_!==void 0?Ot(Ot({},_),n.props):n.props,b=w.dataKey,v=w.children,x=w.minPointSize,P=y==="horizontal"?a:o,T=u?P.scale.domain():null,I=nce({numericAxis:P}),E=Pr(v,i$),S=f.map(function(O,k){var C,j,N,z,B,Q;u?C=Que(u[c+k],T):(C=Gn(O,b),Array.isArray(C)||(C=[I,C]));var K=dme(x,CL.defaultProps.minPointSize)(C[1],k);if(y==="horizontal"){var $,q=[a.scale(C[0]),a.scale(C[1])],V=q[0],ee=q[1];j=kO({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:k}),N=($=ee??V)!==null&&$!==void 0?$:void 0,z=p.size;var Y=V-ee;if(B=Number.isNaN(Y)?0:Y,Q={x:j,y:a.y,width:z,height:a.height},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var te=Sr(B||K)*(Math.abs(K)-Math.abs(B));N-=te,B+=te}}else{var he=[o.scale(C[0]),o.scale(C[1])],we=he[0],Ue=he[1];if(j=we,N=kO({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:k}),z=Ue-we,B=p.size,Q={x:o.x,y:N,width:o.width,height:B},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var nt=Sr(z||K)*(Math.abs(K)-Math.abs(z));z+=nt}}return Ot(Ot(Ot({},O),{},{x:j,y:N,width:z,height:B,value:u?C:C[1],payload:O,background:Q},E&&E[k]&&E[k].props),{},{tooltipPayload:[cL(n,O)],tooltipPosition:{x:j+z/2,y:N+B/2}})});return Ot({data:S,layout:y},h)});function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function Tme(t,e,n){return e&&CC(t.prototype,e),n&&CC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ly(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=Sme(t,"string");return Bf(e)=="symbol"?e:e+""}function Sme(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jL=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ln(u,bi);return c.reduce(function(p,y){var _=n[y],w=_.orientation,b=_.domain,v=_.padding,x=v===void 0?{}:v,P=_.mirror,T=_.reversed,I="".concat(w).concat(P?"Mirror":""),E,S,O,k,C;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var j=b[1]-b[0],N=1/0,z=_.categoricalDomain.sort(PH);if(z.forEach(function(he,we){we>0&&(N=Math.min((he||0)-(z[we-1]||0),N))}),Number.isFinite(N)){var B=N/j,Q=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(E=B*Q/2),_.padding==="no-gap"){var K=Ha(e.barCategoryGap,B*Q),$=B*Q/2;E=$-K-($-K)/Q*K}}}i==="xAxis"?S=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:S=_.range,T&&(S=[S[1],S[0]]);var q=Gue(_,o,h),V=q.scale,ee=q.realScaleType;V.domain(b).range(S),Kue(V);var Y=tce(V,wr(wr({},_),{},{realScaleType:ee}));i==="xAxis"?(C=w==="top"&&!P||w==="bottom"&&P,O=r.left,k=f[I]-C*_.height):i==="yAxis"&&(C=w==="left"&&!P||w==="right"&&P,O=f[I]-C*_.width,k=r.top);var te=wr(wr(wr({},_),Y),{},{realScaleType:ee,x:O,y:k,scale:V,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return te.bandSize=gm(te,Y),!_.hide&&i==="xAxis"?f[I]+=(C?-1:1)*te.height:_.hide||(f[I]+=(C?-1:1)*te.width),wr(wr({},p),{},ly({},y,te))},{})},DL=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Ime=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return DL({x:n,y:r},{x:i,y:o})},ML=function(){function t(e){Eme(this,t),this.scale=e}return Tme(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ly(ML,"EPS",1e-4);var Z1=function(e){var n=Object.keys(e).reduce(function(r,i){return wr(wr({},r),{},ly({},i,ML.create(e[i])))},{});return wr(wr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Gpe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return OL(i,function(o,a){return n[a].isInRange(o)})}})};function Ame(t){return(t%180+180)%180}var Pme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ame(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ome=zo,Cme=dd,kme=Kg;function Nme(t){return function(e,n,r){var i=Object(e);if(!Cme(e)){var o=Ome(n);e=kme(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Rme=Nme,jme=SL;function Dme(t){var e=jme(t),n=e%1;return e===e?n?e-n:e:0}var Mme=Dme,$me=zM,Lme=zo,Vme=Mme,Fme=Math.max;function Bme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Vme(n);return i<0&&(i=Fme(r+i,0)),$me(t,Lme(e),i)}var Ume=Bme,zme=Rme,qme=Ume,Wme=zme(qme),Gme=Wme;const Kme=Ze(Gme);var Hme=kK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),eE=M.createContext(void 0),tE=M.createContext(void 0),$L=M.createContext(void 0),LL=M.createContext({}),VL=M.createContext(void 0),FL=M.createContext(0),BL=M.createContext(0),NC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Hme(o);return D.createElement(eE.Provider,{value:r},D.createElement(tE.Provider,{value:i},D.createElement(LL.Provider,{value:o},D.createElement($L.Provider,{value:c},D.createElement(VL.Provider,{value:a},D.createElement(FL.Provider,{value:u},D.createElement(BL.Provider,{value:l},s)))))))},Qme=function(){return M.useContext(VL)},UL=function(e){var n=M.useContext(eE);n==null&&Ya();var r=n[e];return r==null&&Ya(),r},Yme=function(){var e=M.useContext(eE);return io(e)},Xme=function(){var e=M.useContext(tE),n=Kme(e,function(r){return OL(r.domain,Number.isFinite)});return n||io(e)},zL=function(e){var n=M.useContext(tE);n==null&&Ya();var r=n[e];return r==null&&Ya(),r},Jme=function(){var e=M.useContext($L);return e},Zme=function(){return M.useContext(LL)},nE=function(){return M.useContext(BL)},rE=function(){return M.useContext(FL)};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function ege(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WL(r.key),r)}}function nge(t,e,n){return e&&tge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rge(t,e,n){return e=km(e),ige(t,qL()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function ige(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oge(t)}function oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function age(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){iE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iE(t,e,n){return e=WL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WL(t){var e=sge(t,"string");return Nl(e)=="symbol"?e:e+""}function sge(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lge(t,e){return dge(t)||fge(t,e)||cge(t,e)||uge()}function uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dge(t){if(Array.isArray(t))return t}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}var hge=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Se(e)?r=e(n):r=D.createElement("line",N_({},n,{className:"recharts-reference-line-line"})),r},pge=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,p=o.height;if(r){var y=u.y,_=e.y.apply(y,{position:a});if(Qr(u,"discard")&&!e.y.isInRange(_))return null;var w=[{x:c+h,y:_},{x:c,y:_}];return l==="left"?w.reverse():w}if(n){var b=u.x,v=e.x.apply(b,{position:a});if(Qr(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?x.reverse():x}if(i){var P=u.segment,T=P.map(function(I){return e.apply(I,{position:a})});return Qr(u,"discard")&&Lpe(T,function(I){return!e.isInRange(I)})?null:T}return null};function mge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Qme(),c=UL(i),f=zL(o),h=Jme();if(!u||!h)return null;yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Z1({x:c.scale,y:f.scale}),y=Lt(e),_=Lt(n),w=r&&r.length===2,b=pge(p,y,_,w,h,t.position,c.orientation,f.orientation,t);if(!b)return null;var v=lge(b,2),x=v[0],P=x.x,T=x.y,I=v[1],E=I.x,S=I.y,O=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,k=jC(jC({clipPath:O},Pe(t,!0)),{},{x1:P,y1:T,x2:E,y2:S});return D.createElement(gt,{className:Me("recharts-reference-line",s)},hge(a,k),ln.renderCallByParent(t,Ime({x1:P,y1:T,x2:E,y2:S})))}var uy=function(t){function e(){return ege(this,e),rge(this,e,arguments)}return age(e,t),nge(e,[{key:"render",value:function(){return D.createElement(mge,this.props)}}])}(D.Component);iE(uy,"displayName","ReferenceLine");iE(uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){cy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KL(r.key),r)}}function vge(t,e,n){return e&&yge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bge(t,e,n){return e=Nm(e),_ge(t,GL()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function _ge(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wge(t)}function wge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function xge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function cy(t,e,n){return e=KL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KL(t){var e=Ege(t,"string");return Rl(e)=="symbol"?e:e+""}function Ege(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tge=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Z1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!a.isInRange(s)?null:s},fy=function(t){function e(){return gge(this,e),bge(this,e,arguments)}return xge(e,t),vge(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Lt(i),c=Lt(o);if(yi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Tge(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,_=y.shape,w=y.className,b=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=$C($C({clipPath:b},Pe(this.props,!0)),{},{cx:h,cy:p});return D.createElement(gt,{className:Me("recharts-reference-dot",w)},e.renderDot(_,v),ln.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);cy(fy,"displayName","ReferenceDot");cy(fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cy(fy,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Se(t)?n=t(e):n=D.createElement(J1,R_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function Age(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,n){return e=Rm(e),Oge(t,HL()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function Oge(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cge(t)}function Cge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function dy(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=Nge(t,"string");return jl(e)=="symbol"?e:e+""}function Nge(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rge=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=Z1({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:DL(p,y)},hy=function(t){function e(){return Sge(this,e),Pge(this,e,arguments)}return kge(e,t),Age(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;yi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lt(i),h=Lt(o),p=Lt(a),y=Lt(s),_=this.props.shape;if(!f&&!h&&!p&&!y&&!_)return null;var w=Rge(f,h,p,y,this.props);if(!w&&!_)return null;var b=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(gt,{className:Me("recharts-reference-area",l)},e.renderRect(_,VC(VC({clipPath:b},Pe(this.props,!0)),w)),ln.renderCallByParent(this.props,w))}}])}(D.Component);dy(hy,"displayName","ReferenceArea");dy(hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dy(hy,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Se(t)?n=t(e):n=D.createElement(X1,D_({},e,{className:"recharts-reference-area-rect"})),n});function YL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function jge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Pme(r,n)}function Dge(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function jm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Mge(t,e){return YL(t,e+1)}function $ge(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:YL(r,u)};var _=l,w,b=function(){return w===void 0&&(w=n(y,_)),w},v=y.coordinate,x=l===0||jm(t,v,b,c,s);x||(l=0,c=a,u+=1),x&&(c=v+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){Lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lge(t,e,n){return e=Vge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vge(t){var e=Fge(t,"string");return Uf(e)=="symbol"?e:e+""}function Fge(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bge(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],y,_=function(){return y===void 0&&(y=n(p,h)),y};if(h===a-1){var w=t*(p.coordinate+t*_()/2-l);o[h]=p=an(an({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else o[h]=p=an(an({},p),{},{tickCoord:p.coordinate});var b=jm(t,p.tickCoord,_,s,l);b&&(l=p.tickCoord-t*(_()/2+i),o[h]=an(an({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Uge(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=an(an({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=jm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=an(an({},c),{},{isShow:!0}))}for(var y=o?s-1:s,_=function(v){var x=a[v],P,T=function(){return P===void 0&&(P=n(x,v)),P};if(v===0){var I=t*(x.coordinate-t*T()/2-l);a[v]=x=an(an({},x),{},{tickCoord:I<0?x.coordinate-I*t:x.coordinate})}else a[v]=x=an(an({},x),{},{tickCoord:x.coordinate});var E=jm(t,x.tickCoord,T,l,u);E&&(l=x.tickCoord+t*(T()/2+i),a[v]=an(an({},x),{},{isShow:!0}))},w=0;w<y;w++)_(w);return a}function oE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||au.isSsr)return Mge(i,typeof l=="number"&&ne(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=c&&p==="width"?Tc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(x,P){var T=Se(u)?u(x.value,P):x.value;return p==="width"?jge(Tc(T,{fontSize:e,letterSpacing:n}),y,f):Tc(T,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?Sr(i[1].coordinate-i[0].coordinate):1,b=Dge(o,w,p);return l==="equidistantPreserveStart"?$ge(w,b,_,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Uge(w,b,_,i,a,l==="preserveStartEnd"):h=Bge(w,b,_,i,a),h.filter(function(v){return v.isShow}))}var zge=["viewBox"],qge=["viewBox"],Wge=["ticks"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){aE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wv(t,e){if(t==null)return{};var n=Gge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JL(r.key),r)}}function Hge(t,e,n){return e&&UC(t.prototype,e),n&&UC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qge(t,e,n){return e=Dm(e),Yge(t,XL()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function Yge(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xge(t)}function Xge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function Jge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function aE(t,e,n){return e=JL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t){var e=Zge(t,"string");return Dl(e)=="symbol"?e:e+""}function Zge(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cu=function(t){function e(n){var r;return Kge(this,e),r=Qge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Jge(e,t),Hge(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Wv(r,zge),s=this.props,l=s.viewBox,u=Wv(s,qge);return!tl(o,l)||!tl(a,u)||!tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,_,w,b,v,x=f?-1:1,P=r.tickSize||c,T=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,w=a+ +!f*l,_=w-x*P,v=_-x*h,b=T;break;case"left":_=w=r.coordinate,y=o+ +!f*s,p=y-x*P,b=p-x*h,v=T;break;case"right":_=w=r.coordinate,y=o+ +f*s,p=y+x*P,b=p+x*h,v=T;break;default:p=y=r.coordinate,w=a+ +f*l,_=w+x*P,v=_+x*h,b=T;break}return{line:{x1:p,y1:_,x2:y,y2:w},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=jt(jt(jt({},Pe(this.props,!1)),Pe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=jt(jt({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=jt(jt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",zs({},f,{className:Me("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=oE(jt(jt({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),w=Pe(this.props,!1),b=Pe(c,!1),v=jt(jt({},w),{},{fill:"none"},Pe(l,!1)),x=p.map(function(P,T){var I=a.getTickLineCoord(P),E=I.line,S=I.tick,O=jt(jt(jt(jt({textAnchor:y,verticalAnchor:_},w),{},{stroke:"none",fill:u},b),S),{},{index:T,payload:P,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(gt,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Up(a.props,P,T)),l&&D.createElement("line",zs({},v,E,{className:Me("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(Se(f)?f(P.value,T):P.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Wv(f,Wge),y=h;return Se(l)&&(y=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!y||!y.length?null:D.createElement(gt,{className:Me("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Me(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,jt(jt({},i),{},{className:s})):Se(r)?a=r(jt(jt({},i),{},{className:s})):a=D.createElement(nm,zs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(M.Component);aE(cu,"displayName","CartesianAxis");aE(cu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eye=["x1","y1","x2","y2","key"],tye=["offset"];function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nye(t,e,n){return e=rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rye(t){var e=iye(t,"string");return Xa(e)=="symbol"?e:e+""}function iye(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}function qC(t,e){if(t==null)return{};var n=oye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aye=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZL(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=qC(e,eye),u=Pe(l,!1);u.offset;var c=qC(u,tye);n=D.createElement("line",_a({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function sye(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=un(un({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return ZL(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function lye(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=un(un({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return ZL(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function uye(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],_=y?i+a-h:c[p+1]-h;if(_<=0)return null;var w=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:_,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function cye(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],_=y?o+s-h:c[p+1]-h;if(_<=0)return null;var w=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:_,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fye=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return lL(oE(un(un(un({},cu.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},dye=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return lL(oE(un(un(un({},cu.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Es={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function L_(t){var e,n,r,i,o,a,s=nE(),l=rE(),u=Zme(),c=un(un({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Es.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Es.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Es.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Es.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Es.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Es.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,y=c.height,_=c.syncWithTicks,w=c.horizontalValues,b=c.verticalValues,v=Yme(),x=Xme();if(!ne(p)||p<=0||!ne(y)||y<=0||!ne(f)||f!==+f||!ne(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||fye,T=c.horizontalCoordinatesGenerator||dye,I=c.horizontalPoints,E=c.verticalPoints;if((!I||!I.length)&&Se(T)){var S=w&&w.length,O=T({yAxis:x?un(un({},x),{},{ticks:S?w:x.ticks}):void 0,width:s,height:l,offset:u},S?!0:_);yi(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xa(O),"]")),Array.isArray(O)&&(I=O)}if((!E||!E.length)&&Se(P)){var k=b&&b.length,C=P({xAxis:v?un(un({},v),{},{ticks:k?b:v.ticks}):void 0,width:s,height:l,offset:u},k?!0:_);yi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xa(C),"]")),Array.isArray(C)&&(E=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(aye,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(sye,_a({},c,{offset:u,horizontalPoints:I,xAxis:v,yAxis:x})),D.createElement(lye,_a({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:x})),D.createElement(uye,_a({},c,{horizontalPoints:I})),D.createElement(cye,_a({},c,{verticalPoints:E})))}L_.displayName="CartesianGrid";var hye=["layout","type","stroke","connectNulls","isRange","ref"],pye=["key"],eV;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function tV(t,e){if(t==null)return{};var n=mye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rV(r.key),r)}}function yye(t,e,n){return e&&GC(t.prototype,e),n&&GC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,n){return e=Mm(e),bye(t,nV()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(t)}function _ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Br(t,e,n){return e=rV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rV(t){var e=xye(t,"string");return Ml(e)=="symbol"?e:e+""}function xye(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ko=function(t){function e(){var n;gye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vye(this,e,[].concat(i)),Br(n,"state",{isAnimationFinished:!0}),Br(n,"id",fd("recharts-area-")),Br(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(a)&&a()}),Br(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(a)&&a()}),n}return wye(e,t),yye(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=Pe(this.props,!1),p=Pe(u,!0),y=c.map(function(w,b){var v=Ki(Ki(Ki({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:c});return e.renderDotItem(u,v)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(gt,wa({className:"recharts-area-dots"},_),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),f=lo(a.map(function(h){return h.y||0}));return ne(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(lo(o.map(function(h){return h.y||0})),f)),ne(f)?D.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),f=lo(a.map(function(h){return h.x||0}));return ne(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(lo(o.map(function(h){return h.x||0})),f)),ne(f)?D.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=tV(s,hye);return D.createElement(gt,{clipPath:o?"url(#clipPath-".concat(a,")"):null},D.createElement(Ac,wa({},Pe(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&D.createElement(Ac,wa({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&D.createElement(Ac,wa({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state,_=y.prevPoints,w=y.prevBaseLine;return D.createElement(ki,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(_){var x=_.length/s.length,P=s.map(function(S,O){var k=Math.floor(O*x);if(_[k]){var C=_[k],j=tr(C.x,S.x),N=tr(C.y,S.y);return Ki(Ki({},S),{},{x:j(v),y:N(v)})}return S}),T;if(ne(l)&&typeof l=="number"){var I=tr(w,l);T=I(v)}else if(Ne(l)||nu(l)){var E=tr(w,0);T=E(v)}else T=l.map(function(S,O){var k=Math.floor(O*x);if(w[k]){var C=w[k],j=tr(C.x,S.x),N=tr(C.y,S.y);return Ki(Ki({},S),{},{x:j(v),y:N(v)})}return S});return o.renderAreaStatically(P,T,r,i)}return D.createElement(gt,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(v))),D.createElement(gt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!wf(c,a)||!wf(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,_=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,v=s.length===1,x=Me("recharts-area",l),P=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,I=P||T,E=Ne(w)?this.id:w,S=(r=Pe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=S.r,k=O===void 0?3:O,C=S.strokeWidth,j=C===void 0?2:C,N=$H(a)?a:{},z=N.clipDot,B=z===void 0?!0:z,Q=k*2+j;return D.createElement(gt,{className:x},P||T?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:P?c:c-p/2,y:T?u:u-y/2,width:P?p:p*2,height:T?y:y*2})),!B&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:c-Q/2,y:u-Q/2,width:p+Q,height:y+Q}))):null,v?null:this.renderArea(I,E),(a||v)&&this.renderDots(I,B,E),(!_||b)&&To.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(M.PureComponent);eV=Ko;Br(Ko,"displayName","Area");Br(Ko,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!au.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Br(Ko,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ne(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Br(Ko,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=u&&u.length,_=eV.getBaseValue(e,n,r,i),w=p==="horizontal",b=!1,v=f.map(function(P,T){var I;y?I=u[c+T]:(I=Gn(P,l),Array.isArray(I)?b=!0:I=[_,I]);var E=I[1]==null||y&&Gn(P,l)==null;return w?{x:CO({axis:r,ticks:o,bandSize:s,entry:P,index:T}),y:E?null:i.scale(I[1]),value:I,payload:P}:{x:E?null:r.scale(I[1]),y:CO({axis:i,ticks:a,bandSize:s,entry:P,index:T}),value:I,payload:P}}),x;return y||b?x=v.map(function(P){var T=Array.isArray(P.value)?P.value[0]:null;return w?{x:P.x,y:T!=null&&P.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:P.y}}):x=w?i.scale(_):r.scale(_),Ki({points:v,baseLine:x,layout:p,isRange:b},h)});Br(Ko,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=tV(e,pye);n=D.createElement(J1,wa({},o,{key:i,className:r}))}return n});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aV(r.key),r)}}function Sye(t,e,n){return e&&Tye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iye(t,e,n){return e=$m(e),Aye(t,iV()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function Aye(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(t)}function Pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function Oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function oV(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=Cye(t,"string");return $l(e)=="symbol"?e:e+""}function Cye(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function kye(t){var e=t.xAxisId,n=nE(),r=rE(),i=UL(e);return i==null?null:M.createElement(cu,B_({},i,{className:Me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return hi(a,!0)}}))}var Ll=function(t){function e(){return Eye(this,e),Iye(this,e,arguments)}return Oye(e,t),Sye(e,[{key:"render",value:function(){return M.createElement(kye,this.props)}}])}(M.Component);oV(Ll,"displayName","XAxis");oV(Ll,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function jye(t,e,n){return e&&Rye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dye(t,e,n){return e=Lm(e),Mye(t,sV()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function Mye(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ye(t)}function $ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function Lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function lV(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=Vye(t,"string");return Vl(e)=="symbol"?e:e+""}function Vye(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}var Fye=function(e){var n=e.yAxisId,r=nE(),i=rE(),o=zL(n);return o==null?null:M.createElement(cu,z_({},o,{className:Me("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},yd=function(t){function e(){return Nye(this,e),Dye(this,e,arguments)}return Lye(e,t),jye(e,[{key:"render",value:function(){return M.createElement(Fye,this.props)}}])}(M.Component);lV(yd,"displayName","YAxis");lV(yd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KC(t){return qye(t)||zye(t)||Uye(t)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uye(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function zye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qye(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W_=function(e,n,r,i,o){var a=Pr(e,uy),s=Pr(e,fy),l=[].concat(KC(a),KC(s)),u=Pr(e,hy),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(_,w){if(w.props[c]===r&&Qr(w.props,"extendDomain")&&ne(w.props[f])){var b=w.props[f];return[Math.min(_[0],b),Math.max(_[1],b)]}return _},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(_,w){if(w.props[c]===r&&Qr(w.props,"extendDomain")&&ne(w.props[p])&&ne(w.props[y])){var b=w.props[p],v=w.props[y];return[Math.min(_[0],b,v),Math.max(_[1],b,v)]}return _},h)}return o&&o.length&&(h=o.reduce(function(_,w){return ne(w)?[Math.min(_[0],w),Math.max(_[1],w)]:_},h)),h},cV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,y){var _=n?n+u:u;if(!this._events[_])return!1;var w=this._events[_],b=arguments.length,v,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,p),!0;case 6:return w.fn.call(w.context,c,f,h,p,y),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];w.fn.apply(w.context,v)}else{var P=w.length,T;for(x=0;x<P;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),b){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,c);break;case 3:w[x].fn.call(w[x].context,c,f);break;case 4:w[x].fn.call(w[x].context,c,f,h);break;default:if(!v)for(T=1,v=new Array(b-1);T<b;T++)v[T-1]=arguments[T];w[x].fn.apply(w[x].context,v)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&a(this,p);else{for(var _=0,w=[],b=y.length;_<b;_++)(y[_].fn!==c||h&&!y[_].once||f&&y[_].context!==f)&&w.push(y[_]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(cV);var Wye=cV.exports;const Gye=Ze(Wye);var Gv=new Gye,Kv="recharts.syncMouseEvents";function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function Qye(t,e,n){return e&&Hye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hv(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=Yye(t,"string");return zf(e)=="symbol"?e:e+""}function Yye(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xye=function(){function t(){Kye(this,t),Hv(this,"activeIndex",0),Hv(this,"coordinateList",[]),Hv(this,"layout","horizontal")}return Qye(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Jye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function Zye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Xt(e,n,r,i),s=Xt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function eve(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Xt(s,l,u,f),p=Xt(s,l,c,f);r=h.x,i=h.y,o=p.x,a=p.y}else return dV(e);return[{x:r,y:i},{x:o,y:a}]}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return e=nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return qf(e)=="symbol"?e:e+""}function rve(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ive(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,_=Ac;if(h==="ScatterChart")y=a,_=lhe;else if(h==="BarChart")y=Zye(f,a,l,c),_=X1;else if(f==="radial"){var w=dV(a),b=w.cx,v=w.cy,x=w.radius,P=w.startAngle,T=w.endAngle;y={cx:b,cy:v,startAngle:P,endAngle:T,innerRadius:x,outerRadius:x},_=hL}else y={points:eve(f,a,l)},_=Ac;var I=yh(yh(yh(yh({stroke:"#ccc",pointerEvents:"none"},l),y),Pe(p,!1)),{},{payload:s,payloadIndex:u,className:Me("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,I):M.createElement(_,I)}var ove=["item"],ave=["children","className","width","height","style","compact","title","desc"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function QC(t,e){return uve(t)||lve(t,e)||pV(t,e)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function uve(t){if(Array.isArray(t))return t}function YC(t,e){if(t==null)return{};var n=cve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mV(r.key),r)}}function hve(t,e,n){return e&&dve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pve(t,e,n){return e=Vm(e),mve(t,hV()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function mve(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gve(t)}function gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function yve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function Bl(t){return _ve(t)||bve(t)||pV(t)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ve(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ge(t,e,n){return e=mV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=wve(t,"string");return Fl(e)=="symbol"?e:e+""}function wve(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xve={xAxis:["bottom","top"],yAxis:["left","right"]},Eve={width:"100%",height:"100%"},gV={x:0,y:0};function vh(t){return t}var Tve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Sve=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return G(G(G({},i),Xt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return gV},py=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Bl(s),Bl(u)):s},[]);return a.length>0?a:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function yV(t){return t==="number"?[0,"auto"]:void 0}var H_=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=py(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=Fp(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Bl(l),[cL(u,h)]):l},[])},JC=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Tve(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Fue(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=H_(e,n,c,f),p=Sve(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Ive=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=sL(c,o);return r.reduce(function(y,_){var w,b=_.type.defaultProps!==void 0?G(G({},_.type.defaultProps),_.props):_.props,v=b.type,x=b.dataKey,P=b.allowDataOverflow,T=b.allowDuplicatedCategory,I=b.scale,E=b.ticks,S=b.includeHidden,O=b[a];if(y[O])return y;var k=py(e.data,{graphicalItems:i.filter(function(Y){var te,he=a in Y.props?Y.props[a]:(te=Y.type.defaultProps)===null||te===void 0?void 0:te[a];return he===O}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,z;Jye(b.domain,P,v)&&(j=d_(b.domain,null,P),p&&(v==="number"||I!=="auto")&&(z=Ic(k,x,"category")));var B=yV(v);if(!j||j.length===0){var Q,K=(Q=b.domain)!==null&&Q!==void 0?Q:B;if(x){if(j=Ic(k,x,v),v==="category"&&p){var $=AH(j);T&&$?(N=j,j=Im(0,C)):T||(j=jO(K,j,_).reduce(function(Y,te){return Y.indexOf(te)>=0?Y:[].concat(Bl(Y),[te])},[]))}else if(v==="category")T?j=j.filter(function(Y){return Y!==""&&!Ne(Y)}):j=jO(K,j,_).reduce(function(Y,te){return Y.indexOf(te)>=0||te===""||Ne(te)?Y:[].concat(Bl(Y),[te])},[]);else if(v==="number"){var q=Wue(k,i.filter(function(Y){var te,he,we=a in Y.props?Y.props[a]:(te=Y.type.defaultProps)===null||te===void 0?void 0:te[a],Ue="hide"in Y.props?Y.props.hide:(he=Y.type.defaultProps)===null||he===void 0?void 0:he.hide;return we===O&&(S||!Ue)}),x,o,c);q&&(j=q)}p&&(v==="number"||I!=="auto")&&(z=Ic(k,x,"category"))}else p?j=Im(0,C):s&&s[O]&&s[O].hasStack&&v==="number"?j=h==="expand"?[0,1]:uL(s[O].stackGroups,l,u):j=aL(k,i.filter(function(Y){var te=a in Y.props?Y.props[a]:Y.type.defaultProps[a],he="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return te===O&&(S||!he)}),v,c,!0);if(v==="number")j=W_(f,j,O,o,E),K&&(j=d_(K,j,P));else if(v==="category"&&K){var V=K,ee=j.every(function(Y){return V.indexOf(Y)>=0});ee&&(j=V)}}return G(G({},y),{},ge({},O,G(G({},b),{},{axisType:o,domain:j,categoricalDomain:z,duplicateDomain:N,originalDomain:(w=b.domain)!==null&&w!==void 0?w:B,isCategorical:p,layout:c})))},{})},Ave=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=py(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,y=sL(c,o),_=-1;return r.reduce(function(w,b){var v=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,x=v[a],P=yV("number");if(!w[x]){_++;var T;return y?T=Im(0,p):s&&s[x]&&s[x].hasStack?(T=uL(s[x].stackGroups,l,u),T=W_(f,T,x,o)):(T=d_(P,aL(h,r.filter(function(I){var E,S,O=a in I.props?I.props[a]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[a],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return O===x&&!k}),"number",c),i.defaultProps.allowDataOverflow),T=W_(f,T,x,o)),G(G({},w),{},ge({},x,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(xve,"".concat(o,".").concat(_%2),null),domain:T,originalDomain:P,isCategorical:y,layout:c})))}return w},{})},Pve=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Pr(c,o),p={};return h&&h.length?p=Ive(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=Ave(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Ove=function(e){var n=io(e),r=hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:T1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gm(n,r)}},ZC=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,Cl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Cve=function(e){return!e||!e.length?!1:e.some(function(n){var r=gi(n&&n.type);return r&&r.indexOf("Bar")>=0})},ek=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kve=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Ln(f,Cl),y=Ln(f,Ia),_=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?G(G({},T),{},ge({},S,T[S]+E.width)):T},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(T,I){var E=a[I],S=E.orientation;return!E.mirror&&!E.hide?G(G({},T),{},ge({},S,ur(T,"".concat(S))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),b=G(G({},w),_),v=b.bottom;p&&(b.bottom+=p.props.height||Cl.defaultProps.height),y&&n&&(b=zue(b,i,r,n));var x=u-b.left-b.right,P=c-b.top-b.bottom;return G(G({brushBottom:v},b),{},{width:Math.max(x,0),height:Math.max(P,0)})},Nve=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},vV=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(b,v){var x=v.graphicalItems,P=v.stackGroups,T=v.offset,I=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,O=b.barSize,k=b.layout,C=b.barGap,j=b.barCategoryGap,N=b.maxBarSize,z=ek(k),B=z.numericAxisName,Q=z.cateAxisName,K=Cve(x),$=[];return x.forEach(function(q,V){var ee=py(b.data,{graphicalItems:[q],dataStartIndex:E,dataEndIndex:S}),Y=q.type.defaultProps!==void 0?G(G({},q.type.defaultProps),q.props):q.props,te=Y.dataKey,he=Y.maxBarSize,we=Y["".concat(B,"Id")],Ue=Y["".concat(Q,"Id")],nt={},At=l.reduce(function(Tn,Qn){var jr=v["".concat(Qn.axisType,"Map")],Li=Y["".concat(Qn.axisType,"Id")];jr&&jr[Li]||Qn.axisType==="zAxis"||Ya();var fs=jr[Li];return G(G({},Tn),{},ge(ge({},Qn.axisType,fs),"".concat(Qn.axisType,"Ticks"),hi(fs)))},nt),oe=At[Q],me=At["".concat(Q,"Ticks")],ye=P&&P[we]&&P[we].hasStack&&rce(q,P[we].stackGroups),X=gi(q.type).indexOf("Bar")>=0,je=gm(oe,me),_e=[],Ve=K&&Bue({barSize:O,stackGroups:P,totalSize:Nve(At,Q)});if(X){var W,be,Ye=Ne(he)?N:he,dt=(W=(be=gm(oe,me,!0))!==null&&be!==void 0?be:Ye)!==null&&W!==void 0?W:0;_e=Uue({barGap:C,barCategoryGap:j,bandSize:dt!==je?dt:je,sizeList:Ve[Ue],maxBarSize:Ye}),dt!==je&&(_e=_e.map(function(Tn){return G(G({},Tn),{},{position:G(G({},Tn.position),{},{offset:Tn.position.offset-dt/2})})}))}var Ge=q&&q.type&&q.type.getComposedData;Ge&&$.push({props:G(G({},Ge(G(G({},At),{},{displayedData:ee,props:b,dataKey:te,item:q,bandSize:je,barPosition:_e,offset:T,stackedData:ye,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},ge(ge(ge({key:q.key||"item-".concat(V)},B,At[B]),Q,At[Q]),"animationId",I)),childIndex:FH(q,b.children),item:q})}),$},p=function(b,v){var x=b.props,P=b.dataStartIndex,T=b.dataEndIndex,I=b.updateId;if(!IA({props:x}))return null;var E=x.children,S=x.layout,O=x.stackOffset,k=x.data,C=x.reverseStackOrder,j=ek(S),N=j.numericAxisName,z=j.cateAxisName,B=Pr(E,r),Q=ece(k,B,"".concat(N,"Id"),"".concat(z,"Id"),O,C),K=l.reduce(function(Y,te){var he="".concat(te.axisType,"Map");return G(G({},Y),{},ge({},he,Pve(x,G(G({},te),{},{graphicalItems:B,stackGroups:te.axisType===N&&Q,dataStartIndex:P,dataEndIndex:T}))))},{}),$=kve(G(G({},K),{},{props:x,graphicalItems:B}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(Y){K[Y]=c(x,K[Y],$,Y.replace("Map",""),n)});var q=K["".concat(z,"Map")],V=Ove(q),ee=h(x,G(G({},K),{},{dataStartIndex:P,dataEndIndex:T,updateId:I,graphicalItems:B,stackGroups:Q,offset:$}));return G(G({formattedGraphicalItems:ee,graphicalItems:B,offset:$,stackGroups:Q},V),K)},y=function(w){function b(v){var x,P,T;return fve(this,b),T=pve(this,b,[v]),ge(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(T,"accessibilityManager",new Xye),ge(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,S=E.dataStartIndex,O=E.dataEndIndex,k=E.updateId;T.setState(G({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:O,updateId:k},G(G({},T.state),{},{legendBBox:I}))))}}),ge(T,"handleReceiveSyncEvent",function(I,E,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),ge(T,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var O=T.state.updateId;T.setState(function(){return G({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:O},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),ge(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var S=G(G({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var O=T.props.onMouseEnter;Se(O)&&O(S,I)}}),ge(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),S=E?G(G({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var O=T.props.onMouseMove;Se(O)&&O(S,I)}),ge(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),ge(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ge(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),ge(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;Se(S)&&S(E,I)}),ge(T,"handleOuterEvent",function(I){var E=VH(I),S=ur(T.props,"".concat(E));if(E&&Se(S)){var O,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(I.changedTouches[0]):k=T.getMouseInfo(I),S((O=k)!==null&&O!==void 0?O:{},I)}}),ge(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var S=G(G({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var O=T.props.onClick;Se(O)&&O(S,I)}}),ge(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(Se(E)){var S=T.getMouseInfo(I);E(S,I)}}),ge(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(Se(E)){var S=T.getMouseInfo(I);E(S,I)}}),ge(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),ge(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),ge(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),ge(T,"handleDoubleClick",function(I){var E=T.props.onDoubleClick;if(Se(E)){var S=T.getMouseInfo(I);E(S,I)}}),ge(T,"handleContextMenu",function(I){var E=T.props.onContextMenu;if(Se(E)){var S=T.getMouseInfo(I);E(S,I)}}),ge(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&Gv.emit(Kv,T.props.syncId,I,T.eventEmitterSymbol)}),ge(T,"applySyncEvent",function(I){var E=T.props,S=E.layout,O=E.syncMethod,k=T.state.updateId,C=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(G({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:k},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,z=I.chartY,B=I.activeTooltipIndex,Q=T.state,K=Q.offset,$=Q.tooltipTicks;if(!K)return;if(typeof O=="function")B=O($,I);else if(O==="value"){B=-1;for(var q=0;q<$.length;q++)if($[q].value===I.activeLabel){B=q;break}}var V=G(G({},K),{},{x:K.left,y:K.top}),ee=Math.min(N,V.x+V.width),Y=Math.min(z,V.y+V.height),te=$[B]&&$[B].value,he=H_(T.state,T.props.data,B),we=$[B]?{x:S==="horizontal"?$[B].coordinate:ee,y:S==="horizontal"?Y:$[B].coordinate}:gV;T.setState(G(G({},I),{},{activeLabel:te,activeCoordinate:we,activePayload:he,activeTooltipIndex:B}))}else T.setState(I)}),ge(T,"renderCursor",function(I){var E,S=T.state,O=S.isTooltipActive,k=S.activeCoordinate,C=S.activePayload,j=S.offset,N=S.activeTooltipIndex,z=S.tooltipAxisBandSize,B=T.getTooltipEventType(),Q=(E=I.props.active)!==null&&E!==void 0?E:O,K=T.props.layout,$=I.key||"_recharts-cursor";return D.createElement(ive,{key:$,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:I,isActive:Q,layout:K,offset:j,tooltipAxisBandSize:z,tooltipEventType:B})}),ge(T,"renderPolarAxis",function(I,E,S){var O=ur(I,"type.axisType"),k=ur(T.state,"".concat(O,"Map")),C=I.type.defaultProps,j=C!==void 0?G(G({},C),I.props):I.props,N=k&&k[j["".concat(O,"Id")]];return M.cloneElement(I,G(G({},N),{},{className:Me(O,N.className),key:I.key||"".concat(E,"-").concat(S),ticks:hi(N,!0)}))}),ge(T,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,O=E.polarAngles,k=E.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,z=io(j),B=io(N),Q=B.cx,K=B.cy,$=B.innerRadius,q=B.outerRadius;return M.cloneElement(I,{polarAngles:Array.isArray(O)?O:hi(B,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(k)?k:hi(z,!0).map(function(V){return V.coordinate}),cx:Q,cy:K,innerRadius:$,outerRadius:q,key:I.key||"polar-grid",radialLines:S})}),ge(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,S=E.children,O=E.width,k=E.height,C=T.props.margin||{},j=O-(C.left||0)-(C.right||0),N=iL({children:S,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!N)return null;var z=N.item,B=YC(N,ove);return M.cloneElement(z,G(G({},B),{},{chartWidth:O,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ge(T,"renderTooltip",function(){var I,E=T.props,S=E.children,O=E.accessibilityLayer,k=Ln(S,_r);if(!k)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,z=C.activePayload,B=C.activeLabel,Q=C.offset,K=(I=k.props.active)!==null&&I!==void 0?I:j;return M.cloneElement(k,{viewBox:G(G({},Q),{},{x:Q.left,y:Q.top}),active:K,label:B,payload:K?z:[],coordinate:N,accessibilityLayer:O})}),ge(T,"renderBrush",function(I){var E=T.props,S=E.margin,O=E.data,k=T.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,z=k.updateId;return M.cloneElement(I,{key:I.key||"_recharts-brush",onChange:hh(T.handleBrushChange,I.props.onChange),data:O,x:ne(I.props.x)?I.props.x:C.left,y:ne(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:ne(I.props.width)?I.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(z)})}),ge(T,"renderReferenceElement",function(I,E,S){if(!I)return null;var O=T,k=O.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,z=C.offset,B=I.type.defaultProps||{},Q=I.props,K=Q.xAxisId,$=K===void 0?B.xAxisId:K,q=Q.yAxisId,V=q===void 0?B.yAxisId:q;return M.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:j[$],yAxis:N[V],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:k})}),ge(T,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,O=I.basePoint,k=I.childIndex,C=I.isRange,j=[],N=E.props.key,z=E.item.type.defaultProps!==void 0?G(G({},E.item.type.defaultProps),E.item.props):E.item.props,B=z.activeDot,Q=z.dataKey,K=G(G({index:k,dataKey:Q,cx:S.x,cy:S.y,r:4,fill:Y1(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Pe(B,!1)),Bp(B));return j.push(b.renderActiveDot(B,K,"".concat(N,"-activePoint-").concat(k))),O?j.push(b.renderActiveDot(B,G(G({},K),{},{cx:O.x,cy:O.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),ge(T,"renderGraphicChild",function(I,E,S){var O=T.filterFormatItem(I,E,S);if(!O)return null;var k=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,z=C.activeTooltipIndex,B=C.activeLabel,Q=T.props.children,K=Ln(Q,_r),$=O.props,q=$.points,V=$.isRange,ee=$.baseLine,Y=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,te=Y.activeDot,he=Y.hide,we=Y.activeBar,Ue=Y.activeShape,nt=!!(!he&&j&&K&&(te||we||Ue)),At={};k!=="axis"&&K&&K.props.trigger==="click"?At={onClick:hh(T.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(At={onMouseLeave:hh(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:hh(T.handleItemMouseEnter,I.props.onMouseEnter)});var oe=M.cloneElement(I,G(G({},O.props),At));function me(Qn){return typeof N.dataKey=="function"?N.dataKey(Qn.payload):null}if(nt)if(z>=0){var ye,X;if(N.dataKey&&!N.allowDuplicatedCategory){var je=typeof N.dataKey=="function"?me:"payload.".concat(N.dataKey.toString());ye=Fp(q,je,B),X=V&&ee&&Fp(ee,je,B)}else ye=q==null?void 0:q[z],X=V&&ee&&ee[z];if(Ue||we){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:z;return[M.cloneElement(I,G(G(G({},O.props),At),{},{activeIndex:_e})),null,null]}if(!Ne(ye))return[oe].concat(Bl(T.renderActivePoints({item:O,activePoint:ye,basePoint:X,childIndex:z,isRange:V})))}else{var Ve,W=(Ve=T.getItemByXY(T.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:oe},be=W.graphicalItem,Ye=be.item,dt=Ye===void 0?I:Ye,Ge=be.childIndex,Tn=G(G(G({},O.props),At),{},{activeIndex:Ge});return[M.cloneElement(dt,Tn),null,null]}return V?[oe,null,null]:[oe,null]}),ge(T,"renderCustomized",function(I,E,S){return M.cloneElement(I,G(G({key:"recharts-customized-".concat(S)},T.props),T.state))}),ge(T,"renderMap",{CartesianGrid:{handler:vh,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:vh},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:vh},YAxis:{handler:vh},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:fd("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=r$(T.triggeredAfterMouseMove,(P=v.throttleDelay)!==null&&P!==void 0?P:1e3/60),T.state={},T}return yve(b,w),hve(b,[{key:"componentDidMount",value:function(){var x,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,P=x.children,T=x.data,I=x.height,E=x.layout,S=Ln(P,_r);if(S){var O=S.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=H_(this.state,T,O,k),j=this.state.tooltipTicks[O].coordinate,N=(this.state.offset.top+I)/2,z=E==="horizontal",B=z?{x:j,y:N}:{y:j,x:N},Q=this.state.formattedGraphicalItems.find(function($){var q=$.item;return q.type.name==="Scatter"});Q&&(B=G(G({},B),Q.props.points[O].tooltipPosition),C=Q.props.points[O].tooltipPayload);var K={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:B};this.setState(K),this.renderCursor(S),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(x){Ab([Ln(x.children,_r)],[Ln(this.props.children,_r)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ln(this.props.children,_r);if(x&&typeof x.props.shared=="boolean"){var P=x.props.shared?"axis":"item";return s.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var P=this.container,T=P.getBoundingClientRect(),I=doe(T),E={chartX:Math.round(x.pageX-I.left),chartY:Math.round(x.pageY-I.top)},S=T.width/P.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,S);if(!O)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),z=JC(this.state,this.props.data,this.props.layout,O);if(N!=="axis"&&C&&j){var B=io(C).scale,Q=io(j).scale,K=B&&B.invert?B.invert(E.chartX):null,$=Q&&Q.invert?Q.invert(E.chartY):null;return G(G({},E),{},{xValue:K,yValue:$},z)}return z?G(G({},E),z):null}},{key:"inRange",value:function(x,P){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=x/T,S=P/T;if(I==="horizontal"||I==="vertical"){var O=this.state.offset,k=E>=O.left&&E<=O.left+O.width&&S>=O.top&&S<=O.top+O.height;return k?{x:E,y:S}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var z=io(j);return $O({x:E,y:S},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,P=this.getTooltipEventType(),T=Ln(x,_r),I={};T&&P==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Bp(this.props,this.handleOuterEvent);return G(G({},E),I)}},{key:"addListener",value:function(){Gv.on(Kv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gv.removeListener(Kv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,P,T){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var O=I[E];if(O.item===x||O.props.key===x.key||P===gi(O.item.type)&&T===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,P=this.state.offset,T=P.left,I=P.top,E=P.height,S=P.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:T,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(P,T){var I=QC(T,2),E=I[0],S=I[1];return G(G({},P),{},ge({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(P,T){var I=QC(T,2),E=I[0],S=I[1];return G(G({},P),{},ge({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(x){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[x])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(x){var P=this.state,T=P.formattedGraphicalItems,I=P.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var O=T[E],k=O.props,C=O.item,j=C.type.defaultProps!==void 0?G(G({},C.type.defaultProps),C.props):C.props,N=gi(C.type);if(N==="Bar"){var z=(k.data||[]).find(function($){return Jde(x,$)});if(z)return{graphicalItem:O,payload:z}}else if(N==="RadialBar"){var B=(k.data||[]).find(function($){return $O(x,$)});if(B)return{graphicalItem:O,payload:B}}else if(ay(O,I)||sy(O,I)||Lf(O,I)){var Q=tpe({graphicalItem:O,activeTooltipItem:I,itemData:j.data}),K=j.activeIndex===void 0?Q:j.activeIndex;return{graphicalItem:G(G({},O),{},{childIndex:K}),payload:Lf(O,I)?j.data[Q]:O.props.data[Q]}}}return null}},{key:"render",value:function(){var x=this;if(!IA(this))return null;var P=this.props,T=P.children,I=P.className,E=P.width,S=P.height,O=P.style,k=P.compact,C=P.title,j=P.desc,N=YC(P,ave),z=Pe(N,!1);if(k)return D.createElement(NC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Ob,qs({},z,{width:E,height:S,title:C,desc:j}),this.renderClipPath(),PA(T,this.renderMap)));if(this.props.accessibilityLayer){var B,Q;z.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,z.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",z.onKeyDown=function($){x.accessibilityManager.keyboardEvent($)},z.onFocus=function(){x.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return D.createElement(NC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",qs({className:Me("recharts-wrapper",I),style:G({position:"relative",cursor:"default",width:E,height:S},O)},K,{ref:function(q){x.container=q}}),D.createElement(Ob,qs({},z,{width:E,height:S,title:C,desc:j,style:Eve}),this.renderClipPath(),PA(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);ge(y,"displayName",n),ge(y,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ge(y,"getDerivedStateFromProps",function(w,b){var v=w.dataKey,x=w.data,P=w.children,T=w.width,I=w.height,E=w.layout,S=w.stackOffset,O=w.margin,k=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var j=ZC(w);return G(G(G({},j),{},{updateId:0},p(G(G({props:w},j),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:O,prevChildren:P})}if(v!==b.prevDataKey||x!==b.prevData||T!==b.prevWidth||I!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!tl(O,b.prevMargin)){var N=ZC(w),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=G(G({},JC(b,x,E)),{},{updateId:b.updateId+1}),Q=G(G(G({},N),z),B);return G(G(G({},Q),p(G({props:w},Q),b)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:O,prevChildren:P})}if(!Ab(P,b.prevChildren)){var K,$,q,V,ee=Ln(P,Cl),Y=ee&&(K=($=ee.props)===null||$===void 0?void 0:$.startIndex)!==null&&K!==void 0?K:k,te=ee&&(q=(V=ee.props)===null||V===void 0?void 0:V.endIndex)!==null&&q!==void 0?q:C,he=Y!==k||te!==C,we=!Ne(x),Ue=we&&!he?b.updateId:b.updateId+1;return G(G({updateId:Ue},p(G(G({props:w},b),{},{updateId:Ue,dataStartIndex:Y,dataEndIndex:te}),b)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:te})}return null}),ge(y,"renderActiveDot",function(w,b,v){var x;return M.isValidElement(w)?x=M.cloneElement(w,b):Se(w)?x=w(b):x=D.createElement(J1,b),D.createElement(gt,{className:"recharts-active-dot",key:v},x)});var _=M.forwardRef(function(b,v){return D.createElement(y,qs({},b,{ref:v}))});return _.displayName=y.displayName,_},Rve=vV({chartName:"BarChart",GraphicalChild:bi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:yd}],formatAxisMap:jL}),jve=vV({chartName:"AreaChart",GraphicalChild:Ko,axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:yd}],formatAxisMap:jL});const Dve=({data:t})=>{const[e,n]=M.useState("weekly"),r=t[t.length-1],i=r?r.total<10?"text-green-600":r.total<20?"text-yellow-600":"text-red-600":"text-gray-400",o=r?r.total<10?" ()":r.total<20?" ()":" ()":" ",a=({active:s,payload:l,label:u})=>s&&l&&l.length?m.jsxs("div",{className:"bg-white p-3 border border-gray-100 shadow-lg rounded-xl text-xs",children:[m.jsx("p",{className:"font-bold text-gray-800 mb-1 text-center",children:u}),l.map(c=>m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.color}}),m.jsxs("span",{className:"text-gray-500",children:[c.name,":"]}),m.jsx("span",{className:"font-bold text-gray-800",children:c.value})]},c.name))]}):null;return m.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-pink-100 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),m.jsxs("p",{className:`text-sm font-medium ${i}`,children:[" : ",o]})]}),m.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>n("weekly"),className:`px-3 py-1 text-xs rounded-md transition-all ${e==="weekly"?"bg-white shadow text-primary font-bold":"text-gray-500 hover:text-gray-800"}`,children:""}),m.jsx("button",{onClick:()=>n("monthly"),className:`px-3 py-1 text-xs rounded-md transition-all ${e==="monthly"?"bg-white shadow text-primary font-bold":"text-gray-500 hover:text-gray-800"}`,children:""})]})]}),m.jsx("div",{className:"h-64 w-full",dir:"ltr",children:m.jsx(SP,{width:"100%",height:"100%",children:m.jsxs(jve,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#be185d",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#be185d",stopOpacity:0})]})}),m.jsx(L_,{strokeDasharray:"3 3",vertical:!0,stroke:"#f3f4f6"}),m.jsx(Ll,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb",tickMargin:5}),m.jsx(yd,{tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb",domain:[0,"auto"]}),m.jsx(_r,{content:m.jsx(a,{})}),m.jsx(uy,{y:20,label:{position:"right",value:"",fill:"#ef4444",fontSize:10},stroke:"#fca5a5",strokeDasharray:"3 3"}),m.jsx(Ko,{type:"monotone",dataKey:"total",stroke:"#be185d",strokeWidth:3,fillOpacity:1,fill:"url(#colorTotal)",name:" ",dot:{r:3,fill:"#be185d",strokeWidth:2,stroke:"#fff"},activeDot:{r:5,strokeWidth:0}})]})})}),m.jsxs("div",{className:"mt-8 border-t border-gray-50 pt-4",children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 text-right",children:"  ( )"}),m.jsx("div",{className:"h-48 w-full",dir:"ltr",children:m.jsx(SP,{width:"100%",height:"100%",children:m.jsxs(Rve,{data:t,barGap:0,barCategoryGap:"20%",children:[m.jsx(L_,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),m.jsx(Ll,{dataKey:"name",tick:{fontSize:10,fill:"#6b7280"},axisLine:!1,tickLine:!1}),m.jsx(_r,{content:m.jsx(a,{}),cursor:{fill:"#f9fafb"}}),m.jsx(Ia,{wrapperStyle:{fontSize:"10px",paddingTop:"10px"},iconType:"circle"}),m.jsx(bi,{dataKey:"somatic",name:"",fill:"#0f766e",radius:[3,3,0,0],maxBarSize:40}),m.jsx(bi,{dataKey:"psychological",name:"",fill:"#be185d",radius:[3,3,0,0],maxBarSize:40}),m.jsx(bi,{dataKey:"urogenital",name:"/",fill:"#fbbf24",radius:[3,3,0,0],maxBarSize:40})]})})})]})]})},Mve=({changeTab:t,userId:e,user:n})=>{const[r,i]=M.useState({water:!1,sleep:!1,pills:!1}),[o,a]=M.useState(null),[s,l]=M.useState(gS),[u,c]=M.useState(!0);M.useEffect(()=>{const y=new Date().toLocaleDateString("en-CA"),_=localStorage.getItem(`reminders_${e}_${y}`);_&&i(JSON.parse(_))},[e]),M.useEffect(()=>{(async()=>{c(!0);const _=await Bq();if(_&&_.length>0){const b=_[Math.floor(Math.random()*_.length)];a(b)}const w=await Oq(e);if(w.length>0){const b={};w.forEach(x=>{let P="";try{P=new Date(x.date).toISOString().split("T")[0]}catch{P=x.date.split("T")[0]}b[P]||(b[P]=[]),b[P].push(x)});const v=Object.keys(b).sort().map(x=>{const P=b[x],T=P.length;let I=0,E=0,S=0;P.forEach(B=>{B.scores&&Object.entries(B.scores).forEach(([Q,K])=>{const $=vN.find(q=>q.id===Number(Q));$&&($.category==="somatic"&&(I+=K),$.category==="psychological"&&(E+=K),$.category==="urogenital"&&(S+=K))})});const O=parseFloat((I/T).toFixed(1)),k=parseFloat((E/T).toFixed(1)),C=parseFloat((S/T).toFixed(1)),j=O+k+C,N=new Date(x);return{name:new Intl.DateTimeFormat("fa-IR",{month:"long",day:"numeric"}).format(N),total:j,somatic:O,psychological:k,urogenital:C}});l(v.slice(-10))}else l(gS);c(!1)})()},[e]);const f=y=>{const _={...r,[y]:!r[y]};i(_);const w=new Date().toLocaleDateString("en-CA");localStorage.setItem(`reminders_${e}_${w}`,JSON.stringify(_))},p=(()=>{const y=n.dominantSymptoms||[];if(!y||y.length===0)return{symptom:" ",text:bp[Math.floor(Math.random()*bp.length)]};const _=y[Math.floor(Math.random()*y.length)],w=z3[_];if(w&&w.length>0){const b=w[Math.floor(Math.random()*w.length)];return{symptom:_,text:b}}return{symptom:"",text:"           ."}})();return m.jsx("div",{className:"px-4 py-6 pb-32 space-y-6 animate-fade-in",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-pink-100 flex flex-col gap-4 md:col-span-1 lg:col-span-1",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[m.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(b3,{size:18,className:"text-primary"}),"  "]}),m.jsx("button",{onClick:()=>t(Ie.PROFILE),className:"text-xs text-primary font-bold hover:underline",children:""})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[m.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 flex flex-col justify-center",children:[m.jsx("span",{className:"block text-xs text-gray-500 mb-1",children:""}),m.jsxs("span",{className:"font-bold text-gray-800 text-lg",children:[n.age?`${n.age}`:"-"," ",m.jsx("span",{className:"text-[10px] font-normal",children:""})]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 flex flex-col justify-center",children:[m.jsx("span",{className:"block text-xs text-gray-500 mb-1",children:""}),m.jsxs("span",{className:"font-bold text-gray-800 text-lg",children:[n.weight?`${n.weight}`:"-"," ",m.jsx("span",{className:"text-[10px] font-normal",children:"kg"})]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 flex flex-col justify-center",children:[m.jsx("span",{className:"block text-xs text-gray-500 mb-1",children:""}),m.jsx("span",{className:"font-bold text-gray-800 text-xs sm:text-xs leading-tight",children:n.periodStatus||"-"})]})]}),n.dominantSymptoms&&n.dominantSymptoms.length>0?m.jsxs("div",{className:"border-t border-gray-50 pt-3",children:[m.jsx("span",{className:"block text-xs text-gray-500 mb-2",children:" :"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:n.dominantSymptoms.map(y=>m.jsx("span",{className:"px-2 py-1 bg-pink-50 text-pink-700 text-[10px] font-bold rounded-md border border-pink-100",children:y},y))})]}):m.jsx("div",{className:"text-center text-xs text-gray-400 py-1",children:"    "})]}),p&&m.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-800 rounded-2xl p-5 text-white shadow-lg relative overflow-hidden min-h-[140px] flex items-center md:col-span-2 lg:col-span-1",children:m.jsxs("div",{className:"relative z-10 w-full",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(yN,{size:16,className:"text-yellow-300"}),m.jsx("span",{className:"font-bold text-sm",children:"   "})]}),m.jsxs("div",{className:"bg-white/10 p-1 px-2 rounded-md inline-block mb-2 text-xs backdrop-blur-sm",children:[": ",p.symptom]}),m.jsxs("p",{className:"text-sm leading-relaxed opacity-90",children:['"',p.text,'"']})]})}),!p&&m.jsxs("div",{className:"bg-gradient-to-br from-purple-700 to-indigo-800 rounded-2xl p-5 text-white shadow-lg relative overflow-hidden min-h-[140px] flex items-center md:col-span-1 lg:col-span-2 xl:col-span-1 transition-transform hover:scale-[1.01]",children:[m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10"}),m.jsx("div",{className:"relative z-10 w-full",children:u?m.jsx("div",{className:"flex justify-center w-full",children:m.jsx(mi,{className:"animate-spin text-white/50"})}):o?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex items-center gap-2 mb-2 opacity-90",children:m.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs backdrop-blur-sm",children:o.title})}),m.jsxs("p",{className:"font-medium text-lg leading-relaxed",children:['"',o.content,'"']})]}):m.jsx("p",{className:"text-center text-white/80",children:"    ."})})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 md:col-span-2 lg:col-span-1",children:[m.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[m.jsx(hN,{size:18,className:"text-accent"})," "]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 h-[calc(100%-2rem)]",children:[m.jsxs("button",{onClick:()=>f("water"),className:`flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-300 active:scale-95 group relative overflow-hidden ${r.water?"bg-blue-500 border-blue-500 text-white shadow-lg shadow-blue-200":"bg-white border-gray-100 text-gray-400 hover:border-blue-200 hover:text-blue-400"}`,children:[r.water&&m.jsx("div",{className:"absolute top-1 right-1",children:m.jsx(gc,{size:12,className:"text-white"})}),m.jsx(E3,{size:24,className:`mb-2 transition-transform ${r.water?"scale-110":"group-hover:scale-110"}`}),m.jsx("span",{className:"text-xs font-bold",children:""}),m.jsx("span",{className:`text-[9px] mt-1 transition-opacity ${r.water?"opacity-100":"opacity-0"}`,children:" "})]}),m.jsxs("button",{onClick:()=>f("sleep"),className:`flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-300 active:scale-95 group relative overflow-hidden ${r.sleep?"bg-indigo-500 border-indigo-500 text-white shadow-lg shadow-indigo-200":"bg-white border-gray-100 text-gray-400 hover:border-indigo-200 hover:text-indigo-400"}`,children:[r.sleep&&m.jsx("div",{className:"absolute top-1 right-1",children:m.jsx(gc,{size:12,className:"text-white"})}),m.jsx(M3,{size:24,className:`mb-2 transition-transform ${r.sleep?"scale-110":"group-hover:scale-110"}`}),m.jsx("span",{className:"text-xs font-bold",children:""}),m.jsx("span",{className:`text-[9px] mt-1 transition-opacity ${r.sleep?"opacity-100":"opacity-0"}`,children:" "})]}),m.jsxs("button",{onClick:()=>f("pills"),className:`flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-300 active:scale-95 group relative overflow-hidden ${r.pills?"bg-rose-500 border-rose-500 text-white shadow-lg shadow-rose-200":"bg-white border-gray-100 text-gray-400 hover:border-rose-200 hover:text-rose-400"}`,children:[r.pills&&m.jsx("div",{className:"absolute top-1 right-1",children:m.jsx(gc,{size:12,className:"text-white"})}),m.jsx(L3,{size:24,className:`mb-2 transition-transform ${r.pills?"scale-110":"group-hover:scale-110"}`}),m.jsx("span",{className:"text-xs font-bold",children:""}),m.jsx("span",{className:`text-[9px] mt-1 transition-opacity ${r.pills?"opacity-100":"opacity-0"}`,children:" "})]})]})]}),m.jsxs("button",{onClick:()=>t(Ie.TRACKER),className:"w-full bg-white border-2 border-dashed border-primary/30 p-4 rounded-2xl flex items-center justify-center gap-3 text-primary font-bold hover:bg-pink-50 transition-colors group md:col-span-2 lg:col-span-2 xl:col-span-1 h-full min-h-[140px] shadow-sm hover:shadow-md",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:m.jsx(gN,{size:28})}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:"block text-lg",children:"  "}),m.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"  "})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2 lg:col-span-1",children:[m.jsxs("button",{onClick:()=>t(Ie.LIBRARY),className:"bg-blue-50 hover:bg-blue-100 transition-colors p-4 rounded-2xl border border-blue-100 flex flex-col items-center justify-center gap-2 text-blue-800",children:[m.jsx(z0,{size:24}),m.jsx("span",{className:"text-xs font-bold",children:""})]}),m.jsxs("button",{onClick:()=>t(Ie.COMMUNITY),className:"bg-purple-50 hover:bg-purple-100 transition-colors p-4 rounded-2xl border border-purple-100 flex flex-col items-center justify-center gap-2 text-purple-800",children:[m.jsx(W0,{size:24}),m.jsx("span",{className:"text-xs font-bold",children:" "})]})]}),m.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4",children:m.jsx(Dve,{data:s})})]})})},$ve=({userId:t})=>{const[e,n]=M.useState({}),[r,i]=M.useState(""),[o,a]=M.useState(!1),[s,l]=M.useState(!1),u=(h,p)=>{n(y=>({...y,[h]:p}))},c=async()=>{l(!0);const h=new Date().toISOString(),p=await Pq(t,{date:h,scores:e,note:r});l(!1),p?(a(!0),setTimeout(()=>a(!1),4e3),n({}),i("")):alert("   .    .")},f=h=>h===0?"":h===1?"":h===2?"":h===3?"":" ";return o?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center animate-fade-in pt-20 max-w-lg mx-auto",children:[m.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 shadow-lg shadow-green-100 animate-bounce",children:m.jsx(gc,{size:48,className:"text-green-600"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" !"}),m.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"   .        ."}),m.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-2xl border border-pink-100 relative overflow-hidden",children:[m.jsx(yN,{className:"absolute top-2 right-2 text-yellow-400 opacity-50",size:20}),m.jsx("p",{className:"text-primary font-bold text-lg italic mb-2",children:'"       ."'}),m.jsx("span",{className:"text-xs text-gray-500",children:"   . "})]}),m.jsx("button",{onClick:()=>a(!1),className:"mt-10 text-gray-400 text-sm hover:text-gray-600 underline",children:"  "})]}):m.jsxs("div",{className:"pb-40 pt-6 px-4 animate-fade-in",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm mb-6 border border-pink-100 max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),m.jsx("p",{className:"text-sm text-gray-500",children:"    ( =   = )"})]}),m.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[vN.map(h=>m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-50 flex flex-col justify-between transition-colors hover:border-pink-100",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("span",{className:"font-medium text-gray-700 text-sm",children:h.text}),m.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg transition-colors ${e[h.id]===void 0?"bg-gray-100 text-gray-500":e[h.id]===0?"bg-green-100 text-green-700":e[h.id]<3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e[h.id]!==void 0?f(e[h.id]):" "})]}),m.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:e[h.id]||0,onChange:p=>u(h.id,parseInt(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary mb-2"}),m.jsxs("div",{className:"flex justify-between text-xl px-1 select-none",children:[m.jsx("span",{onClick:()=>u(h.id,0),className:`cursor-pointer transition-transform hover:scale-125 ${e[h.id]===0?"opacity-100 scale-110":"opacity-40 grayscale"}`,children:""}),m.jsx("span",{onClick:()=>u(h.id,1),className:`cursor-pointer transition-transform hover:scale-125 ${e[h.id]===1?"opacity-100 scale-110":"opacity-40 grayscale"}`,children:""}),m.jsx("span",{onClick:()=>u(h.id,2),className:`cursor-pointer transition-transform hover:scale-125 ${e[h.id]===2?"opacity-100 scale-110":"opacity-40 grayscale"}`,children:""}),m.jsx("span",{onClick:()=>u(h.id,3),className:`cursor-pointer transition-transform hover:scale-125 ${e[h.id]===3?"opacity-100 scale-110":"opacity-40 grayscale"}`,children:""}),m.jsx("span",{onClick:()=>u(h.id,4),className:`cursor-pointer transition-transform hover:scale-125 ${e[h.id]===4?"opacity-100 scale-110":"opacity-40 grayscale"}`,children:""})]})]},h.id)),m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-50 md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),m.jsx("textarea",{value:r,onChange:h=>i(h.target.value),placeholder:"    ...",className:"w-full p-3 rounded-lg border border-gray-300 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm h-24 resize-none"})]})]}),m.jsx("div",{className:"fixed bottom-24 left-0 right-0 px-6 max-w-md mx-auto z-10 pointer-events-none",children:m.jsxs("button",{onClick:c,disabled:s,className:`w-full bg-primary text-white py-4 rounded-xl shadow-lg shadow-pink-200 font-bold text-lg flex items-center justify-center gap-2 active:scale-95 transition-transform pointer-events-auto ${s?"opacity-70 cursor-wait":"hover:bg-pink-700"}`,children:[s?m.jsx(mi,{className:"animate-spin",size:24}):m.jsx(zw,{size:20}),s?"  ...":" "]})})]})},Lve=({currentUserRole:t="user",currentUserId:e})=>{const[n,r]=M.useState([]),[i,o]=M.useState(!0),[a,s]=M.useState(null),[l,u]=M.useState(!1),[c,f]=M.useState(""),[h,p]=M.useState(rv[0]),[y,_]=M.useState(!1),[w,b]=M.useState(null),[v,x]=M.useState(""),[P,T]=M.useState(!1),[I,E]=M.useState(null),[S,O]=M.useState(""),[k,C]=M.useState(null),j=async()=>{o(!0);const V=await kq();r(V),o(!1)};M.useEffect(()=>{j()},[]);const N=async()=>{if(!c.trim())return;_(!0),await Nq({topic:h,content:c,authorAlias:" ",authorId:e})?(u(!1),f(""),await j()):alert("   ."),_(!1)},z=async V=>{window.confirm("         ")&&await VD(V)&&r(n.filter(Y=>Y.id!==V))},B=async(V,ee)=>{const Y=ee.includes(e);r(n.map(te=>te.id===V?{...te,likedBy:Y?te.likedBy.filter(he=>he!==e):[...te.likedBy,e],likes:Y?te.likes-1:te.likes+1}:te)),await Rq(V,e,!Y)},Q=async V=>{if(!v.trim())return;T(!0);const ee={id:new Date().getTime().toString(),authorAlias:"",authorId:e,content:v,timestamp:new Date().toLocaleDateString("fa-IR")};await jq(V,ee)&&(x(""),b(null),await j(),C(V)),T(!1)},K=async()=>{if(!I||!S)return;await Dq({id:new Date().getTime().toString(),postId:I.id,reporterId:e,reportedUserId:I.authorId,reason:S,postContentSnippet:I.content.substring(0,100),timestamp:new Date().toISOString(),status:"pending"})&&(alert("        ."),E(null),O(""))},$=a?n.filter(V=>V.topic===a):n,q=(V,ee)=>["admin","super_admin","developer"].includes(V)?!0:ee===e;return m.jsxs("div",{className:"pb-32 relative px-4 pt-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm mb-6 border border-pink-100",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"      .   ."}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:[m.jsx("button",{onClick:()=>s(null),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-colors ${a?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary text-white"}`,children:""}),rv.map(V=>m.jsx("button",{onClick:()=>s(V),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-colors ${a===V?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:V},V))]})]}),m.jsx("div",{className:"min-h-[300px]",children:i?m.jsx("div",{className:"flex justify-center pt-10",children:m.jsx(mi,{className:"animate-spin text-primary",size:32})}):$.length===0?m.jsx("div",{className:"text-center text-gray-400 py-10",children:"      ."}):m.jsx("div",{className:"grid grid-cols-1 gap-4",children:$.map(V=>{var Y,te,he;const ee=(Y=V.likedBy)==null?void 0:Y.includes(e);return m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-50 animate-fade-in relative group flex flex-col transition-shadow hover:shadow-md",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-100 flex items-center justify-center text-primary",children:m.jsx(Nh,{size:16})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-gray-700 block",children:V.authorAlias}),m.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-400",children:[m.jsx("span",{children:V.timestamp}),m.jsxs("span",{className:"font-mono",children:["#",V.id]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-[10px] bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-medium",children:V.topic}),m.jsx("button",{onClick:()=>E(V),className:"text-gray-300 hover:text-red-500 p-1",title:"",children:m.jsx(P3,{size:14})}),q(t,V.authorId)&&m.jsx("button",{onClick:()=>z(V.id),className:"text-gray-300 hover:text-red-500 p-1",children:m.jsx(kh,{size:16})})]})]}),m.jsx("p",{className:"text-gray-800 text-sm leading-relaxed mb-4 flex-grow whitespace-pre-wrap",children:V.content}),k===V.id&&V.repliesList&&V.repliesList.length>0&&m.jsx("div",{className:"mb-4 bg-gray-50 p-3 rounded-xl space-y-3",children:V.repliesList.map(we=>m.jsxs("div",{className:"border-b border-gray-100 last:border-0 pb-2 last:pb-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsxs("span",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[m.jsx(w3,{size:12,className:"text-gray-400"}),we.authorAlias]}),m.jsx("span",{className:"text-[9px] text-gray-400",children:we.timestamp})]}),m.jsx("p",{className:"text-xs text-gray-700 pr-4",children:we.content})]},we.id))}),w===V.id&&m.jsxs("div",{className:"mb-4 flex gap-2 animate-fade-in",children:[m.jsx("input",{value:v,onChange:we=>x(we.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-primary",placeholder:"   ..."}),m.jsx("button",{onClick:()=>Q(V.id),disabled:P,className:"bg-primary text-white p-2 rounded-lg",children:P?m.jsx(mi,{size:16,className:"animate-spin"}):m.jsx(q0,{size:16})}),m.jsx("button",{onClick:()=>b(null),className:"text-gray-400 p-2",children:m.jsx(fl,{size:16})})]}),m.jsxs("div",{className:"flex items-center justify-between border-t border-gray-50 pt-3 mt-auto",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>B(V.id,V.likedBy),className:`flex items-center gap-1 transition-colors text-sm ${ee?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[m.jsx(O3,{size:16,fill:ee?"currentColor":"none"}),m.jsx("span",{children:((te=V.likedBy)==null?void 0:te.length)||0})]}),m.jsxs("button",{onClick:()=>C(k===V.id?null:V.id),className:"flex items-center gap-1 text-gray-500 hover:text-blue-500 transition-colors text-sm",children:[m.jsx(D3,{size:16}),m.jsxs("span",{children:[((he=V.repliesList)==null?void 0:he.length)||0," "]})]})]}),m.jsx("button",{onClick:()=>b(V.id),className:"text-primary text-xs font-bold hover:underline",children:" "})]})]},V.id)})})}),m.jsx("button",{onClick:()=>u(!0),className:"fixed left-6 bottom-24 bg-primary text-white w-14 h-14 rounded-full shadow-lg shadow-pink-300 flex items-center justify-center hover:bg-pink-800 transition-colors z-20 active:scale-90",children:m.jsx("span",{className:"text-3xl font-light mb-1",children:"+"})}),l&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden relative",children:[m.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-pink-50",children:[m.jsx("h3",{className:"font-bold text-gray-800",children:"  "}),m.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-red-500",children:m.jsx(fl,{size:20})})]}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:""}),m.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:rv.map(V=>m.jsx("button",{onClick:()=>p(V),className:`text-xs px-3 py-1.5 rounded-lg border transition-all whitespace-nowrap ${h===V?"bg-primary text-white border-primary":"bg-white text-gray-600 border-gray-200"}`,children:V},V))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:" "}),m.jsx("textarea",{value:c,onChange:V=>f(V.target.value),placeholder:"      ...",className:"w-full h-32 p-3 rounded-xl border border-gray-300 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm resize-none"})]}),m.jsxs("button",{onClick:N,disabled:y||!c.trim(),className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-white transition-all ${y||!c.trim()?"bg-gray-300 cursor-not-allowed":"bg-primary shadow-lg shadow-pink-200 active:scale-95"}`,children:[y?m.jsx(mi,{className:"animate-spin"}):m.jsx(q0,{size:18}),y?"  ...":" "]})]})]})}),I&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-5",children:[m.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:" "}),m.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"     "}),m.jsx("div",{className:"space-y-2 mb-4",children:[" ","  "," ","  "].map(V=>m.jsx("button",{onClick:()=>O(V),className:`w-full text-right p-3 rounded-lg border text-sm ${S===V?"border-primary bg-pink-50 text-primary":"border-gray-200"}`,children:V},V))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:K,className:"flex-1 bg-red-500 text-white py-2 rounded-xl font-bold text-sm",children:" "}),m.jsx("button",{onClick:()=>E(null),className:"flex-1 bg-gray-100 text-gray-600 py-2 rounded-xl font-bold text-sm",children:""})]})]})})]})},Vve=({onPlayAudio:t,onPauseAudio:e,currentAudioUrl:n,isPlaying:r})=>{const[i,o]=M.useState([]),[a,s]=M.useState(!0);M.useEffect(()=>{(async()=>{s(!0);const c=await FD();o(c),s(!1)})()},[]);const l=u=>{u.type==="podcast"?n===u.url&&r?e():t(u.url,u.title,u.author):window.open(u.url,"_blank")};return m.jsxs("div",{className:"pb-32 px-4 pt-6 animate-fade-in",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm mb-6 border border-pink-100",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:" "}),m.jsx("p",{className:"text-sm text-gray-500",children:"      "})]}),m.jsx("div",{className:"",children:a?m.jsx("div",{className:"flex justify-center p-10",children:m.jsx(mi,{className:"animate-spin text-primary",size:32})}):i.length===0?m.jsx("div",{className:"text-center text-gray-400 py-10",children:"  ."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.map(u=>{const c=n===u.url&&r;return m.jsx("div",{className:`bg-white p-4 rounded-xl shadow-sm border transition-all relative overflow-hidden group ${c?"border-primary ring-1 ring-primary":"border-gray-50 hover:border-pink-200 hover:shadow-md"}`,children:m.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>l(u),children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 transition-colors ${c?"bg-primary text-white":u.type==="podcast"?"bg-pink-100 text-primary group-hover:bg-pink-200":"bg-blue-100 text-blue-600 group-hover:bg-blue-200"}`,children:u.type==="podcast"?c?m.jsx(pN,{size:20,fill:"currentColor"}):m.jsx(mN,{size:20,fill:"currentColor",className:"ml-0.5"}):m.jsx(A3,{size:20})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:`font-bold text-sm mb-1 transition-colors ${c?"text-primary":"text-gray-800"}`,children:u.title}),m.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500",children:m.jsx("span",{children:u.author})})]}),u.type==="article"&&m.jsx(T3,{size:14,className:"text-gray-400"})]})},u.id)})})})]})},Fve=({currentUserRole:t})=>{const[e,n]=M.useState("users"),[r,i]=M.useState([]),[o,a]=M.useState([]),[s,l]=M.useState([]),[u,c]=M.useState(!1),[f,h]=M.useState(null),[p,y]=M.useState(!1),[_,w]=M.useState(null),[b,v]=M.useState(""),[x,P]=M.useState(""),[T,I]=M.useState("article"),[E,S]=M.useState(""),[O,k]=M.useState(""),[C,j]=M.useState(""),[N,z]=M.useState("info"),[B,Q]=M.useState("all"),[K,$]=M.useState({name:"",role:"user",id_prefix:"User_"});M.useEffect(()=>{const W=BD(be=>{y(be)});return(e==="users"||e==="notify")&&q(),e==="reports"&&V(),e==="content"&&ee(),()=>W()},[e]);const q=async()=>{c(!0);const W=await qq();i(W),c(!1)},V=async()=>{c(!0);const W=await Mq();a(W),c(!1)},ee=async()=>{c(!0);const W=await FD();l(W),c(!1)},Y=async(W,be)=>{if(t!=="super_admin"&&t!=="developer"&&(be==="admin"||be==="super_admin"||be==="developer")){alert("         .");return}await Wq(W,be)&&(i(r.map(dt=>dt.id===W?{...dt,profile:{...dt.profile,role:be}}:dt)),(f==null?void 0:f.id)===W&&h(dt=>dt?{...dt,profile:{...dt.profile,role:be}}:null))},te=async(W,be,Ye)=>{if(Ye&&(Ye==="developer"||Ye==="super_admin")){alert("      .");return}await bv(W,!be)&&(i(r.map(Ge=>Ge.id===W?{...Ge,profile:{...Ge.profile,isBanned:!be}}:Ge)),(f==null?void 0:f.id)===W&&h(Ge=>Ge?{...Ge,profile:{...Ge.profile,isBanned:!be}}:null),alert(` ${be?"":""} .`))},he=async(W,be)=>{confirm("  ")&&(be==="ban_reported"&&W.reportedUserId&&await bv(W.reportedUserId,!0),be==="ban_reporter"&&await bv(W.reporterId,!0),be==="delete_post"&&await VD(W.postId),await $q(W.id),a(o.filter(Ye=>Ye.id!==W.id)))},we=async(W,be,Ye)=>{if(Ye==="developer"||Ye==="super_admin"){alert("        .");return}await Gq(W,be)&&(i(r.map(Ge=>Ge.id===W?{...Ge,profile:{...Ge.profile,maintenanceStatus:be}}:Ge)),(f==null?void 0:f.id)===W&&h(Ge=>Ge?{...Ge,profile:{...Ge.profile,maintenanceStatus:be}}:null))},Ue=async(W,be)=>{if(be==="developer"||be==="super_admin"){alert("    .");return}confirm("       .")&&(await Aq(W),i(r.filter(Ye=>Ye.id!==W)),h(null))},nt=async()=>{const W=Math.floor(1e3+Math.random()*9e3),be=`${K.id_prefix}${W}`,Ye={...Gc,name:K.name||`  ${W}`,role:K.role};await Tb(be,Ye)&&(alert(`   ${be}  .`),$({name:"",role:"user",id_prefix:"User_"}),n("users"))},At=async()=>{confirm(":      ( )   .  ")&&await Hq()&&alert("   .")},oe=async()=>{if(!b||!E){alert("    ");return}_?await Fq(_,{title:b,author:x,type:T,url:E})&&(alert("  "),w(null)):await Lq({title:b,author:x,type:T,url:E})&&alert("  "),v(""),P(""),S(""),ee()},me=W=>{w(W.id),v(W.title),P(W.author),I(W.type),S(W.url),window.scrollTo(0,0)},ye=async W=>{confirm("      ")&&await Vq(W)&&ee()},X=async()=>{if(!O||!C){alert("       .");return}confirm(`      ${B==="all"?" ":"  "}  `)&&await Uq({title:O,message:C,type:N,target:B,date:new Date().toISOString()})&&(alert("  ."),k(""),j(""))},je={user:" ",subscriber:" ",admin:"",super_admin:" ",developer:""},_e=t==="developer"||t==="super_admin",Ve=W=>W==="developer"||W==="super_admin";return m.jsxs("div",{className:"pb-24 px-4 py-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-pink-100 mb-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(vp,{className:"text-primary"})," "]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  : ",m.jsx("span",{className:"font-bold text-primary",children:je[t]})]})]}),m.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto no-scrollbar pb-2",children:[m.jsx("button",{onClick:()=>n("users"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="users"?"bg-primary text-white":"bg-white text-gray-600 border"}`,children:""}),m.jsx("button",{onClick:()=>n("reports"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="reports"?"bg-primary text-white":"bg-white text-gray-600 border"}`,children:""}),m.jsx("button",{onClick:()=>n("create_user"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="create_user"?"bg-primary text-white":"bg-white text-gray-600 border"}`,children:" "}),m.jsx("button",{onClick:()=>n("content"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="content"?"bg-primary text-white":"bg-white text-gray-600 border"}`,children:""}),m.jsx("button",{onClick:()=>n("notify"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="notify"?"bg-primary text-white":"bg-white text-gray-600 border"}`,children:""}),_e&&m.jsx("button",{onClick:()=>n("system"),className:`px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-colors ${e==="system"?"bg-red-600 text-white":"bg-white text-red-600 border border-red-200"}`,children:""})]}),e==="users"&&m.jsx("div",{className:"space-y-4",children:u?m.jsx(mi,{className:"animate-spin mx-auto"}):r.map(W=>m.jsx("div",{className:`bg-white p-4 rounded-xl border transition-all hover:shadow-md cursor-pointer ${W.profile.isBanned?"border-red-300 bg-red-50":"border-gray-100"} ${W.profile.maintenanceStatus==="enabled"?"border-orange-300 bg-orange-50":""}`,onClick:()=>h(W),children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-800",children:W.profile.name}),W.profile.isBanned&&m.jsx(gp,{size:14,className:"text-red-500"}),W.profile.maintenanceStatus==="enabled"&&m.jsx(G0,{size:14,className:"text-orange-500"})]}),m.jsx("span",{className:"text-xs text-gray-400 font-mono block mt-1 dir-ltr text-left",dir:"ltr",children:W.id})]}),m.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full ${W.profile.role==="developer"?"bg-purple-100 text-purple-700":W.profile.role==="super_admin"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:je[W.profile.role]})]})},W.id))}),e==="reports"&&m.jsx("div",{className:"space-y-4",children:u?m.jsx(mi,{className:"animate-spin mx-auto"}):o.length===0?m.jsx("p",{className:"text-center text-gray-400",children:"  ."}):o.map(W=>m.jsxs("div",{className:"bg-white p-4 rounded-xl border border-red-100 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[m.jsxs("span",{children:[": ",m.jsx("span",{className:"text-red-600 font-bold",children:W.reason})]}),m.jsx("span",{children:new Date(W.timestamp).toLocaleDateString("fa-IR")})]}),m.jsxs("div",{className:"bg-gray-50 p-2 rounded text-sm text-gray-700 mb-3 border-r-2 border-gray-300",children:[W.postContentSnippet,"..."]}),m.jsxs("div",{className:"text-[10px] text-gray-400 mb-3 flex gap-2",children:[m.jsxs("span",{children:[" : ",W.reporterId.substring(0,5),"..."]}),m.jsxs("span",{children:[": ",W.reportedUserId?W.reportedUserId.substring(0,5)+"...":""]})]}),m.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.jsx("button",{onClick:()=>he(W,"delete_post"),className:"bg-red-50 text-red-600 px-3 py-1 rounded-lg text-xs font-bold border border-red-200",children:" "}),m.jsx("button",{onClick:()=>he(W,"ban_reported"),className:"bg-orange-50 text-orange-600 px-3 py-1 rounded-lg text-xs font-bold border border-orange-200",children:"  "}),m.jsx("button",{onClick:()=>he(W,"ban_reporter"),className:"bg-gray-50 text-gray-600 px-3 py-1 rounded-lg text-xs font-bold border border-gray-200",children:"  "}),m.jsx("button",{onClick:()=>he(W,"dismiss"),className:"bg-green-50 text-green-600 px-3 py-1 rounded-lg text-xs font-bold border border-green-200",children:" "})]})]},W.id))}),e==="create_user"&&m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),m.jsx("input",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:K.name,onChange:W=>$({...K,name:W.target.value}),placeholder:":  "})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),m.jsxs("select",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:K.role,onChange:W=>$({...K,role:W.target.value}),children:[m.jsx("option",{value:"user",children:" "}),m.jsx("option",{value:"subscriber",children:""}),m.jsx("option",{value:"admin",children:""}),_e&&m.jsx("option",{value:"super_admin",children:" "})]})]}),m.jsx("button",{onClick:nt,className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold mt-2",children:" "})]})]}),e==="content"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:_?" ":"  "}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{placeholder:" ",className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:b,onChange:W=>v(W.target.value)}),m.jsx("input",{placeholder:" / ",className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:x,onChange:W=>P(W.target.value)}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{placeholder:"   / ",className:"w-full border border-gray-300 bg-white text-gray-900 p-2 pl-8 rounded-lg text-sm dir-ltr",dir:"ltr",value:E,onChange:W=>S(W.target.value)}),m.jsx(k3,{size:16,className:"absolute left-2 top-2.5 text-gray-400"})]}),m.jsxs("select",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:T,onChange:W=>I(W.target.value),children:[m.jsx("option",{value:"article",children:""}),m.jsx("option",{value:"podcast",children:""})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:oe,className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 mt-4",children:[_?m.jsx(zw,{size:18}):m.jsx(gN,{size:18})," ",_?" ":" "]}),_&&m.jsx("button",{onClick:()=>{w(null),v(""),P(""),S("")},className:"bg-gray-100 text-gray-600 px-4 rounded-xl font-bold mt-4",children:""})]})]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),m.jsx("div",{className:"space-y-2",children:u?m.jsx(mi,{className:"animate-spin mx-auto"}):s.map(W=>m.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-100 rounded-xl hover:bg-gray-50",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-sm text-gray-800",children:W.title}),m.jsxs("span",{className:"text-[10px] text-gray-500",children:[W.author," | ",W.type==="podcast"?"":""]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>me(W),className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:m.jsx($3,{size:14})}),m.jsx("button",{onClick:()=>ye(W.id),className:"p-2 bg-red-50 text-red-600 rounded-lg",children:m.jsx(kh,{size:14})})]})]},W.id))})]})]}),e==="notify"&&m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[m.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  (Notification)"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),m.jsx("input",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:O,onChange:W=>k(W.target.value),placeholder:":  "})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),m.jsx("textarea",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm h-24",value:C,onChange:W=>j(W.target.value),placeholder:"   ..."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),m.jsxs("select",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:N,onChange:W=>z(W.target.value),children:[m.jsx("option",{value:"info",children:" ()"}),m.jsx("option",{value:"warning",children:" ()"}),m.jsx("option",{value:"success",children:" ()"}),m.jsx("option",{value:"alert",children:" ()"})]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),m.jsxs("select",{className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",value:B,onChange:W=>Q(W.target.value),children:[m.jsx("option",{value:"all",children:" "}),r.map(W=>m.jsxs("option",{value:W.id,children:[W.profile.name," (",W.id.substring(0,5),"...)"]},W.id))]})]})]}),m.jsxs("button",{onClick:X,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 mt-2",children:[m.jsx(q0,{size:18}),"  "]})]})]}),e==="system"&&_e&&m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-red-100",children:[m.jsxs("h3",{className:"font-bold text-red-600 mb-4 flex items-center gap-2",children:[m.jsx(V3,{size:18}),"  "]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 mb-6",children:[m.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2",children:"  :"}),m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${p?"bg-red-500 animate-pulse":"bg-green-500"}`}),m.jsx("span",{className:`text-sm font-bold ${p?"text-red-600":"text-green-600"}`,children:p?"     ( )":"   ()"})]}),p?m.jsxs("button",{onClick:()=>dA(!1),className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-green-200",children:[m.jsx(Ju,{size:18}),"      "]}):m.jsxs("button",{onClick:()=>dA(!0),className:"w-full bg-gray-800 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-gray-400",children:[m.jsx(G0,{size:18}),"    (  )"]})]}),m.jsx("p",{className:"text-xs text-gray-500 mb-4 border-t border-gray-100 pt-4",children:"      ."}),m.jsxs("button",{onClick:At,className:"w-full border-2 border-red-500 text-red-500 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-50 transition-colors mb-3",children:[m.jsx(kh,{size:18}),"    ( )"]})]})}),f&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in overflow-y-auto",children:m.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden my-auto",children:[m.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-white",children:[m.jsx("h3",{className:"font-bold",children:" "}),m.jsx("button",{onClick:()=>h(null),children:m.jsx(fl,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-2 overflow-hidden flex items-center justify-center text-3xl font-bold text-gray-400",children:f.profile.name?f.profile.name.charAt(0):"?"}),m.jsx("h2",{className:"font-bold text-xl",children:f.profile.name}),m.jsx("div",{className:"bg-gray-100 rounded-md p-2 mt-2 inline-block max-w-full",children:m.jsx("p",{className:"text-gray-600 text-[10px] font-mono break-all select-all dir-ltr",dir:"ltr",children:f.id})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsx("span",{className:"block text-xs text-gray-400",children:""}),m.jsx("span",{className:"font-bold",children:je[f.profile.role]})]}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsx("span",{className:"block text-xs text-gray-400",children:" / "}),m.jsxs("span",{className:"font-bold",children:[f.profile.age,"  / ",f.profile.weight," kg"]})]}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg col-span-2",children:[m.jsx("span",{className:"block text-xs text-gray-400",children:" "}),m.jsx("span",{className:"font-bold",children:f.profile.periodStatus})]})]}),m.jsxs("div",{className:"border-t pt-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-3 text-gray-700",children:"   "}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),m.jsxs("select",{value:f.profile.role,onChange:W=>Y(f.id,W.target.value),className:"w-full border border-gray-300 bg-white text-gray-900 p-2 rounded-lg text-sm",disabled:t==="admin"&&(f.profile.role==="super_admin"||f.profile.role==="developer"),children:[m.jsx("option",{value:"user",children:" "}),m.jsx("option",{value:"subscriber",children:""}),m.jsx("option",{value:"admin",children:""}),_e&&m.jsx("option",{value:"super_admin",children:" "}),_e&&m.jsx("option",{value:"developer",children:""})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"   "}),m.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-100 p-1 rounded-lg",children:[m.jsx("button",{onClick:()=>we(f.id,"system",f.profile.role),className:`flex-1 min-w-[70px] py-2 text-xs rounded-md transition-colors ${!f.profile.maintenanceStatus||f.profile.maintenanceStatus==="system"?"bg-white shadow text-primary font-bold":"text-gray-500"}`,disabled:Ve(f.profile.role),children:""}),m.jsx("button",{onClick:()=>we(f.id,"enabled",f.profile.role),className:`flex-1 min-w-[70px] py-2 text-xs rounded-md transition-colors ${f.profile.maintenanceStatus==="enabled"?"bg-orange-100 text-orange-700 font-bold border border-orange-200":"text-gray-500"}`,disabled:Ve(f.profile.role),children:" ()"}),m.jsx("button",{onClick:()=>we(f.id,"disabled",f.profile.role),className:`flex-1 min-w-[70px] py-2 text-xs rounded-md transition-colors ${f.profile.maintenanceStatus==="disabled"?"bg-green-100 text-green-700 font-bold border border-green-200":"text-gray-500"}`,disabled:Ve(f.profile.role),children:" ()"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:f.profile.maintenanceStatus==="enabled"?"        .":f.profile.maintenanceStatus==="disabled"?"        .":"    ."})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-2 border-t",children:[m.jsxs("button",{onClick:()=>te(f.id,f.profile.isBanned||!1,f.profile.role),className:`flex-1 min-w-[120px] py-3 rounded-xl font-bold text-xs flex items-center justify-center gap-2 ${f.profile.isBanned?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"} disabled:opacity-50`,disabled:Ve(f.profile.role),children:[f.profile.isBanned?m.jsx(F3,{size:16}):m.jsx(gp,{size:16}),f.profile.isBanned?" ":" "]}),_e&&m.jsxs("button",{onClick:()=>Ue(f.id,f.profile.role),className:"flex-1 min-w-[120px] bg-red-100 text-red-700 py-3 rounded-xl font-bold text-xs flex items-center justify-center gap-2 disabled:opacity-50",disabled:Ve(f.profile.role),children:[m.jsx(kh,{size:16}),"  "]})]})]})]})]})]})})]})},Qv="1.3.2",Bve=({user:t,userId:e,isAdminOrDev:n,isEditingProfile:r,setIsEditingProfile:i,onSave:o,setActiveTab:a})=>{var h;const[s,l]=M.useState(t),[u,c]=M.useState(!1);M.useEffect(()=>{l(t)},[t]);const f=async()=>{c(!0),await o(s),c(!1)};return m.jsx("div",{className:"pb-24 px-4 py-6 w-full max-w-2xl mx-auto animate-fade-in",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-pink-100 text-center mb-6 relative",children:[m.jsxs("div",{className:"absolute top-4 left-4 text-xs text-gray-400 font-mono bg-gray-50 px-2 py-1 rounded border dir-ltr",dir:"ltr",children:["ID: ",e==null?void 0:e.substring(0,6),"..."]}),r?m.jsxs("div",{className:"space-y-4 text-right max-w-md mx-auto",children:[m.jsxs("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-xl text-xs mb-4 flex items-center gap-2",children:[m.jsx(C3,{size:16,className:"flex-shrink-0"}),"          ."]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" "}),m.jsx("input",{type:"text",value:s.name,onChange:p=>l({...s,name:p.target.value}),className:"w-full border border-gray-300 rounded-lg p-3 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all shadow-sm"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:""}),m.jsx("input",{type:"number",value:s.age,onChange:p=>l({...s,age:Number(p.target.value)}),className:"w-full border border-gray-300 rounded-lg p-3 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all shadow-sm"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" ()"}),m.jsx("input",{type:"number",value:s.weight,onChange:p=>l({...s,weight:Number(p.target.value)}),className:"w-full border border-gray-300 rounded-lg p-3 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all shadow-sm"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" "}),m.jsxs("select",{value:s.periodStatus,onChange:p=>l({...s,periodStatus:p.target.value}),className:"w-full border border-gray-300 rounded-lg p-3 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all shadow-sm",children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"  ()",children:"  ()"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2",children:"  ( )"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:U3.map(p=>{var _;const y=(_=s.dominantSymptoms)==null?void 0:_.includes(p);return m.jsxs("button",{onClick:()=>{const w=s.dominantSymptoms||[];w.includes(p)?l({...s,dominantSymptoms:w.filter(b=>b!==p)}):l({...s,dominantSymptoms:[...w,p]})},className:`px-3 py-1.5 rounded-full text-xs border transition-all flex items-center gap-1.5 ${y?"bg-primary text-white border-primary shadow-md ring-1 ring-pink-300":"bg-white text-gray-500 border-gray-200 hover:border-primary/50 hover:text-primary hover:bg-pink-50"}`,children:[y&&m.jsx(gc,{size:12,className:"text-white"}),p]},p)})})]}),m.jsxs("div",{className:"flex gap-2 pt-4",children:[m.jsxs("button",{onClick:f,disabled:u,className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold text-sm flex justify-center items-center gap-2 shadow-lg shadow-pink-200 hover:bg-pink-700 transition-colors active:scale-95",children:[u?m.jsx(yp,{className:"animate-spin",size:18}):m.jsx(zw,{size:18}),""]}),t.name&&t.name!==" "&&m.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-sm hover:bg-gray-200 transition-colors border border-gray-300",children:""})]})]}):m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-24 h-24 bg-pink-100 rounded-full mb-4 flex items-center justify-center text-primary text-4xl font-bold overflow-hidden border-4 border-white shadow-md",children:t.name?m.jsx("span",{className:"text-5xl",children:t.name.charAt(0)}):m.jsx("span",{children:"?"})}),m.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[t.name||" ",n&&m.jsx(vp,{size:18,className:"text-blue-500"})]}),m.jsxs("div",{className:"flex flex-col items-center gap-1 mb-4",children:[m.jsx("span",{className:"text-gray-500 text-sm",children:t.age?`${t.age} `:" "}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.role==="developer"?"bg-purple-100 text-purple-700":t.role==="super_admin"?"bg-red-100 text-red-700":t.role==="admin"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:t.role==="user"?" ":t.role==="subscriber"?" ":t.role==="admin"?"":t.role==="developer"?"":" "})]}),m.jsxs("div",{className:"w-full border-t border-gray-100 pt-3 mb-4",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 block mb-2",children:"  "}),m.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:((h=t.dominantSymptoms)==null?void 0:h.length)>0?t.dominantSymptoms.map(p=>m.jsx("span",{className:"px-3 py-1 bg-pink-50 text-pink-700 text-xs rounded-full border border-pink-100",children:p},p)):m.jsx("span",{className:"text-gray-400 text-sm",children:"  "})})]}),m.jsxs("div",{className:"flex gap-2 mt-2 justify-center",children:[m.jsx("button",{onClick:()=>i(!0),className:"text-primary text-sm font-bold border border-primary px-6 py-2 rounded-full hover:bg-pink-50 transition-colors",children:" "}),n&&m.jsxs("button",{onClick:()=>a(Ie.ADMIN),className:"bg-primary text-white text-sm font-bold px-6 py-2 rounded-full hover:bg-pink-700 transition-colors flex items-center gap-1",children:[m.jsx(vp,{size:14})," "]})]})]})]})})},Uve=({currentAudio:t,onClose:e,isPlaying:n,onTogglePlay:r})=>{const i=M.useRef(null),[o,a]=M.useState(1);M.useEffect(()=>{i.current&&(n?i.current.play().catch(l=>console.error("Play fail",l)):i.current.pause())},[n,t]);const s=()=>{const l=o===1?1.5:o===1.5?2:o===2?.5:1;i.current&&(i.current.playbackRate=l,a(l))};return m.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[60] w-auto max-w-sm",children:m.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md text-white px-4 py-2 rounded-full shadow-2xl flex items-center gap-3 border border-white/20",children:[m.jsx("button",{onClick:r,className:"p-1 hover:text-pink-400 transition-colors",children:n?m.jsx(pN,{size:20,fill:"currentColor"}):m.jsx(mN,{size:20,fill:"currentColor"})}),m.jsxs("div",{className:"flex flex-col min-w-[120px] max-w-[200px]",children:[m.jsx("span",{className:"text-xs font-bold truncate",children:t.title}),m.jsx("span",{className:"text-[10px] text-gray-400 truncate",children:t.author})]}),m.jsxs("button",{onClick:s,className:"text-xs font-mono font-bold w-8 hover:text-pink-400",children:[o,"x"]}),m.jsx("a",{href:t.url,download:!0,target:"_blank",rel:"noreferrer",className:"hover:text-pink-400",children:m.jsx(x3,{size:18})}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white border-r border-gray-700 pr-2 mr-1",children:m.jsx(fl,{size:16})}),m.jsx("audio",{ref:i,src:t.url,onEnded:()=>r(),className:"hidden"})]})})},zve=({version:t,onUpdate:e})=>m.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-3 shadow-lg flex flex-col sm:flex-row items-center justify-between gap-3 animate-slide-down sticky top-0 z-[70]",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(B3,{size:20,className:"text-yellow-300 animate-pulse"}),m.jsxs("div",{className:"text-sm font-bold",children:["     (",t,")"]})]}),m.jsxs("button",{onClick:e,className:"bg-white text-purple-700 px-4 py-1.5 rounded-full text-xs font-bold hover:bg-gray-100 transition-colors shadow-sm flex items-center gap-2",children:[m.jsx(yp,{size:14}),"  "]})]}),qve=()=>{const[t,e]=M.useState(Ie.DASHBOARD),[n,r]=M.useState(Gc),[i,o]=M.useState(null),[a,s]=M.useState(!1),[l,u]=M.useState(!1),[c,f]=M.useState(!1),[h,p]=M.useState(!1),[y,_]=M.useState(!0),[w,b]=M.useState(null),[v,x]=M.useState("phone"),[P,T]=M.useState("login"),[I,E]=M.useState(""),[S,O]=M.useState(""),[k,C]=M.useState(!1),[j,N]=M.useState(!1),[z,B]=M.useState(null),[Q,K]=M.useState(!1),[$,q]=M.useState([]),[V,ee]=M.useState(!1),[Y,te]=M.useState(0),[he,we]=M.useState(null),[Ue,nt]=M.useState(!1);M.useEffect(()=>{const se=BD(_t=>{p(_t),_(!1)}),Te=U6(ea,_t=>{if(_t){o(_t.uid),u(!0),At(_t.uid,_t.email);const fu=zq(_t.uid,Ho=>{q(du=>Ho);const Vi=localStorage.getItem("last_read_notif_time");if(Vi){const du=Ho.filter(vd=>new Date(vd.date).getTime()>parseInt(Vi)).length;te(du)}else te(Ho.length)});return oe(_t.uid),()=>fu()}else o(null),u(!1),r(Gc)}),ht=setInterval(async()=>{const _t=await Kq(Qv);_t&&b(_t)},3e4);return()=>{Te(),se(),clearInterval(ht)}},[]);const At=async(se,Te)=>{s(!0);let ht=await Iq(se);Te==="developer@app.com"&&ht.role!=="developer"&&(ht={...ht,role:"developer"},await Tb(se,ht));const _t=ht.role==="developer"||ht.role==="super_admin";ht.isBanned,r(ht),(ht.age===0||!ht.name||ht.name===" ")&&(e(Ie.PROFILE),K(!0)),s(!1)},oe=async se=>{const Te=await Cq(se);new Date().toLocaleDateString("fa-IR");const ht={id:`daily_${new Date().toISOString().split("T")[0]}`,title:Te?"   ":"  ",message:Te?`!     . ${bp[Math.floor(Math.random()*bp.length)]}`:"     .        .",type:Te?"success":"warning",target:se,date:new Date().toISOString()};q(_t=>_t.find(Ho=>Ho.id===ht.id)?_t:[ht,..._t]),Te||te(_t=>_t+1)},me=async()=>{if(window.confirm("   .   ")){if("serviceWorker"in navigator){const se=await navigator.serviceWorker.getRegistrations();for(const Te of se)await Te.unregister()}if("caches"in window){const se=await caches.keys();await Promise.all(se.map(Te=>caches.delete(Te)))}window.location.reload()}},ye=()=>{ee(!V),V||(te(0),localStorage.setItem("last_read_notif_time",new Date().getTime().toString()))},X=()=>{if(v==="email")return I.trim();{const se=I.replace(/\D/g,"");return`${se.startsWith("0")?se.substring(1):se}@menopause-app.local`}},je=se=>{console.error("Auth Error:",se.code);let Te="   .";switch(se.code){case"auth/invalid-credential":case"auth/user-not-found":case"auth/wrong-password":Te="  (    )  .";break;case"auth/email-already-in-use":Te="       .";break;case"auth/invalid-email":Te="      .";break;case"auth/weak-password":Te="      .";break;case"auth/too-many-requests":Te="    .      .";break;case"auth/network-request-failed":Te="   .      .";break}B(Te)},_e=async()=>{if(B(null),!I||!S){B("        .");return}N(!0);const se=X();try{P==="login"?await V6(ea,se,S):await L6(ea,se,S)}catch(Te){je(Te)}finally{N(!1)}},Ve=async()=>{N(!0);try{await j6(ea)}catch(se){je(se)}finally{N(!1)}},W=async se=>{if(!i)return;await Tb(i,se)?(r(se),K(!1)):alert("   ")},be=()=>{window.confirm("      ")&&(hv(ea),f(!1),E(""),O(""),B(null),we(null),nt(!1))},Ye=se=>{e(se),f(!1)},dt=(se,Te,ht)=>{we({url:se,title:Te,author:ht}),nt(!0)},Ge=()=>{nt(!1)},Tn=["admin","super_admin","developer"].includes(n.role),Qn=n.role==="developer"||n.role==="super_admin";if(y||l&&a)return m.jsx("div",{className:"min-h-screen bg-pink-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-primary font-bold",children:"  ..."})]})});if(l&&n.isBanned&&!Qn)return m.jsx("div",{className:"min-h-screen bg-red-50 flex flex-col items-center justify-center p-6 text-center animate-fade-in",children:m.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full border-b-4 border-red-500",children:[m.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:m.jsx(gp,{size:40})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),m.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"      .          ."}),m.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-6",children:[m.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"  :"}),m.jsx("code",{className:"text-sm font-mono font-bold select-all dir-ltr block",children:i})]}),m.jsx("button",{onClick:()=>hv(ea),className:"w-full bg-red-500 text-white py-3 rounded-xl font-bold hover:bg-red-600 transition-colors",children:"  "})]})});const jr=n.maintenanceStatus==="enabled",Li=n.maintenanceStatus==="disabled";return l&&(!Qn&&(jr||h&&!Li))?m.jsx("div",{className:"min-h-screen bg-amber-50 flex flex-col items-center justify-center p-6 text-center animate-fade-in",children:m.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full border-b-4 border-amber-400",children:[m.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6 text-amber-500",children:m.jsx(G0,{size:40})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),m.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"      .   .   ."}),jr&&m.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded mb-4",children:"        ."}),m.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-amber-500 text-white py-3 rounded-xl font-bold hover:bg-amber-600 transition-colors flex items-center justify-center gap-2",children:[m.jsx(yp,{size:18}),"  "]}),m.jsx("button",{onClick:()=>hv(ea),className:"w-full text-gray-400 text-sm mt-4 hover:text-gray-600",children:" "})]})}):l?m.jsxs("div",{className:"min-h-screen bg-pink-50 font-sans text-gray-800 w-full mx-auto shadow-2xl overflow-hidden relative",children:[w&&m.jsx(zve,{version:w,onUpdate:me}),he&&m.jsx(Uve,{currentAudio:he,onClose:()=>{we(null),nt(!1)},isPlaying:Ue,onTogglePlay:()=>nt(!Ue)}),c&&m.jsx("div",{onClick:()=>f(!1),className:"fixed inset-0 bg-black/40 z-50 backdrop-blur-sm transition-opacity"}),m.jsxs("div",{className:`fixed inset-y-0 right-0 w-[280px] bg-white z-[60] shadow-2xl transform transition-transform duration-300 ease-in-out flex flex-col ${c?"translate-x-0":"translate-x-full"}`,children:[m.jsxs("div",{className:"bg-primary p-6 text-white relative overflow-hidden",children:[m.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 left-4 text-white/80 hover:text-white transition-colors",children:m.jsx(fl,{size:24})}),m.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[m.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center border-2 border-white/50 overflow-hidden text-2xl font-bold",children:n.name?m.jsx("span",{children:n.name.charAt(0)}):m.jsx(Nh,{size:28,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-lg",children:n.name||" "}),m.jsxs("p",{className:"text-xs text-white/70 font-mono tracking-wider",children:[i==null?void 0:i.substring(0,10),"..."]})]})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-2",children:m.jsxs("nav",{className:"space-y-1",children:[[{tab:Ie.DASHBOARD,label:"",icon:m.jsx(dS,{size:20})},{tab:Ie.TRACKER,label:" ",icon:m.jsx(uS,{size:20})},{tab:Ie.COMMUNITY,label:" ",icon:m.jsx(W0,{size:20})},{tab:Ie.LIBRARY,label:"",icon:m.jsx(z0,{size:20})},{tab:Ie.PROFILE,label:" ",icon:m.jsx(lS,{size:20})}].map(se=>m.jsxs("button",{onClick:()=>Ye(se.tab),className:`w-full flex items-center justify-between p-3 rounded-xl transition-colors ${t===se.tab?"bg-pink-50 text-primary font-bold":"text-gray-600 hover:bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[se.icon,m.jsx("span",{children:se.label})]}),t===se.tab&&m.jsx(sS,{size:16})]},se.tab)),Tn&&m.jsxs("button",{onClick:()=>Ye(Ie.ADMIN),className:`w-full flex items-center justify-between p-3 rounded-xl transition-colors mt-2 border-t border-gray-100 ${t===Ie.ADMIN?"bg-purple-50 text-purple-700 font-bold":"text-gray-600 hover:bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(vp,{size:20}),m.jsx("span",{children:" "})]}),t===Ie.ADMIN&&m.jsx(sS,{size:16})]})]})}),m.jsxs("div",{className:"p-4 border-t border-gray-100",children:[m.jsxs("button",{onClick:be,className:"w-full flex items-center gap-3 p-3 rounded-xl text-red-500 hover:bg-red-50 transition-colors font-medium",children:[m.jsx(R3,{size:20}),m.jsx("span",{children:"  "})]}),m.jsxs("div",{className:"text-center mt-4",children:[m.jsxs("p",{className:"text-[10px] text-gray-400",children:[" ",Qv]}),m.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[m.jsx("a",{href:"https://github.com/MrV006",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-gray-800 transition-colors",title:"GitHub",children:m.jsx(cS,{size:14})}),m.jsx("a",{href:"tel:09902076468",className:"text-gray-300 hover:text-primary transition-colors",title:"Contact Developer",children:m.jsx(pS,{size:14})})]})]})]})]}),m.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md shadow-sm flex justify-between items-center w-full px-4 py-3 h-[72px]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>f(!0),className:"bg-primary/10 p-2 rounded-full text-primary hover:bg-primary/20 transition-colors active:scale-95",children:m.jsx(j3,{size:20})}),m.jsx("h1",{onClick:()=>e(Ie.DASHBOARD),className:"font-bold text-lg text-primary cursor-pointer select-none hover:opacity-80 transition-opacity",children:" "})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:ye,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors relative",children:[m.jsx(hN,{size:24}),Y>0&&m.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full border border-white",children:Y})]}),V&&m.jsxs("div",{className:"absolute top-12 left-0 w-72 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50 animate-fade-in origin-top-left",children:[m.jsxs("div",{className:"bg-gray-50 p-3 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("span",{className:"text-xs font-bold text-gray-600",children:""}),m.jsx("button",{onClick:()=>ee(!1),children:m.jsx(fl,{size:16,className:"text-gray-400"})})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto",children:$.length===0?m.jsx("div",{className:"p-4 text-center text-gray-400 text-xs",children:"  "}):$.map(se=>m.jsx("div",{className:`p-3 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors relative ${se.type==="alert"?"bg-red-50":se.type==="warning"?"bg-yellow-50":se.type==="success"?"bg-green-50":""}`,onClick:()=>{se.title.includes("")&&(ee(!1),e(Ie.TRACKER))},children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("div",{className:`mt-1 w-2 h-2 rounded-full flex-shrink-0 ${se.type==="alert"?"bg-red-500":se.type==="warning"?"bg-yellow-500":se.type==="success"?"bg-green-500":"bg-blue-500"}`}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-bold text-gray-800",children:se.title}),m.jsx("p",{className:"text-[11px] text-gray-600 mt-1 leading-tight",children:se.message}),m.jsx("span",{className:"text-[9px] text-gray-400 block mt-2",children:new Date(se.date).toLocaleDateString("fa-IR")})]})]})},se.id))})]})]}),m.jsx("div",{onClick:()=>e(Ie.PROFILE),className:"cursor-pointer",children:n.name?m.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white shadow-sm bg-pink-200 text-primary flex items-center justify-center font-bold",children:n.name.charAt(0)}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center",children:m.jsx(Nh,{size:20,className:"text-gray-400"})})})]})]}),m.jsxs("main",{className:"min-h-[calc(100vh-140px)] w-full max-w-7xl mx-auto pt-20",children:[t===Ie.DASHBOARD&&m.jsx(Mve,{changeTab:e,userId:i,user:n}),t===Ie.TRACKER&&m.jsx($ve,{userId:i}),t===Ie.COMMUNITY&&m.jsx(Lve,{currentUserRole:n.role,currentUserId:i}),t===Ie.LIBRARY&&m.jsx(Vve,{onPlayAudio:dt,onPauseAudio:Ge,currentAudioUrl:(he==null?void 0:he.url)||null,isPlaying:Ue}),t===Ie.PROFILE&&m.jsx(Bve,{user:n,userId:i,isAdminOrDev:Tn,isEditingProfile:Q,setIsEditingProfile:K,onSave:W,setActiveTab:e}),t===Ie.ADMIN&&Tn&&m.jsx(Fve,{currentUserRole:n.role})]}),m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 px-6 py-3 flex justify-center pointer-events-none",children:m.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 rounded-full shadow-2xl flex justify-between items-center gap-8 pointer-events-auto max-w-lg w-full mb-4",children:[m.jsxs("button",{onClick:()=>e(Ie.DASHBOARD),className:`flex flex-col items-center gap-1 transition-colors ${t===Ie.DASHBOARD?"text-primary":"text-gray-400"}`,children:[m.jsx(dS,{size:24,strokeWidth:t===Ie.DASHBOARD?2.5:2}),m.jsx("span",{className:"text-xs",children:""})]}),m.jsxs("button",{onClick:()=>e(Ie.TRACKER),className:`flex flex-col items-center gap-1 transition-colors ${t===Ie.TRACKER?"text-primary":"text-gray-400"}`,children:[m.jsx(uS,{size:24,strokeWidth:t===Ie.TRACKER?2.5:2}),m.jsx("span",{className:"text-xs",children:" "})]}),m.jsxs("button",{onClick:()=>e(Ie.COMMUNITY),className:`flex flex-col items-center gap-1 transition-colors ${t===Ie.COMMUNITY?"text-primary":"text-gray-400"}`,children:[m.jsx(W0,{size:24,strokeWidth:t===Ie.COMMUNITY?2.5:2}),m.jsx("span",{className:"text-xs",children:""})]}),m.jsxs("button",{onClick:()=>e(Ie.LIBRARY),className:`flex flex-col items-center gap-1 transition-colors ${t===Ie.LIBRARY?"text-primary":"text-gray-400"}`,children:[m.jsx(z0,{size:24,strokeWidth:t===Ie.LIBRARY?2.5:2}),m.jsx("span",{className:"text-xs",children:""})]}),m.jsxs("button",{onClick:()=>e(Ie.PROFILE),className:`flex flex-col items-center gap-1 transition-colors ${t===Ie.PROFILE?"text-primary":"text-gray-400"}`,children:[m.jsx(lS,{size:24,strokeWidth:t===Ie.PROFILE?2.5:2}),m.jsx("span",{className:"text-xs",children:""})]})]})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-white overflow-hidden",children:[m.jsxs("div",{className:"hidden lg:flex w-1/2 relative bg-primary items-center justify-center overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1516549655169-df83a0774514?q=80&w=2070&auto=format&fit=crop",alt:"Background",className:"w-full h-full object-cover opacity-60 mix-blend-multiply"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/90 to-transparent"})]}),m.jsxs("div",{className:"relative z-10 text-white p-12 max-w-lg text-center backdrop-blur-sm bg-white/10 rounded-3xl border border-white/20 shadow-2xl",children:[m.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center border-2 border-white/50 mx-auto mb-6 shadow-inner",children:m.jsx(fS,{size:48,className:"text-white"})}),m.jsx("h2",{className:"text-4xl font-extrabold mb-4 drop-shadow-md",children:" "}),m.jsx("p",{className:"text-lg text-white/90 leading-relaxed font-light mb-6",children:'"      .     ."'}),m.jsxs("div",{className:"flex gap-4 justify-center text-sm text-white/70",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Ju,{size:14}),"  "]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Ju,{size:14}),"  "]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Ju,{size:14}),"  "]})]})]})]}),m.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 bg-pink-50/30",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"lg:hidden text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-primary rounded-2xl rotate-3 flex items-center justify-center mx-auto mb-3 shadow-lg shadow-pink-200",children:m.jsx(fS,{size:32,className:"text-white -rotate-3"})}),m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),m.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),m.jsxs("div",{className:"hidden lg:block mb-8",children:[m.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"  "}),m.jsx("p",{className:"text-gray-500",children:"       ."})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"flex bg-gray-50 p-1 m-2 rounded-2xl",children:[m.jsx("button",{onClick:()=>{x("phone"),E(""),B(null)},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all shadow-sm ${v==="phone"?"bg-white text-primary shadow":"bg-transparent text-gray-500 hover:text-gray-700"}`,children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(mS,{size:18}),"  "]})}),m.jsx("button",{onClick:()=>{x("email"),E(""),B(null)},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all shadow-sm ${v==="email"?"bg-white text-primary shadow":"bg-transparent text-gray-500 hover:text-gray-700"}`,children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(hS,{size:18})," "]})})]}),m.jsxs("div",{className:"p-6 md:p-8 space-y-5",children:[z&&m.jsxs("div",{className:"bg-red-50 border-r-4 border-red-500 p-4 rounded-xl text-xs text-red-700 flex items-center gap-3 animate-fade-in",children:[m.jsx(_3,{size:20,className:"flex-shrink-0"}),m.jsx("span",{children:z})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:v==="phone"?" ":" "}),m.jsxs("div",{className:"relative group",children:[m.jsx("input",{type:v==="phone"?"tel":"email",value:I,onChange:se=>E(se.target.value),placeholder:v==="phone"?": 09121234567":"example@gmail.com",className:"w-full pl-4 pr-11 py-4 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 focus:border-primary focus:ring-4 focus:ring-primary/10 outline-none transition-all text-left font-medium dir-ltr",dir:"ltr"}),m.jsx("div",{className:"absolute right-4 top-4 text-gray-400 group-focus-within:text-primary transition-colors",children:v==="phone"?m.jsx(mS,{size:20}):m.jsx(hS,{size:20})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-2 mr-1",children:" "}),m.jsxs("div",{className:"relative group",children:[m.jsx("input",{type:k?"text":"password",value:S,onChange:se=>O(se.target.value),placeholder:"",className:"w-full pl-11 pr-11 py-4 rounded-2xl border border-gray-200 bg-gray-50 text-gray-900 focus:border-primary focus:ring-4 focus:ring-primary/10 outline-none transition-all text-left font-medium dir-ltr",dir:"ltr"}),m.jsx("div",{className:"absolute right-4 top-4 text-gray-400 group-focus-within:text-primary transition-colors",children:m.jsx(gp,{size:20})}),m.jsx("button",{onClick:()=>C(!k),className:"absolute left-4 top-4 text-gray-400 hover:text-gray-600 focus:outline-none",children:k?m.jsx(S3,{size:20}):m.jsx(I3,{size:20})})]})]})]}),m.jsxs("button",{onClick:_e,disabled:j,className:"w-full bg-primary text-white py-4 rounded-2xl font-bold text-lg shadow-lg shadow-pink-200 hover:shadow-xl hover:bg-pink-700 transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:active:scale-100",children:[j?m.jsx(yp,{className:"animate-spin"}):P==="login"?m.jsx(N3,{size:20}):m.jsx(Ju,{size:20}),P==="login"?"  ":"  "]}),m.jsxs("div",{className:"pt-2 text-center",children:[m.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[P==="login"?"  ":"  ",m.jsx("button",{onClick:()=>{T(P==="login"?"register":"login"),B(null)},className:"font-bold text-primary hover:underline mx-1 text-sm",children:P==="login"?" ":""})]}),m.jsxs("div",{className:"relative flex py-2 items-center",children:[m.jsx("div",{className:"flex-grow border-t border-gray-200"}),m.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-400 text-[10px] uppercase tracking-wider",children:"  "}),m.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),m.jsxs("button",{onClick:Ve,disabled:j,className:"w-full bg-white text-gray-700 py-3 rounded-2xl font-bold border-2 border-gray-100 hover:bg-gray-50 hover:border-gray-200 transition-colors flex items-center justify-center gap-2 text-sm mt-2",children:[m.jsx(Nh,{size:18}),"   "]})]})]})]}),m.jsxs("div",{className:"text-center mt-8",children:[m.jsxs("p",{className:"text-gray-400 text-xs",children:[" : ",Qv]}),m.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[m.jsx("a",{href:"https://github.com/MrV006",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-gray-800 transition-colors",title:"GitHub",children:m.jsx(cS,{size:18})}),m.jsx("a",{href:"tel:09902076468",className:"text-gray-300 hover:text-primary transition-colors",title:"Contact Developer",children:m.jsx(pS,{size:18})})]})]})]})})]})},bV=document.getElementById("root");if(!bV)throw new Error("Could not find root element to mount to");const Wve=Yv.createRoot(bV);Wve.render(m.jsx(D.StrictMode,{children:m.jsx(qve,{})}));
